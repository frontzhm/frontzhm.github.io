<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="frontzhm, zhm, huahua, hua_hua" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="hello world">
<meta property="og:type" content="website">
<meta property="og:title" content="花花的博客">
<meta property="og:url" content="http://yoursite.com/page/11/index.html">
<meta property="og:site_name" content="花花的博客">
<meta property="og:description" content="hello world">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="花花的博客">
<meta name="twitter:description" content="hello world">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/11/"/>





  <title> 花花的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?60f2cb5747a596a24f2a053f1650c30b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">花花的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/12/baby_breakfast_eg/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花花的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/10/12/baby_breakfast_eg/" itemprop="url">
                  快手早餐的例子
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-12T09:46:45+08:00">
                2018-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/baby/" itemprop="url" rel="index">
                    <span itemprop="name">baby</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/10/12/baby_breakfast_eg/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/10/12/baby_breakfast_eg/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="快手早餐合集例子-8-8"><a href="#快手早餐合集例子-8-8" class="headerlink" title="快手早餐合集例子[8-8]"></a>快手早餐合集例子[8-8]</h1><h2 id="胡萝卜土豆香菇丝（提前泡发）"><a href="#胡萝卜土豆香菇丝（提前泡发）" class="headerlink" title="胡萝卜土豆香菇丝（提前泡发）"></a>胡萝卜土豆香菇丝（提前泡发）</h2><ol>
<li>提前泡发干贝和香菇</li>
<li>胡萝卜，土豆，刀豆切成丝，时间长就泡在水里<br>上面两步可以提前做，放入冰箱里</li>
<li>泡好的香菇切成丝，干贝捏碎</li>
<li>倒油，加上所有素材，炒一会，倒入香菇水闷会，然后放盐出锅</li>
</ol>
<h2 id="西蓝花胡萝卜"><a href="#西蓝花胡萝卜" class="headerlink" title="西蓝花胡萝卜"></a>西蓝花胡萝卜</h2><ol>
<li>西蓝花切小朵，胡萝卜切小块，锅里煮一会，颜色变深捞起来<br>上面可以做好，放冰箱</li>
<li>放油，放素材，炒一会，加水焖一会，然后放盐出锅</li>
</ol>
<h2 id="鸡蛋牛奶饼（有点麻烦）"><a href="#鸡蛋牛奶饼（有点麻烦）" class="headerlink" title="鸡蛋牛奶饼（有点麻烦）"></a>鸡蛋牛奶饼（有点麻烦）</h2><p>1.磕个鸡蛋，蛋清蛋黄分开<br>2.蛋黄里加10g面粉，一点糖，一点油拌匀<br>上面的做好后，可以放进冰箱里，顺手准备好 煎锅 打蛋器</p>
<ol start="3">
<li>向蛋黄糊里加一点牛奶拌匀</li>
<li>打发蛋白到提起来有小弯钩</li>
<li>蛋黄糊倒到蛋清里搅拌</li>
<li>煎锅，小火，面糊凝固后翻面继续，熟了就可以了</li>
</ol>
<h2 id="饭饼"><a href="#饭饼" class="headerlink" title="饭饼"></a>饭饼</h2><ol>
<li>生菜 小白菜 口蘑(白色的小蘑菇)洗干净,放锅里煮熟</li>
<li>捞出来切成菜碎，和饭拌匀<br>上面可以放入冰箱</li>
<li>在上面的饭里，磕一个鸡蛋，加点香菇粉(今良)拌成糊状</li>
<li>小火，倒入米饭糊，煎到两面发黄就可以了</li>
</ol>
<h2 id="燕麦糊"><a href="#燕麦糊" class="headerlink" title="燕麦糊"></a>燕麦糊</h2><ol>
<li>燕麦片，水，红枣，少量杏仁，预约煮粥<br>上面可以提前约</li>
<li>用料理棒打成糊</li>
</ol>
<h2 id="菠菜虾仁蛋饼（有点难度）"><a href="#菠菜虾仁蛋饼（有点难度）" class="headerlink" title="菠菜虾仁蛋饼（有点难度）"></a>菠菜虾仁蛋饼（有点难度）</h2><ol>
<li>菠菜焯水2分钟，剥虾仁，</li>
<li>菜和虾仁剁碎<br>上面可以放入冰箱</li>
<li>磕一个鸡蛋，加点油，加点香菇粉拌匀</li>
<li><p>倒入不粘锅晃动，摊开之后开小火，未凝固的时候放入菜和虾仁，<br>(如果凝固了再卷,蛋卷会散开),立刻卷起(锅里放油会让蛋皮硬点更容易卷起),用铲子一边卷那种,卷完之后推到中间,在上方轻按,按不出蛋液,表面变黄就熟了</p>
</li>
<li><p>蛋卷切块</p>
</li>
</ol>
<h2 id="馒头片（）"><a href="#馒头片（）" class="headerlink" title="馒头片（）"></a>馒头片（）</h2><ol start="0">
<li>冷冻馒头 蛋液</li>
<li>冷冻馒头蒸熟后放着不用管了（九州丰园儿童馒头 12元）<!-- 做好可以放冰箱 --></li>
<li>馒头切片，鸡蛋打散，馒头两面沾了蛋液之后放进不粘锅，多翻几次</li>
</ol>
<p>例子1:  </p>
<pre><code>1. 前一晚大米燕麦葡萄干洗干净,加入煮粥的水,电炖盅预约煮粥  
1. 胡萝卜土豆去皮擦成丝 刀豆切成细丝 都泡在水里  
1. 干贝 干香菇泡水
1. 然后这两份放进冰箱冷藏

早上起来   
1. 蒸锅开火 鹌鹑蛋洗干净放入蒸锅
1. 打开炖盅 让粥凉一下
1. 泡好的香菇切成丝 干贝捏碎
1. 锅里倒油,胡萝卜 土豆 干贝 香菇 刀豆 放进锅里翻炒,加入泡香菇的水焖一会
1. 焖一会的功夫里,把宝宝餐盘拿出来 盛点粥 搞点水果 剥鹌鹑蛋
1. 再去炒锅那,(小宝宝的不放盐,单独盛出来)放点盐炒匀
1. 配图 
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make1.png" alt="breakfast_make1"></p>
<p>例子2:  </p>
<pre><code>1. 晚上煮一小锅水
1. 西蓝花洗干净切小朵 胡萝卜切小块,
1. 放进锅里煮一会
1. 玉米洗干净放入炖盅(不加水),预约煮饭程序
1. 西蓝花,胡萝卜变深色之后捞出来
1. 鸡蛋分开蛋清和蛋黄,蛋黄加10g面粉,加少量木糖醇,一点油,搅拌匀
1. 将上面西蓝花,胡萝卜 蛋清 混合蛋黄 装3个碗保鲜膜冷藏在冰箱
1. 准备好煎锅 炒锅 打蛋器就去睡觉啦
</code></pre><p>早上起来:  </p>
<pre><code>1. 开一袋纯牛奶,蛋黄糊里加点牛奶拌匀
1. 打发蛋清(电动打蛋器)到提起来有小弯钩,而且变成白色(记得蛋清的碗大一点不然蛋清要飞)
1. 蛋黄糊倒入蛋清里翻拌,倒入煎锅小火
1. 西蓝花胡萝卜倒入炒锅翻炒,加水焖一会
1. 玉米拿出来凉一下 准备点水果 
1. 面糊凝固之后翻面,继续
1. 牛奶微波炉热下
1. 西蓝花和胡萝卜加少量盐拌匀(小宝宝的不加盐)
1. 饼切块装盘
1. 准备好啦!!
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make2.png" alt="breakfast_make2"></p>
<p>例子3:  </p>
<pre><code>1. 晚上剩了些杂粮饭
1. 煮一小锅水,生菜 小白菜 口蘑(白色的小蘑菇)洗干净,放锅里煮熟
1. 红枣洗干净,去掉核
1. 炖盅里加燕麦片和水,放入红枣和少量坚果(比如杏仁),预约煮粥
1. 菜应该熟了捞出来,用厨房切菜器(20元)切成菜碎,然后和饭拌匀,保鲜膜包起来放冰箱
1. 准备好丸子锅(30元)和料理棒,睡觉

早上啦:  

1. 取出米饭打入一个鸡蛋
1. 加少量香菇粉(今良香菇粉 30元),拌成糊状
1. 丸子锅刷油,小火,倒入米饭糊,要满一点不然不圆
1. 稍微凝固一点就可以翻动,开始丑,但是慢慢就变成圆形啦
1. 表面发黄,能轻松转动就好了
1. 燕麦糊用料理棒(手持料理棒 100元)打成糊,可以用硅胶软吸管(39元)
1. 好啦!
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make3.png" alt="breakfast_make3"></p>
<p>例子4:  </p>
<pre><code>1. 煮一锅水,菠菜洗干净,焯水2分钟
1. 剥出几个虾仁(其他熟肉也可以),然后和菜一起剁碎,包上保鲜膜送冰箱
1. 红薯去皮切小块,炖盅加大米.水.红薯,预约煮粥
1. 准备好不粘锅和炒锅,睡觉

早上: 
1. 白玉菇和韭菜黄洗干净切段(小宝宝的切更碎)
1. 倒油,翻炒,韭黄香气浓郁的时候加少量水焖一会
1. 鸡蛋打散加少量油,加少量香菇粉(今良香菇粉 33),拌匀,
1. 倒入不粘锅晃动,均匀摊开后开小火,蛋液上层[未凝固时]均匀铺上菠菜虾仁(如果凝固了再卷,蛋卷会散开),立刻卷起(锅里放油会让蛋皮硬点更容易卷起),用铲子一边卷那种,卷完之后推到中间,在上方轻按,按不出蛋液,表面变黄就熟了
1. 炒锅那边加少量盐拌匀(崽崽的不加),盛出来
1. 蛋卷切块
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/egg_juan_make.png" alt="蛋卷制作"><br><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make4.png" alt="breakfast_make4"></p>
<p>例子5:  </p>
<pre><code>1. 晚上没弄啊...
早上:
1. 煮一锅水
1. 开一袋纯牛奶
1. 水开之后倒入即食燕麦片(丹蒂燕麦片 55元)
1. 面粉加少量牛奶,加一半蛋液,搅拌成顺滑的面糊
1. 不粘锅倒油,倒入面糊自然摊开
1. 洋葱,白菜洗干净,切成小块(菜刀沾水切洋葱不会辣眼睛)
1. 燕麦煮5分钟就可以拿下来了
1. 换小炒锅,炒蔬菜,焖一会
1. 燕麦倒入搅拌机,加入一段香蕉,倒入剩余牛奶,搅拌成糊(手持料理棒 100元)
1. 小饼别忘记翻身,熟了就取出来切块
1. 焖软的菜推到一边,倒入剩余一半蛋液,开大火,蛋液基本凝固时炒匀
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make5.png" alt="breakfast_make5"></p>
<p>例子6:</p>
<pre><code>1. 冷冻馒头蒸熟,放着不用管了(12元 九洲丰园儿童馒头)
1. 一小块南瓜,洗干净,去皮,切小块
1. 红枣洗净,用辅食剪去掉核,条状
1. 大米加入水 南瓜 红枣,放炖盅,预约煮粥
1. 准备好小汤锅 不粘锅 料理棒 ,睡觉
早上
1. 小汤锅烧一锅水
1. 馒头切片在蛋液里浸泡
1. 不粘锅倒油,小火,放入馒头片
1. 菠菜切碎,放入小汤锅的开水里,焯2分钟
1. 馒头片一面金黄之后翻面,把剩余的蛋液也倒进去
1. 菠菜捞出来,放芝麻油和盐(宝宝的不放),拌花生酱(三添花生酱 14元)
1. 取出粥放入料理棒,搅拌
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make6.png" alt="breakfast_make6"></p>
<p>例子7： </p>
<pre><code>1. 煮一锅水
1. 洗净菜花，剪成花状
1. 冷冻杂菜（10元 超市可购 里面各种胡萝卜丁 豌豆 土豆丁）放入水中，放入菜花，煮半熟
1. 鸡脯切成小块，放入姜片和少量酒（都可不加），捞出杂菜和菜花，两个碗覆盖保鲜膜冷藏
1. 大米和黑米洗净，预约煮粥
1. 准备两个可以炒菜的锅子，睡觉

早上：
1. 番茄切成小块，锅里倒油放入番茄翻炒
1. 拿走姜片，鸡肉冲洗干净，加入少量淀粉抓匀
1. 番茄变软之后加入菜花，加少量水焖一会
1. 鸡肉倒入另一个锅里翻炒，变色之后加入杂菜翻炒
1. 盛粥，菜花，胸脯
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make7.png" alt="breakfast_make7">  </p>
<p>例子8： </p>
<pre><code>1. 大米淘洗干净，倒掉水，冷冻（冷冻不是冷藏）
1. 干贝和干香菇泡水
1. 鸡翅从冷冻室拿到冷藏室，准备汤锅，睡觉

早上：
1. 煮一锅水，备菜
1. 洗干净济柴，什么都不加，直接蒸
1. 香菇切成丝，干贝捏碎
1. 准备好胡萝卜，平菇，菜花，西芹，油麦菜（可以自由搭配）
1. 开水化开大米冰块，煮开后加入香菇干贝，再加入除了叶子菜外的配菜，中小火慢煮
1. 鸡翅蒸十分钟左右，能轻松插穿即可
1. 粥最后加入叶子菜，大火煮两分钟，尝尝米粒软烂没有
1. 加入少量芝麻油盛出来，自带鲜咸，不用调味
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make8.png" alt="breakfast_make8">  </p>
<p>例子9： </p>
<pre><code>1. 牛奶热10秒微微温
1. 加0.5g干酵母（1元 安琪酵母），充分搅拌溶解
1. 分离鸡蛋，蛋黄加入牛奶，加入面粉搅拌，成为顺滑的面糊
1. 西葫芦，白菜，胡萝卜洗净，加入汤锅焯熟，取出来切成丁
1. 以上冷藏
1. 大米，燕麦，葡萄干洗净，加水预约煮粥
1. 准备好四孔锅（多孔早餐锅 40元），睡了


早上：
1. 面糊加入果泥（鲁娃娃果汁泥 58元），搅拌均匀
1. 四孔锅，倒入面糊，摊匀（占2孔），在第三个孔里倒入蛋清，未凝固的时候加入蔬菜丁，快凝固时加入海苔碎，然后翻面
1. 注意面饼凝固时多翻面
1. 粥盛出来，饼也是，蛋清小披萨也好了
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make9.png" alt="breakfast_make9"></p>
<p>例子10： </p>
<pre><code>1. 烧一锅水，年糕和胡萝卜擦成粗丝（年糕只能吃少量 多功能切菜器30元），白玉菇切细，剥点毛豆切碎（必须切碎）
1. 先放毛豆煮，毛豆基本熟了再放胡萝卜和白玉菇焯一下，捞出来，冷藏
1. 红薯切块放锅里不加水，预约煮饭程序
1. 年糕泡在冷水里
1. 准备不粘锅和料理棒睡觉



早上：
1. 白菜洗净切丝
1. 锅里倒油，放入年糕，加入所有蔬菜翻炒，加点水焖一会
1. 一个鸡蛋打散，在锅里推出一块空间，倒入蛋液，大火至鸡蛋凝固，炒匀
1. 开一带牛奶，微波加热
1. 红薯取出来，加入牛奶，搅拌成奶糊
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make10.png" alt="breakfast_make10"></p>
<p>例子11： </p>
<pre><code>1. 烧一锅水，白菜胡萝卜白玉菇洗净,切好
1. 几个河虾去壳取肉
1. 蔬菜焯熟,捞出来,和⤵虾子一起剁成碎末
1. 菜肉碎 和 60g剩米饭冷藏
1. 准备不粘锅，可以蒸的容器，玉米面






早上：
1. 米饭加入鸡蛋搅拌均匀，然后加入虾肉菜碎
1. 加入少量银鱼粉调味（小宝宝可不加 南日小杂海银鱼 50元）
1. 锅里倒油，倒入米饭糊，整理摊平
1. 表面也基本凝固时翻面（别急着翻 容易碎）
1. 容器加入玉米面，倒入牛奶（也可以用水），搅拌至没有大颗粒，上蒸锅，蒸一会之后把结块的地方拌开
1. 米饭饼取出来切成想要的形状，装盘
1. 玉米糊倒出来（如果太浓可以再加液体）
1. 切水果
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make11.png" alt="breakfast_make11">  </p>
<p>例子12： </p>
<pre><code>1. 干木耳、干贝放入炖盅
1. 切四片土豆也放入炖盅
1. 大米糙米洗净加水放入另一个炖盅
1. 两个小炖盅预约煮粥
1. 准备不粘锅和研磨碗，睡觉



早上：
1. 捞出炖盅里的食材，用研磨碗磨烂，加入一个鸡蛋搅拌均匀
1. 锅里倒油，放小火，倒入土豆泥（一小片 一小片摊开，像一个个饼）
1. 粥盛出来，加一点芝麻粉和小麦胚芽（可以不加），放小水果
1. 饼底面凝固的时候就可以翻面，多翻几次到表面微黄即可
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make12.png" alt="breakfast_make12"></p>
<p>例子13： </p>
<pre><code>1. 白菜切成适合宝宝吃的大小，冷藏
1. 干贝泡水，冷藏
1. 燕麦加水预约煮粥
1. 准备好丸子锅（章鱼小丸子机 40元），炒菜锅，擦丝器
1. 准备半个土豆和一个湿香菇





早上：
1. 土豆擦成细丝（不要提前擦丝泡水 多功能切菜器30元），然后切短一点
1. 丸子锅刷油，放入浅浅一层土豆丝压紧，土豆丝饼勤翻身
1. 鲜香菇切片（干香菇提前泡发）
1. 白菜、干贝、香菇下油锅翻炒，加水焖一会，一个鸡蛋打散，放进锅里，稍微凝固后炒匀
1. 各种装盘，然后放个小水果
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make13.png" alt="breakfast_make13"></p>
<p>例子14： </p>
<pre><code>1. 煮一锅水，白菜菠菜洗净，口蘑洗净切片（那种白色蘑菇）
1. 蘑菇白菜菠菜放进锅里煮熟
1. 大米放入炖盅洗净
1. 胡萝卜切片，切碎之后放入炖盅，加几粒干贝，预约煮粥
1. 煮熟的蔬菜加入拉拉神器（厨房切菜器 20元）切成菜碎，加保鲜膜冷藏
1. 准备一个不粘锅 两个鸡蛋 睡觉


早上：
1. 鸡蛋打散
1. 锅里刷油，蛋液倒入后摊开，冷藏的蔬菜铺在中间
1. 边缘凝固、中间未凝固时开始卷起，有点像街边的卷饼，慢慢卷起来，卷完之后推到中间，多翻几次身，按压时不出蛋液就好了
1. 洗水果（圆水果要切开），蛋卷取出切好，粥盛出来
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make14.png" alt="breakfast_make14"></p>
<p>例子15： </p>
<pre><code>1. 三文鱼放进冷藏室解冻
1. 杂粮洗净（大米燕麦小米黑米等），放去核的红枣
1. 另一个炖盅放玉米（不加水），预约煮粥
1. 准备擦丝板（多功能切菜器 30元）和不粘锅，sleep



早上：
1. 三文鱼切成厚度一致的鱼片
1. 锅里倒油（稍微多点），放入鱼片，小火
1. 记得翻面，很容易熟
1. 煎鱼的时候切好胡萝卜细丝，秋葵切片（横着切 有小花 好看），黄瓜切丝
1. 鱼两面发黄就熟了，盛出来，锅里的油直接放入蔬菜翻炒
1. 加少量水和盐，焖一会（宝宝不加盐）
1. 各种装盘，玉米切小段
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make15.png" alt="breakfast_make15"></p>
<p>例子16： </p>
<pre><code>1. 调味牛排提前解冻（小宝宝可换成鸡胸肉）
1. 意面泡水
1. 准备好汤锅，不粘锅睡觉



早上：
1. 煮一锅水烧开，加入油和盐（小宝宝不加盐）
1. 切几片土豆先煮，切点胡萝卜西蓝花，一起煮
1. 泡好的意面放进去，一家人要整整齐齐
1. 锅里刷油放入牛排，小火，两面变色后取出来切小，重新放进锅里煎熟
1. 西蓝花煮熟捞出，牛排捞出
1. 锅里倒入一些番茄酱（冠农番茄丁 8元），倒入煮好的意面，拌匀即可
1. 胡萝卜土豆捞出来戳碎（小宝宝碾成泥），可以搞一个小团子装盘，再倒牛奶装盘
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make16.png" alt="breakfast_make16"></p>
<p>例子17： </p>
<pre><code>1. 杂粮洗净加水（黑米 燕麦 糙米），加入去核红枣
1. 另一个炖盅放几片胡萝卜，不加水，预约煮粥
1. 准备不粘锅，搅拌棒，鸡蛋面粉韭菜牛奶，睡觉



早上：
1. 面粉10g
1. 加入牛奶搅拌成糊，放置一旁（水也可以）
1. 韭菜洗净切碎，加入面糊里，炖盅的胡萝卜拿出来，放进面糊戳碎，加入鸡蛋搅拌成稀面糊
1. 锅里倒油，倒入面糊摊开，小火，凝固后翻面，直至两面都熟
1. 杂粮倒进搅拌棒（手持料理棒 200元），搅拌成糊，洗点水果，蛋饼切块
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make17.png" alt="breakfast_make17"></p>
<p>例子18： </p>
<pre><code>1. 玉米洗净切段放入炖盅，不加水
1. 南瓜去皮去瓤放入炖盅，不加水
1. 意面泡水
1. 准备青菜、豆腐、口蘑、牛奶、猕猴桃、鸡蛋
1. 一个汤锅，一个炒锅

早上：
1. 汤锅烧水，水烧开放意面煮，还有放豆腐
1. 青菜洗净切碎，口蘑洗净切碎
1. 锅里倒油，放入青菜口蘑翻炒，豆腐捞出来，放进来戳碎
1. 鸡蛋分离出蛋黄，蛋黄打散倒入锅里，凝固后戳碎，加少许水焖一会
1. 意面捞出来倒进锅里，加少量酱油调味（小宝宝不加）
1. 取出南瓜捣成泥，加牛奶搅匀成汤状，玉米拿出来，猕猴桃切片
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make18.png" alt="breakfast_make18"></p>
<p>例子19： </p>
<pre><code>1. 半个土豆切滚刀块，放进水里泡着
1. 冷冻鸡翅放入冷藏室解冻
1. 燕麦葡萄干洗净加水，大炖盅,预约煮粥
1. 准备炒锅，空气炸锅（没有的话全蒸）
1. 鸡蛋放在煮蛋器上

早上：
1. 开启煮蛋器
1. 青薯角鸡翅加油盐抓匀（小宝宝不加盐），放进空气炸锅200度10分钟
1. 豆苗摘嫩的部分洗净，锅里倒油翻炒
1. 炸锅10分钟到了之后全部翻面再来十分钟
1. 菜捞出来，粥盛出来，鸡蛋剥出蛋黄放进粥里，搅碎拌匀，再弄点水果
1. 锅里挤点番茄酱（笑厨 2元），加少量糖和水炒匀（看娃口味，可以不加糖），
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make19.png" alt="breakfast_make19"></p>
<p>例子20： </p>
<pre><code>1. 冷冻馒头蒸熟后放着不用管了（九州丰园儿童馒头 12元）
1. 干贝泡发
1. 准备不粘锅 汤锅 白菜香菇胡萝卜鸡蛋

早上：
1. 白菜香菇胡萝卜洗净切碎
1. 泡发的干贝捏碎
1. 锅里倒油，放入胡萝卜香菇干贝翻炒，加一大碗水煮汤
1. 馒头切片，鸡蛋打散，馒头两面沾了蛋液之后放进不粘锅，多翻几次
1. 汤那边，都煮软之后加入白菜，剩余的蛋液淋在汤里，少量银鱼粉（银鱼粉 45元）调味
1. 生粉加水调成芡水，倒进汤里，让汤稠厚
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make20.png" alt="breakfast_make20"></p>
<p>例子21： </p>
<pre><code>1. 15g面粉，少量少量加水至粘稠的糊状
1. 一个鸡蛋分离蛋清蛋黄，蛋黄和面糊搅拌均匀
1. 面糊和蛋清分开冷藏
1. 准备土豆胡萝卜口蘑圣女果
1. 四孔锅，汤锅，电动打蛋器，手持料理棒


早上：
1. 土豆胡萝卜口蘑切碎，丁状
1. 汤锅放入小块黄油融化，放入蔬菜丁翻炒，加水煮汤
1. 取出面糊，加入果泥（鲁娃娃果汁泥），搅拌拌匀后，用打蛋器打发至有小弯钩
1. 面糊倒入蛋清中，上下翻拌均匀
1. 四孔锅里刷油倒入面糊，底面凝固后翻面，多翻动至两面金黄，
1. 煮开后放入圣女果，中火，煮到粘稠状用打蛋器打成糊，滤掉大颗粒即可
1. 松饼熟后取出，再来点水果
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make21.png" alt="breakfast_make21"></p>
<p>例子22： </p>
<pre><code>1. 冷冻馒头蒸熟后放着不用管了（九州丰园儿童馒头 12元）
1. 干贝泡发
1. 准备不粘锅 汤锅 白菜香菇胡萝卜鸡蛋

早上：
1. 白菜香菇胡萝卜洗净切碎
1. 泡发的干贝捏碎
1. 锅里倒油，放入胡萝卜香菇干贝翻炒，加一大碗水煮汤
1. 馒头切片，鸡蛋打散，馒头两面沾了蛋液之后放进不粘锅，多翻几次
1. 汤那边，都煮软之后加入白菜，剩余的蛋液淋在汤里，少量银鱼粉（银鱼粉 45元）调味
1. 生粉加水调成芡水，倒进汤里，让汤稠厚
</code></pre><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/baby/breakfast_make22.png" alt="breakfast_make22"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/06/cnzz/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花花的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/09/06/cnzz/" itemprop="url">
                  网站加cnzz
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-06T09:58:54+08:00">
                2018-09-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/统计/" itemprop="url" rel="index">
                    <span itemprop="name">统计</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/06/cnzz/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/09/06/cnzz/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="cnzz"><a href="#cnzz" class="headerlink" title="cnzz"></a>cnzz</h1><p>cnzz就是统计数据用的，统计pv，uv，甚至某个按钮的点击次数。</p>
<h2 id="网站的添加步骤"><a href="#网站的添加步骤" class="headerlink" title="网站的添加步骤"></a>网站的添加步骤</h2><ol>
<li><a href="https://web.umeng.com" target="_blank" rel="noopener">去网站注册账号</a>，然后添加网站</li>
<li>获取代码，在body前添加脚本，注意一个域名对应一个id，也就是一个域名对应一个脚本</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//s22.cnzz.com/z_stat.php?id=你的id&amp;web_id=你的id"</span> <span class="attr">language</span>=<span class="string">"JavaScript"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol>
<li>网站上会显示站长统计四个字或者图标，嫌不好看的话,我用的是字</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[title=站长统计]</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="事件的统计"><a href="#事件的统计" class="headerlink" title="事件的统计"></a>事件的统计</h2><ol>
<li><p><a href="http://open.cnzz.com/a/new/trackevent/" target="_blank" rel="noopener">某个按钮的点击次数统计的话</a>，先上面的步骤，然后</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 记得添加id</span></span><br><span class="line">someElement.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    _czc.push([<span class="string">'_trackEvent'</span>, <span class="string">'今日头条里点击下载app次数'</span>, <span class="string">'下载'</span>, <span class="string">'app'</span>,<span class="string">'5'</span>,<span class="string">'wx-share'</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 具体介绍:<br> 各参数含义如下：<br> category：事件类别，必填项，表示事件发生在谁身上，如“视频”、“小说”、“轮显层”等等。<br> action：事件操作，必填项，表示访客跟元素交互的行为动作，如”播放”、”收藏”、”翻层”等等。<br> label：事件标签，选填项，用于更详细的描述事件，从各个方面都可以，比如具体是哪个视频，哪部小说，翻到了第几层等等。<br> value：事件值，选填项，整数型，用于填写打分型事件的分值，加载时间型事件的时长，订单型事件的价格等等。<br> nodeid：div元素id，选填项，填写网页中的div元素id值，用于在“用户视点”功能上重绘元素的事件发生情况。<br> 查看API详细说明</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_czc.push([<span class="string">"_trackEvent"</span>,category,action,label,value,nodeid]);</span><br></pre></td></tr></table></figure>
</li>
<li><p>记得左上角下拉箭头切换不同域名，以及左侧菜单栏的受访页面可以进行搜索，也可以右上角站点设置里排除某些页面和ip</p>
</li>
</ol>
<h2 id="改进的代码"><a href="#改进的代码" class="headerlink" title="改进的代码"></a>改进的代码</h2><p>因为经常在测试和正式环境切换,而且每次加css样式隐藏图标也是神烦. 稍微改进一丢丢.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * cnzz数据统计</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> isProduction = <span class="regexp">/正式域名/</span>.test(<span class="built_in">window</span>.location.href)</span><br><span class="line"><span class="comment">// !!!域名和脚本id必须一一对应</span></span><br><span class="line"><span class="keyword">var</span> productionCnzzId = <span class="string">'12899668'</span></span><br><span class="line"><span class="keyword">var</span> testCnzzId = <span class="string">'126326337'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> statScript = <span class="built_in">document</span>.body.appendChild(<span class="built_in">document</span>.createElement(<span class="string">'script'</span>))</span><br><span class="line">statScript.src = isProduction ? (<span class="string">'//s22.cnzz.com/z_stat.php?id='</span>+productionCnzzId+<span class="string">'&amp;web_id='</span>+productionCnzzId) : (<span class="string">'//s22.cnzz.com/z_stat.php?id='</span>+testCnzzId+<span class="string">'&amp;web_id='</span>+testCnzzId)</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 用延时是因为cnzz脚本插入需要时间</span></span><br><span class="line">    statScript.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 隐藏统计字</span></span><br><span class="line">        <span class="built_in">document</span>.querySelector(<span class="string">'a[title="站长统计"]'</span>).style.cssText = <span class="string">'position: absolute; visibility: hidden; bottom: 0; z-index: -1;'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/06/promise2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花花的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/09/06/promise2/" itemprop="url">
                  promise再总结总结
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-06T09:58:54+08:00">
                2018-09-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/06/promise2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/09/06/promise2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h1><p>语法:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="请求"><a href="#请求" class="headerlink" title="请求"></a>请求</h2><p>对XHPHttpRequest的封装<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Return a new promise.</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Do the usual XHR stuff</span></span><br><span class="line">    <span class="keyword">var</span> req = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    req.open(<span class="string">'GET'</span>, url);</span><br><span class="line"></span><br><span class="line">    req.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// This is called even on 404 etc</span></span><br><span class="line">      <span class="comment">// so check the status</span></span><br><span class="line">      <span class="keyword">if</span> (req.status == <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="comment">// Resolve the promise with the response text</span></span><br><span class="line">        resolve(req.response);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Otherwise reject with the status text</span></span><br><span class="line">        <span class="comment">// which will hopefully be a meaningful error</span></span><br><span class="line">        reject(<span class="built_in">Error</span>(req.statusText));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Handle network errors</span></span><br><span class="line">    req.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      reject(<span class="built_in">Error</span>(<span class="string">"Network Error"</span>));</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Make the request</span></span><br><span class="line">    req.send();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>改良版:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fetch(url)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getJSON</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> get(url).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>)</span>&#123;response.json()&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="回调函数单参数的处理"><a href="#回调函数单参数的处理" class="headerlink" title="回调函数单参数的处理"></a>回调函数单参数的处理</h2><p>比如:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">oneParam</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> data.toString()</span><br><span class="line">&#125;</span><br><span class="line">getJSON(url1).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> oneParam(data)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 简化为,接下去的值就是oneParam(data)</span></span><br><span class="line">getJSON(url1).then(oneParam)</span><br></pre></td></tr></table></figure></p>
<h2 id="扩充下回调函数参数个数的问题"><a href="#扩充下回调函数参数个数的问题" class="headerlink" title="扩充下回调函数参数个数的问题"></a>扩充下回调函数参数个数的问题</h2><p>其实遇到回调函数有时候自带参数,有时候不带参数,有时候有一个参数,有时候有多个参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fn()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>仔细看上面的,其实 <code>a(fn)</code>等价于<code>fn()</code></p>
<p>常用在数组里</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item ++</span><br><span class="line">&#125;</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> log(item)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 简化为</span></span><br><span class="line">arr.forEach(log)</span><br><span class="line"><span class="comment">// 同理</span></span><br><span class="line">arr.map(log)</span><br></pre></td></tr></table></figure>
<h2 id="并发请求的处理"><a href="#并发请求的处理" class="headerlink" title="并发请求的处理"></a>并发请求的处理</h2><p>假设story.json的内容是<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"heading"</span>: <span class="string">"&lt;h1&gt;A story about something&lt;/h1&gt;"</span>,</span><br><span class="line">  <span class="string">"chapterUrls"</span>: [</span><br><span class="line">    <span class="string">"chapter-1.json"</span>,</span><br><span class="line">    <span class="string">"chapter-2.json"</span>,</span><br><span class="line">    <span class="string">"chapter-3.json"</span>,</span><br><span class="line">    <span class="string">"chapter-4.json"</span>,</span><br><span class="line">    <span class="string">"chapter-5.json"</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="forEach的坑"><a href="#forEach的坑" class="headerlink" title="forEach的坑"></a>forEach的坑</h3><p>首先想到forEach</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">getJSON(<span class="string">'story.json'</span>)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// return res.chapterUrls.forEach(url=&gt;getJSON(url).then(content=&gt;addToHtml(content)))</span></span><br><span class="line">    <span class="comment">// 还记得单参数的事吧</span></span><br><span class="line">    <span class="keyword">return</span> res.chapterUrls.forEach(<span class="function"><span class="params">url</span>=&gt;</span>getJSON(url).then(addToHtml))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>这里的坑在于发出请求了,但是因为响应时间不一定,所以插入的时候可能章节2在章节1前面</p>
<h3 id="用用map和Promise-all"><a href="#用用map和Promise-all" class="headerlink" title="用用map和Promise.all"></a>用用map和Promise.all</h3><p>组成一个promise的数组,等到都下载都完成了再添加到html中.<br>Promise.all就是所有promise都变成fulfilled状态了才继续.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">getJSON(<span class="string">'story.json'</span>)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// return res.chapterUrls.forEach(url=&gt;getJSON(url).then(content=&gt;addToHtml(content)))</span></span><br><span class="line">    <span class="comment">// 还记得单参数的事吧</span></span><br><span class="line">    <span class="comment">// return Promise.all(res.chapterUrls.map(url=&gt;getJSON(url)))</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.all(res.chapterUrls.map(getJSON))</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">resArr</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// resArr.forEach(charter=&gt;addToHtml(charter))</span></span><br><span class="line">    resArr.forEach(addToHtml)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>但这里还有个不尽如人意的地方,就是虽然并发请求,但是等到所有请求结果了才继续下一步,理想情况是章节1结果来了直接显示,章节2结果来了只要章节1来了就可以显示,以此类推</p>
<h3 id="用用迭代"><a href="#用用迭代" class="headerlink" title="用用迭代"></a>用用迭代</h3><p>先说说简单的迭代<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">var</span> sum</span><br><span class="line">arr.forEach(<span class="function"><span class="params">item</span>=&gt;</span>sum+=item)</span><br><span class="line"><span class="comment">// 每经过一项就进行加,变成新的sum</span></span><br><span class="line">arr.reduce(<span class="function">(<span class="params">sum,item</span>)=&gt;</span>(sum+item),sum)</span><br></pre></td></tr></table></figure></p>
<p>这里针对请求可以这样</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sequence = <span class="built_in">Promise</span>.resolve()</span><br><span class="line">getJSON(<span class="string">'story.json'</span>)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> res.chapterUrls.map(getJSON).then(<span class="function"><span class="keyword">function</span>(<span class="params">promiseArr</span>)</span>&#123;</span><br><span class="line">        promiseArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">promise</span>)</span>&#123;</span><br><span class="line">            <span class="comment">// 第一个promise变成fulfilled之后就添加到html</span></span><br><span class="line">            <span class="comment">// 此时sequence变成以下,只有then的状态完成了才能继续下一个addToHtml</span></span><br><span class="line">            sequence = sequence.then(<span class="function"><span class="keyword">function</span>(<span class="params">promise</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> promise</span><br><span class="line">            &#125;).then(addToHtml)</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>用reduce改写下<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">getJSON(<span class="string">'story.json'</span>)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> res.chapterUrls.map(getJSON).then(<span class="function"><span class="keyword">function</span>(<span class="params">promiseArr</span>)</span>&#123;</span><br><span class="line">        promiseArr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">sequence,promise</span>)</span>&#123;</span><br><span class="line">            <span class="comment">// 第一个promise变成fulfilled之后就添加到html</span></span><br><span class="line">            <span class="comment">// 此时sequence变成以下,只有then的状态完成了才能继续下一个addToHtml</span></span><br><span class="line">            <span class="keyword">return</span> sequence.then(<span class="function"><span class="keyword">function</span>(<span class="params">promise</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> promise</span><br><span class="line">            &#125;).then(addToHtml)</span><br><span class="line">        &#125;,<span class="built_in">Promise</span>.resolve())</span><br><span class="line">        </span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h2 id="以上来源于google的文档"><a href="#以上来源于google的文档" class="headerlink" title="以上来源于google的文档"></a>以上来源于google的文档</h2><p>可以看<a href="https://developers.google.cn/web/fundamentals/primers/promises#xmlhttprequest_promise" target="_blank" rel="noopener">google的文档</a>.<br><a href="https://github.com/googlesamples/web-fundamentals/tree/gh-pages/fundamentals/primers" target="_blank" rel="noopener">例子在github</a></p>
<p>说下小白的步步操作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/googlesamples/web-fundamentals</span><br><span class="line">cd web-fundamentals</span><br><span class="line">npm install anywhere -g</span><br><span class="line">anywhere</span><br><span class="line"><span class="meta">#</span> 点击具体的文件就可以看到效果了如async-best-example.html</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/26/ossGuide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花花的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/26/ossGuide/" itemprop="url">
                  oss的初接触
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-26T18:38:13+08:00">
                2018-01-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/26/ossGuide/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/01/26/ossGuide/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="oss的好处"><a href="#oss的好处" class="headerlink" title="oss的好处"></a>oss的好处</h1><p>刚接触的oss，很多东西不清楚，这篇仅为了记录以及加强理解，如有不对之处，欢迎指正。</p>
<p>oss我目前知道的好处有两个:</p>
<ol>
<li>静态资源生成链接，静态网站可以进行托管</li>
<li>用户可以上传图片到这里,从而节约自己服务器的存储空间</li>
</ol>
<h2 id="oss的简单使用流程"><a href="#oss的简单使用流程" class="headerlink" title="oss的简单使用流程"></a>oss的简单使用流程</h2><ol>
<li><a href="https://www.aliyun.com/?spm=5176.8466032.0.0.1547dd226xaauo" target="_blank" rel="noopener">阿里云的官网</a>注册账号</li>
<li>点击这里<a href="http://omizt4opc.bkt.clouddn.com/ossSavePath.png" target="_blank" rel="noopener">开通对象存储</a></li>
<li><a href="http://omizt4opc.bkt.clouddn.com/newBucket.png" target="_blank" rel="noopener">新建bucket</a></li>
<li><a href="https://help.aliyun.com/document_detail/31925.html?spm=5176.doc31923.6.635.Vkezrm" target="_blank" rel="noopener">js直传的介绍</a>和<a href="https://docs-aliyun.cn-hangzhou.oss.aliyun-inc.com/internal/oss/0.0.4/assets/sample/oss-h5-upload-js-direct.zip?spm=5176.doc31925.2.6.VaGr7O&amp;file=oss-h5-upload-js-direct.zip" target="_blank" rel="noopener">下载源码</a></li>
<li><a href="http://omizt4opc.bkt.clouddn.com/ossKeys.png" target="_blank" rel="noopener">得到accessKeys</a></li>
<li><a href="http://omizt4opc.bkt.clouddn.com/osssCross.png" target="_blank" rel="noopener">设置可跨域</a></li>
<li><a href="http://omizt4opc.bkt.clouddn.com/ossLink.png" target="_blank" rel="noopener">可以直接在控制台上传文件</a>，在右边的设置里就可以看到链接如<code>http://hanfiles.oss-cn-beijing.aliyuncs.com/3.jpg</code></li>
<li>打开刚下载的源码，打开<code>upload.js</code>，设置成自己的，比如我的host就是<code>http://hanfiles.oss-cn-beijing.aliyuncs.com</code>，然后在浏览器中打开<code>index.html</code>，点击选择图片 =》 上传图片，然后在控制台里看，就发现图片上传上去了~实际生产情况，一般是前端不公开accessId和key，又后端处理，具体参照官网。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">accessid= <span class="string">'6MKOqxGiGU4AUk44'</span>;</span><br><span class="line">accesskey= <span class="string">'ufu7nS8kS59awNihtjSonMETLI0KLy'</span>;</span><br><span class="line">host = <span class="string">'http://post-test.oss-cn-hangzhou.aliyuncs.com'</span>;</span><br></pre></td></tr></table></figure>
<p>付费情况我没具体细究，但好像看到如果每小时访问量低于万次应该是不收费的，估摸着我的也不会超过十次=。=</p>
<h2 id="使用ossUpload"><a href="#使用ossUpload" class="headerlink" title="使用ossUpload"></a>使用ossUpload</h2><p><a href="https://github.com/aliyun-UED/oss-js-upload" target="_blank" rel="noopener">官方demo</a>，<a href="https://github.com/frontzhm/ossUpload" target="_blank" rel="noopener">我自己的demo</a></p>
<ul>
<li><a href="https://ram.console.aliyun.com/#/notActive" target="_blank" rel="noopener">开通RAM</a></li>
<li>打开 RAM 控制台</li>
<li>新建一个用户</li>
<li>为用户添加 AliyunSTSAssumeRoleAccess 权限</li>
<li>为用户创建一对 AK, 记录下这个 AK, 控制台不会为你保存</li>
<li>新建一个角色</li>
<li>为角色添加 AliyunOSSFullAccess 权限, 记录下角色 ARN</li>
</ul>
<blockquote>
<p><a href="http://blog.csdn.net/qq_38125123/article/details/73870667" target="_blank" rel="noopener">小程序图片上传阿里OSS使用方法</a><br><a href="https://ask.dcloud.net.cn/article/983" target="_blank" rel="noopener">使用plus.uploader上传图片到阿里云OSS</a><br><a href="https://github.com/aliyun-UED/oss-js-upload" target="_blank" rel="noopener">官方demo</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/22/useZipInWindow/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花花的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/22/useZipInWindow/" itemprop="url">
                  window中使用zip命令
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-22T16:37:07+08:00">
                2018-01-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux命令/" itemprop="url" rel="index">
                    <span itemprop="name">linux命令</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/22/useZipInWindow/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/01/22/useZipInWindow/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="安装和配置zip"><a href="#安装和配置zip" class="headerlink" title="安装和配置zip"></a>安装和配置zip</h1><ol>
<li>zip命令原作者告知需要<a href="http://gnuwin32.sourceforge.net/downlinks/zip.php" target="_blank" rel="noopener">安装zip命令</a>,点击链接下载安装</li>
<li>记得安装路径,win7默认是<code>C:\Program Files\GnuWin32</code></li>
<li>在<code>我的电脑右键属性-》高级-》环境变量-》系统变量-》选择Path -》编辑</code>,尾部增加<code>;C:\Program Files\GnuWin32\bin;</code>即可</li>
<li>最后别忘了重启电脑</li>
</ol>
<h2 id="zip的命令"><a href="#zip的命令" class="headerlink" title="zip的命令"></a>zip的命令</h2><p>打包并压缩成文件名为 .zip 的文件<code>zip [-选项] [文件名.zip] [文件名]</code></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>demo</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>无参数</td>
<td><code>zip new1.zip my1\*.doc</code></td>
<td>把所有 my1*.doc 的文件打包成一个 new1.zip文件。new1.zip 可以省略扩展名简写成 new1，它会自行默认 .zip 的扩展名。</td>
</tr>
<tr>
<td>-d</td>
<td><code>zip -d new1.zip my18.doc</code></td>
<td>如果当初my18.doc 是压缩在 new1.zip 中的一个文件，现在这条命令把它从压缩文件中抽走并删掉。-d 是删除的意思。</td>
</tr>
<tr>
<td>-g</td>
<td><code>zip -g new1.zip my32.doc</code></td>
<td>如果当初并没有把 my32.doc 压在 new1.zip 里面，现在把它加进去。-g 选项是增加而不要重新产生的意思（grow，长大，这个字母用得比较特别一点）。</td>
</tr>
<tr>
<td>-u</td>
<td><code>zip -u new1.zip my2*.doc</code></td>
<td>如果当初 my2*.doc都已经压缩进 new1.zip 里面了，但是后来 my2*.doc中有几个文件有更改，又不想去找出到底是哪些文件更改了，这条命令请系统自行帮助检查，更改过的才更新到压缩，否则就不必动。-u 是更新的意思。</td>
</tr>
<tr>
<td>-r</td>
<td><code>zip -r new2.zip mydir</code></td>
<td>如果 mydir 是一个目录名称，它会把整个目录的所有文件压缩成一个 new2.zip 文件。-r 选项是压缩子目录的意思。</td>
</tr>
</tbody>
</table>
<h2 id="unzip的命令"><a href="#unzip的命令" class="headerlink" title="unzip的命令"></a>unzip的命令</h2><p>我觉得常用的<code>unzip x.zip</code>解压到当前文件夹,<code>unzip x.zip -d 新的目录</code> 解压到指定目录</p>
<blockquote>
<p><a href="https://www.zhihu.com/question/39964192" target="_blank" rel="noopener">知乎上的回答</a><br><a href="http://blog.csdn.net/jlnhyd/article/details/3956407" target="_blank" rel="noopener">zip压缩命令</a></p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/02/wepy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花花的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/02/wepy/" itemprop="url">
                  小程序更舒服的编程方式wepy
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-02T15:35:53+08:00">
                2018-01-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/" itemprop="url" rel="index">
                    <span itemprop="name">小程序</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/02/wepy/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2018/01/02/wepy/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><p><a href="https://tencent.github.io/wepy/document.html#/" target="_blank" rel="noopener">wepy文档</a></p>
<ul>
<li>js文件的优化,分开了data,methods,周期函数</li>
<li>支持组件化开发,组件里面添加新特性:computed,watcher,mixins,通信等</li>
<li>支持单文件开发.wpy包含json / wxml / wxss / js</li>
<li>支持npm别的包 / 默认用了babel, 使用es6 </li>
<li>优化原生api: setData / wx.request / 事件参数 / 组件替代模板</li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/01/02/wepy/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/26/mobileSpecialCss/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花花的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/26/mobileSpecialCss/" itemprop="url">
                  手机端一些特殊的css属性
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-26T13:45:31+08:00">
                2017-12-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/26/mobileSpecialCss/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/12/26/mobileSpecialCss/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>经常踩到一些移动端css的坑,发现是一些特殊属性,遂记录一下<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/-webkit-tap-highlight-color" target="_blank" rel="noopener">mdn文档</a></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/12/26/mobileSpecialCss/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/25/baiduMap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花花的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/25/baiduMap/" itemprop="url">
                  百度地图api的使用
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-25T17:21:38+08:00">
                2017-12-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/25/baiduMap/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/12/25/baiduMap/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>百度地图api简单的使用<br>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/12/25/baiduMap/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/25/wechatCamera/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花花的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/25/wechatCamera/" itemprop="url">
                  微信的图像开发接口
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-25T14:08:35+08:00">
                2017-12-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/25/wechatCamera/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/12/25/wechatCamera/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h2><ul>
<li>必须配置微信参数,且在jsApiList配置你要的功能</li>
<li>vue历史模式下微信配置的坑</li>
<li><a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421141115" target="_blank" rel="noopener">微信拍照的官方文档</a></li>
<li>出错优先查看官方文档,附录5-常见错误及解决方法</li>
<li>wx.chooseImage 得到localid的数组</li>
<li>wx.getLocalImgData 将localid的图片转化得到其base64,但不同系统的手机转化成的base64略有不同,需要处理才能使用</li>
<li>wx.uploadImage 上传图片(locaiid)到微信服务器 返回其serverid,也就是media_id, 三天之后失效, 可以通过get请求<code>http://file.api.weixin.qq.com/cgi-bin/media/get?access_token=ACCESS_TOKEN&amp;media_id=MEDIA_ID</code> 下载图片(地址栏输入也可以直接下载)</li>
<li>wx.downloadImage下载微信服务器的图片(serverid)到本地,返回其本地的localid</li>
<li>wx.previewImage 预览图片,需要http链接或者本地图片的localid(图片必须在本地)</li>
<li>使用微信拍照和服务器两种交互的方法</li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2017/12/25/wechatCamera/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/05/webpack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="花花的博客">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/12/05/webpack/" itemprop="url">
                  webpack且学且用
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-05T17:10:55+08:00">
                2017-12-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/构建工具/" itemprop="url" rel="index">
                    <span itemprop="name">构建工具</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/12/05/webpack/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/12/05/webpack/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><a href="https://doc.webpack-china.org/guides/getting-started" target="_blank" rel="noopener">官网网址</a><br>webpack 通俗的说, 能让html文件只需加载一个js文件, 这个js文件可以引入这个页面需要其他的文件,包括css,字体等等, 能极好的控制资源.</p>
<h2 id="安装和配置"><a href="#安装和配置" class="headerlink" title="安装和配置"></a>安装和配置</h2><ul>
<li>全局安装<code>npm install webpack -g</code></li>
<li>推荐本地项目安装<code>npm install webpack --save-dev</code>，在运行此命令之前， 项目必须有<code>package.json</code>文件，可以用<code>npm init --y</code>快速生成</li>
<li>配置文件 webpack.config.js, 运行<code>webapck</code>相当于运行<code>webapck --config webpack.config.js</code>,也就是如果配置文件名字更换的话,相应的改命令,顺手</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"start"</span>: <span class="string">"webpack --config webpack.config.js"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>懒得配置环境的时候, 可以用全局的<code>webpack entry文件 output文件</code></li>
</ul>
<h2 id="输入和输出"><a href="#输入和输出" class="headerlink" title="输入和输出"></a>输入和输出</h2><p>解释下部分概念:</p>
<ul>
<li>单入口文件: 就是entry只有一个文件, eg:<code>entry:&#39;./index.js&#39;</code>或者<code>entry:[&#39;./index.js&#39;,&#39;index2.js&#39;]</code>或者<code>entry:{main:&#39;./main.js&#39;}</code> 特别注意的是数组的情况,其实<code>[&#39;./index.js&#39;,&#39;index2.js&#39;]</code>还是合并成一个入口文件,对象的时候key值就是output里的[name]</li>
<li>多入口文件: 就是entry多个文件 ,eg:<code>entry:{main1:&#39;./index.js&#39;,main2:&#39;index2.js&#39;}</code>其实除了这种情况就是单入口文件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">    app: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    print: <span class="string">'./src/print.js'</span></span><br><span class="line">&#125;,</span><br><span class="line">output: &#123;</span><br><span class="line">    filename: <span class="string">'[name].bundle.js'</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="处理css"><a href="#处理css" class="headerlink" title="处理css"></a>处理css</h2><p>js文件中引入css文件,<code>import &#39;./index.css&#39;</code>,处理这样的情况:<br>对css文件进行<code>npm install --save-dev style-loader css-loader</code>, 后者可以在html的head插入style标签, 前者可以将css代码转换到js中, 除此之外还能自动热替换(前提是开启了热替换)和自动引用<code>file-loader</code>处理图片和字体后的地址</p>
<h2 id="处理图片"><a href="#处理图片" class="headerlink" title="处理图片"></a>处理图片</h2><p>js文件中引入图片,<code>import myImg from &#39;./icon.png&#39;</code>, 处理这样的情况:<br>对图片文件进行<code>npm install --save-dev file-loader</code>,可以将import的图片自动生成到output的path,且css-loader能自动获取到生成后的地址<br>对于字体的处理也是一样的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                <span class="string">'style-loader'</span>,</span><br><span class="line">                <span class="string">'css-loader'</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.(png|svg|jpg|gif)$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                <span class="string">'file-loader'</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.(woff|woff2|eot|ttf|otf)$/</span>,</span><br><span class="line">            use: [</span><br><span class="line">                <span class="string">'file-loader'</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="自动生成html文件"><a href="#自动生成html文件" class="headerlink" title="自动生成html文件"></a>自动生成html文件</h2><p><code>npm install --save-dev html-webpack-plugin</code>默认会生成output.path/index.html,里面自动插入output.filname的js文件.<br>好处是,如果修改output.filename则不需要手动修改output.path/index.html</p>
<h2 id="自动清除dist"><a href="#自动清除dist" class="headerlink" title="自动清除dist"></a>自动清除dist</h2><p><code>npm install clean-webpack-plugin --save-dev</code>会每次清除dist文件夹, 这样dist不会一直残留以前的文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin([<span class="string">'dist'</span>]),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">        title: <span class="string">'Output Management'</span></span><br><span class="line">    &#125;)</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<h2 id="增加source-map"><a href="#增加source-map" class="headerlink" title="增加source-map"></a>增加source-map</h2><p>让代码出bug的时候找到原始的文件以及出错的行数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">devtool: <span class="string">'inline-source-map'</span></span><br></pre></td></tr></table></figure>
<h2 id="代码变动自动编译"><a href="#代码变动自动编译" class="headerlink" title="代码变动自动编译"></a>代码变动自动编译</h2><p>这里有三种方式,</p>
<ul>
<li>直接使用命令<code>webpack --watch</code>,当entry的文件及依赖的文件发生变化时自动编译. 依旧生成dist文件</li>
<li><code>npm install --save-dev webpack-dev-server</code>为你提供了一个简单的 web 服务器，自动打开浏览器。本地不生成dist文件夹</li>
<li><code>npm i --save-dev webpack-dev-middleware</code>是一个中间件容器(wrapper)，它将通过 webpack 处理后的文件发布到一个服务器(server)。在内部它使用 webpack-dev-server ，然而，它可以作为一个单独的包来提供，可以进行更多的自定义设置来实现更多需求。</li>
</ul>
<p>主要说下<code>webpack-dev-server</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置服务器的根目录</span></span><br><span class="line">devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">'./dist'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置脚本</span></span><br><span class="line"><span class="string">"start"</span>: <span class="string">"webpack-dev-server --open"</span>,</span><br></pre></td></tr></table></figure>
<h2 id="模块热替换-HMR"><a href="#模块热替换-HMR" class="headerlink" title="模块热替换(HMR)"></a>模块热替换(HMR)</h2><p>上面的是代码变动,自动重新编译,但还需要刷新页面. 而热替换是,自动编译之后自动更新相应的地方,不需要手动刷新.不是百分之百的准,可以看官网.<br>启用此功能实际上相当简单。就是更新 webpack-dev-server 的配置，和使用 webpack 内置的 HMR 插件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">'./dist'</span>,</span><br><span class="line">    hot: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.NamedModulesPlugin(),</span><br><span class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<h2 id="tree-shaking"><a href="#tree-shaking" class="headerlink" title="tree shaking"></a>tree shaking</h2><p>摇晃大树,这样死去的叶子就掉了.<br>代码里就是:打包的时候不打包未被引用的代码.前提是必须使用 ES2015 模块语法（即 import 和 export）。<br>用到的插件是<code>npm i --save-dev uglifyjs-webpack-plugin</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">  <span class="keyword">new</span> UglifyJSPlugin()</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="分离生产环境和开发环境配置"><a href="#分离生产环境和开发环境配置" class="headerlink" title="分离生产环境和开发环境配置"></a>分离生产环境和开发环境配置</h2><p>开发环境(development)和生产环境(production)的构建目标差异很大。在开发环境中，我们需要具有强大的、具有实时重新加载(live reloading)或热模块替换(hot module replacement)能力的 source map 和 localhost server。而在生产环境中，我们的目标则转向于关注更小的 bundle，更轻量的 source map，以及更优化的资源，以改善加载时间。由于要遵循逻辑分离，我们通常建议为每个环境编写彼此独立的 webpack 配置。</p>
<p>用到的插件<code>npm install --save-dev webpack-merge</code></p>
<p>webpack.config.js =&gt;  webpack.common.js + webpack.dev.js + webpack.prod.js</p>
<p>更换脚本</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="string">"dev"</span>: <span class="string">"webpack-dev-server --open --config webpack.dev.js"</span>,</span><br><span class="line"><span class="string">"build"</span>: <span class="string">"webpack --config webpack.prod.js"</span>,</span><br></pre></td></tr></table></figure>
<h3 id="指定环境"><a href="#指定环境" class="headerlink" title="指定环境"></a>指定环境</h3><p>许多 library 将通过与 <code>process.env.NODE_ENV</code> 环境变量关联，以决定 library 中应该引用哪些内容。例如，当不处于生产环境中时，某些 library 为了使调试变得容易，可能会添加额外的日志记录(log)和测试(test)。其实，当使用 <code>process.env.NODE_ENV === &#39;production&#39;</code> 时，一些 library 可能针对具体用户的环境进行代码优化，从而删除或添加一些重要代码。<br>使用 webpack 内置的 <code>DefinePlugin</code> 为所有的依赖定义这个变量：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    <span class="comment">// 设置之后在src的js文件里,打印`process.env.NODE_ENV`就是设置的`production`.</span></span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">        <span class="string">'process.env'</span>: &#123;</span><br><span class="line">            <span class="string">'NODE_ENV'</span>: <span class="built_in">JSON</span>.stringify(<span class="string">'production'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>一般在生产环境中配置,代码中<code>process.env.NODE_ENV!== &#39;production&#39;</code> 就表示在开发环境中<br>配置分离的示例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.common.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> CleanWebpackPlugin = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: <span class="string">'./src/index.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'./dist'</span>),</span><br><span class="line">    filename: <span class="string">'[name].bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin([<span class="string">'dist'</span>]),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      title: <span class="string">'Production'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line"><span class="comment">// webpack.dev.js</span></span><br><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>)</span><br><span class="line"><span class="keyword">const</span> common = <span class="built_in">require</span>(<span class="string">'./webpack.common'</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(common, &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.NamedModulesPlugin(),</span><br><span class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">  ],</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">'./dist'</span>,</span><br><span class="line">    hot: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  devtool: <span class="string">'inline-source-map'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// webpack.prod.js</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">'webpack-merge'</span>)</span><br><span class="line"><span class="keyword">const</span> common = <span class="built_in">require</span>(<span class="string">'./webpack.common'</span>)</span><br><span class="line"><span class="keyword">const</span> UglifyJSPlugin = <span class="built_in">require</span>(<span class="string">'uglifyjs-webpack-plugin'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = merge(common, &#123;</span><br><span class="line">  <span class="comment">// 生产环境下推荐使用map, 有利于调试源码</span></span><br><span class="line">  devtool: <span class="string">'source-map'</span>,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> UglifyJSPlugin(&#123;</span><br><span class="line">      sourceMap: <span class="literal">true</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">      <span class="string">'process.env'</span>: &#123;</span><br><span class="line">        <span class="string">'NODE_ENV'</span>: <span class="built_in">JSON</span>.stringify(<span class="string">'production'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="代码分离"><a href="#代码分离" class="headerlink" title="代码分离"></a>代码分离</h2><p>代码分离是 webpack 中最引人注目的特性之一。此特性能够把代码分离到不同的 bundle 中，然后可以按需加载或并行加载这些文件。代码分离可以用于获取更小的 bundle，以及控制资源加载优先级，如果使用合理，会极大影响加载时间。</p>
<p>有三种常用的代码分离方法：</p>
<ul>
<li>入口起点：使用 entry 配置手动地分离代码。这个不用说.</li>
<li>防止重复：使用 webpack内置的CommonsChunkPlugin 去重和分离 chunk。</li>
<li>动态导入：通过模块的内联函数调用来分离代码。</li>
</ul>
<h3 id="防止重复"><a href="#防止重复" class="headerlink" title="防止重复"></a>防止重复</h3><p><a href="http://foio.github.io/wepack-code-spliting/" target="_blank" rel="noopener">webpack代码分割技巧</a>讲解的很酷.<br><a href="https://github.com/ShowJoy-com/showjoy-blog/issues/7" target="_blank" rel="noopener">看懂前端脚手架你需要这篇webpack</a></p>
<p><a href="https://doc.webpack-china.org/plugins/commons-chunk-plugin" target="_blank" rel="noopener"><code>CommonsChunkPlugin</code></a> 插件可以将公共的依赖模块提取到已有的入口 chunk 中，或者提取到一个新生成的 chunk。</p>
<h4 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h4><ul>
<li>chunk: webpack将多个模块打包之后的代码集合,<code>entry:{index:&#39;index.js&#39;,math:&#39;math.js&#39;}</code>index和math就是chunk</li>
<li>Runtime: 非源码部分的引导模块代码，都属于 webpack 运行时。(用了CommonsChunkPlugin,可以简单看下源码,就明白了)</li>
<li>normal chunk: 普通块不包含运行时runtime，只包含一系列模块。但是在应用运行时，普通块可以动态的进行加载。通常会以jsonp的包装方式进行加载。而code splitting主要使用的就是普通块。</li>
<li>initial chunk: 官方对initial chunk的定义非常简单，初始块就是普通块，跟普通块相同的是同样不包含运行时runtime，不同的是初始块是计算在初始加载过程时间内的。在介绍入口块entry chunk的时候也介绍过，一旦入口块失去了运行时，就会变成初始块。这个转变经常由CommonsChunkPlugin插件实现。</li>
<li>Entry Chunk: 包含一系列模块代码，以及webpack的运行时(Runtime)代码，一个页面只能有一个Entry Chunk，并且需要先于Normal Chunk载入</li>
<li>CommonsChunkPlugin的本质: 将多个入口中的公有代码和Runtime(运行时)抽取到父节点, 如果是单入口文件则会将Runtime(运行时)抽取出来</li>
</ul>
<p>可以这样理解,没有CommonsChunkPlugin,各入口生成的文件互不相干<br>有了CommonsChunkPlugin,将各入口(chunks的配置项的,没有chunks默认是所有)生成的文件Runtime和共同部分扔出来了,扔到哪个文件,就看配置了,有可能放在哪个入口文件里,有可能新建一个文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    name: <span class="string">'common'</span> <span class="comment">// chunk的名称，如果这个chunk已经在entry中定义，该chunk会被直接提取；如果没有定义，则生成一个空的chunk来提取其他所有chunk的公共代码。</span></span><br><span class="line">    <span class="comment">// chunks: [] // 如果被忽略，所有的，所有的 入口chunk (entry chunk) 都会被选择。</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">entry: &#123;</span><br><span class="line">    index: <span class="string">'./src/index.js'</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    name: <span class="string">'common'</span> <span class="comment">// 指定公共 bundle 的名称。</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 生成 common.bundle.js(包括Runtime)和index.bundle.js</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">entry: &#123;</span><br><span class="line">    index: <span class="string">'./src/index.js'</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    name: <span class="string">'index'</span> <span class="comment">// 指定公共 bundle 的名称。</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 生成 index.bundle.js(包括Runtime)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">entry: &#123;</span><br><span class="line">    index: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    math: <span class="string">'./src/math.js'</span>,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    name: <span class="string">'common'</span> <span class="comment">// 指定公共 bundle 的名称。</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 生成 common.bundle.js(包括Runtime和index,math的共同部分)和indx.bundle.js ,math.bundle.js</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">entry: &#123;</span><br><span class="line">    index: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    math: <span class="string">'./src/math.js'</span>,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">    name: <span class="string">'math'</span> <span class="comment">// 指定公共 bundle 的名称。</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 生成 math.bundle.js(包括Runtime和index的共同部分)和indx.bundle.js</span></span><br></pre></td></tr></table></figure>
<h4 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h4><ol>
<li>将很少变化的常用库（react、lodash、redux）等与业务代码分割：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">    app: <span class="string">"./app.js"</span>,</span><br><span class="line">    vendor: [<span class="string">"lodash"</span>,<span class="string">"jquery"</span>],</span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;<span class="attr">name</span>: <span class="string">"vendor"</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成vendor.bundle.js(包括Runtime+ 共同部分()+ vendor)  app.bundle.js</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>提取共有代码</li>
</ol>
<p>提取math和print的公共代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">entry:&#123;</span><br><span class="line">    math: <span class="string">'./math.js'</span>,</span><br><span class="line">    print: <span class="string">'./print.js'</span>,</span><br><span class="line">    index: <span class="string">'./index.js'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;<span class="attr">name</span>: <span class="string">"common"</span>,<span class="attr">chunks</span>:[<span class="string">'math'</span>,<span class="string">'print'</span>]&#125;)</span><br><span class="line"><span class="comment">// index.bundle.js(自己的Runtime normal)   common.bundle.js(后两者的Runtime和公共代码)  math.bundle.js print.bundle.js</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>提取Runtime的代码</li>
</ol>
<p>这种情况下，当业务代码发生变化，而库代码没有改动时，vendor的chunkhash不会变<br>当names是数组的时候,数组的最后一项默认就是Runtime</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">    app: <span class="string">"./app.js"</span>,</span><br><span class="line">    vendor: [<span class="string">"lodash"</span>,<span class="string">"jquery"</span>],</span><br><span class="line">&#125;,</span><br><span class="line">output: &#123;</span><br><span class="line">    filename: <span class="string">'[name].[chunkhash].js'</span>,</span><br><span class="line">    path: <span class="string">'build/'</span>,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;<span class="attr">names</span>: [<span class="string">"vendor"</span>,<span class="string">"runtime"</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// runtime.bundle.js vendor.bundle.js app.bundle.js</span></span><br></pre></td></tr></table></figure>
<h3 id="动态导入"><a href="#动态导入" class="headerlink" title="动态导入"></a>动态导入</h3><p>当涉及到动态代码拆分时，webpack 提供了两个类似的技术。对于动态导入，第一种，也是优先选择的方式是，使用符合 ECMAScript 提案 的 import() 语法。第二种，则是使用 webpack 特定的 require.ensure。让我们先尝试使用第一种……</p>
<h4 id="import-语法"><a href="#import-语法" class="headerlink" title="import 语法"></a>import 语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    filename: <span class="string">'[name].bundle.js'</span>,</span><br><span class="line">    <span class="comment">// 这里使用了 chunkFilename，它决定非入口 chunk 的名称。</span></span><br><span class="line">    chunkFilename: <span class="string">'[name].bundle.js'</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 在注释中使用了 webpackChunkName。这样做会导致我们的 bundle 被命名为 lodash.bundle.js ，而不是 [id].bundle.js</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "lodash" */</span><span class="string">'lodash'</span>).then(<span class="function"><span class="params">_</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">    element.innerHTML = _.join([<span class="string">'hello'</span>, <span class="string">'webpack'</span>], <span class="string">''</span>)</span><br><span class="line">    <span class="keyword">return</span> element</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="string">'An error occurred while loading the component'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">getComponent().then(<span class="function"><span class="params">component</span>=&gt;</span><span class="built_in">document</span>.body.appendChild(component))</span><br></pre></td></tr></table></figure>
<p>import() 语句恰好会返回 promises,可以用类似 babel 的预处理器(pre-processor)启用 async 函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// async 返回的promise对象的状态默认是resolved, 值是函数的返回值</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getComponent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 在注释中使用了 webpackChunkName。这样做会导致我们的 bundle 被命名为 lodash.bundle.js ，而不是 [id].bundle.js </span></span><br><span class="line">    <span class="keyword">const</span> _ = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: "lodash" */</span><span class="string">'lodash'</span>)</span><br><span class="line">    <span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">    element.innerHTML = _.join([<span class="string">'hello'</span>, <span class="string">'webpack'</span>], <span class="string">''</span>)</span><br><span class="line">    <span class="keyword">return</span> element</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">getComponent().then(<span class="function"><span class="params">component</span>=&gt;</span><span class="built_in">document</span>.body.appendChild(component))</span><br></pre></td></tr></table></figure>
<h2 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h2><p>懒加载或者按需加载，需要的时候加载相应代码. </p>
<p>其实就是上面的import,但是一般不用库,比如点击按钮的时候,打印文字.这里的打印是另外的js,只有用户点击的时候才需要</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.createElement(<span class="string">'button'</span>)</span><br><span class="line">btn.innerHTML = <span class="string">'click view control'</span></span><br><span class="line">btn.onclick = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="comment">/* webpackChunkName:print */</span><span class="string">'./print'</span>).then(<span class="function"><span class="params">module</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">module</span>.default()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(btn)</span><br><span class="line"></span><br><span class="line"><span class="comment">// print.js</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'The print.js module has loaded! See the network tab in dev tools...'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Button Clicked: Here\'s "some text"!'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面会先生成print.bundle.js,但是页面不会加载.再点击的时候才会加载此文件</p>
<p>懒加载的两个条件,才能生成[name].bundle.js</p>
<ul>
<li>chunkFilename: ‘[name].bundle.js’</li>
<li>import(/<em> webpackChunkName: “lodash” </em>/‘lodash’)</li>
</ul>
<h2 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2><p>通过必要的配置，以确保 webpack 编译生成的文件能够被客户端缓存，而在文件内容变化后，能够请求到新的文件。<br>其实就是每次生成文件的时候加一个随机码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    <span class="comment">// filename: '[name].bundle.js'  没错加了个chunkhash</span></span><br><span class="line">    filename: <span class="string">'[name].[chunkhash].js'</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<p>可以看到，bundle 的名称是它内容（通过 hash）的映射。如果我们不做修改，然后再次运行构建，我们的文件名按照期望，依然保持不变。然而，如果我们再次运行，可能会发现情况并非如此.这也是因为 webpack 在入口 chunk 中，包含了某些样板(boilerplate)，特别是 runtime 和 manifest。（译注：样板(boilerplate)指 webpack 运行时的引导代码）,于是需要提取模板</p>
<h3 id="提取模板"><a href="#提取模板" class="headerlink" title="提取模板"></a>提取模板</h3><p>CommonsChunkPlugin 可以用于将模块分离到单独的文件中。然而 CommonsChunkPlugin 有一个较少有人知道的功能是，能够在每次修改后的构建结果中，将 webpack 的样板(boilerplate)和 manifest 提取出来。通过指定 entry 配置中未用到的名称，此插件会自动将我们需要的内容提取到单独的包中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">    index: <span class="string">'./src/index.js'</span></span><br><span class="line">&#125;,</span><br><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin([<span class="string">'dist'</span>]),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      title: <span class="string">'Caching'</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// 重点在这里</span></span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'runtime'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// 生成runtime.eeqw83821.js 和index.h32jik32.js</span></span><br></pre></td></tr></table></figure>
<p>将第三方库拧出来,这样只要库代码不动,其chunkhash就不会变化</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">    index: <span class="string">'./src/index.js'</span>,</span><br><span class="line">    vendor: [<span class="string">'lodash'</span>]</span><br><span class="line">&#125;,</span><br><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin([<span class="string">'dist'</span>]),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      title: <span class="string">'Caching'</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// 重点在这里 注意，引入顺序在这里很重要。CommonsChunkPlugin 的 'vendor' 实例，必须在 'runtime' 实例之前引入。</span></span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'vendor'</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'runtime'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// 生成runtime.eeqw83821.js 和index.h32jik32.js vendor.fda788fa.js</span></span><br><span class="line">  <span class="comment">// 等同于new webpack.optimize.CommonsChunkPlugin(&#123; names: ['vendor','runtime'] &#125;)</span></span><br></pre></td></tr></table></figure>
<p>然后,其实是不对的,当index.js再引入别的文件的时候,vendor的hash还是会变化.这是因为每个 module.id 会基于默认的解析顺序(resolve order)进行增量。也就是说，当解析顺序发生变化，ID 也会随之改变。因此，简要概括：</p>
<ul>
<li>index bundle 会随着自身的新增内容的修改，而发生变化。</li>
<li>vendor bundle 会随着自身的 module.id 的修改，而发生变化。</li>
<li>runtime bundle 会因为当前包含一个新模块的引用，而发生变化。</li>
</ul>
<p>第一个和最后一个都是符合预期的行为 – 而 vendor 的 hash 发生变化是我们要修复的。幸运的是，可以使用两个插件来解决这个问题。第一个插件是 NamedModulesPlugin，将使用模块的路径，而不是数字标识符。虽然此插件有助于在开发过程中输出结果的可读性，然而执行时间会长一些。第二个选择是使用 HashedModuleIdsPlugin，推荐用于生产环境构建：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    <span class="keyword">new</span> CleanWebpackPlugin([<span class="string">'dist'</span>]),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      title: <span class="string">'Caching'</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// 该插件会根据模块的相对路径生成一个四位数的hash作为模块id, 建议用于生产环境。</span></span><br><span class="line">    <span class="comment">// 就是这个插件 现在，不管再添加任何新的本地依赖，对于每次构建，vendor hash 都应该保持一致：</span></span><br><span class="line">    <span class="keyword">new</span> webpack.HashedModuleIdsPlugin(),</span><br><span class="line">    <span class="comment">// 重点在这里 注意，引入顺序在这里很重要。CommonsChunkPlugin 的 'vendor' 实例，必须在 'runtime' 实例之前引入。</span></span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'vendor'</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.CommonsChunkPlugin(&#123;</span><br><span class="line">      name: <span class="string">'runtime'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://omizt4opc.bkt.clouddn.com/avatar.jpg"
               alt="frontzhm" />
          <p class="site-author-name" itemprop="name">frontzhm</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">163</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">38</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">52</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">frontzhm</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"frontzhm"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  













  
  

  

  

  

  


  

</body>
</html>
