<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="frontzhm, zhm, huahua, hua_hua" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="hello world">
<meta property="og:type" content="website">
<meta property="og:title" content="èŠ±èŠ±çš„åšå®¢">
<meta property="og:url" content="http://yoursite.com/page/14/index.html">
<meta property="og:site_name" content="èŠ±èŠ±çš„åšå®¢">
<meta property="og:description" content="hello world">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="èŠ±èŠ±çš„åšå®¢">
<meta name="twitter:description" content="hello world">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/14/"/>





  <title> èŠ±èŠ±çš„åšå®¢ </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?60f2cb5747a596a24f2a053f1650c30b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">èŠ±èŠ±çš„åšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/19/python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="èŠ±èŠ±çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/11/19/python/" itemprop="url">
                  pythonçš„ç®€å•å…¥é—¨
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-19T16:36:23+08:00">
                2019-11-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/11/19/python/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2019/11/19/python/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ç”¨-turtle-ç”»ç”»"><a href="#ç”¨-turtle-ç”»ç”»" class="headerlink" title="ç”¨ turtle ç”»ç”»"></a>ç”¨ turtle ç”»ç”»</h2><p>macOS ç»ˆç«¯è¾“å…¥<code>idle3</code>ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªè½¯ä»¶ï¼Œç„¶åæ–°å»ºä¸€ä¸ª<code>xx.py</code>è¾“å…¥ä»¥ä¸‹ï¼Œç„¶å f5ï¼Œå°±èƒ½çœ‹åˆ°å›¾åƒ</p>
<p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/turtle.png" alt="turtle"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line">turtle.bgcolor(<span class="string">'black'</span>) <span class="comment"># æ”¹.å˜ç”»å¸ƒèƒŒæ™¯é¢œè‰²ä¸ºé»‘è‰²</span></span><br><span class="line"><span class="comment"># å¤šè¾¹å½¢</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_polygon</span><span class="params">(sides=<span class="number">6</span>,width=<span class="number">50</span>)</span>:</span></span><br><span class="line">  t = turtle.Turtle()</span><br><span class="line">  t.color(<span class="string">"yellow"</span>)</span><br><span class="line">  <span class="keyword">for</span> side <span class="keyword">in</span> range(sides):</span><br><span class="line">    t.forward(width)</span><br><span class="line">    t.right(<span class="number">360</span>/sides)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># äº”è§’æ˜Ÿ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">star</span><span class="params">(width=<span class="number">50</span>)</span>:</span></span><br><span class="line">  t = turtle.Turtle()</span><br><span class="line">  t.color(<span class="string">"yellow"</span>)</span><br><span class="line">  <span class="keyword">for</span> side <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">    george.forward(width)</span><br><span class="line">    george.right(<span class="number">144</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># èºæ—‹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">helix</span><span class="params">(sides=<span class="number">60</span>,gap=<span class="number">10</span>)</span>:</span></span><br><span class="line">  t = turtle.Turtle()</span><br><span class="line">  t.color(<span class="string">"yellow"</span>)</span><br><span class="line">  <span class="keyword">for</span> side <span class="keyword">in</span> range(sides):</span><br><span class="line">    george.forward(side+gap)</span><br><span class="line">    george.right(<span class="number">90</span>)</span><br><span class="line"></span><br><span class="line">def in_boundary(t)&#123;</span><br><span class="line">  x,y = t.coord()</span><br><span class="line">  <span class="keyword">return</span> <span class="number">-175</span>&lt;x&lt;<span class="number">175</span>  <span class="keyword">and</span> <span class="number">-175</span>&lt;y&lt;<span class="number">175</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># %</span></span><br></pre></td></tr></table></figure>
<h2 id="å‘½ä»¤è¡Œå¼€å¯äº¤äº’æ¨¡å¼"><a href="#å‘½ä»¤è¡Œå¼€å¯äº¤äº’æ¨¡å¼" class="headerlink" title="å‘½ä»¤è¡Œå¼€å¯äº¤äº’æ¨¡å¼"></a>å‘½ä»¤è¡Œå¼€å¯äº¤äº’æ¨¡å¼</h2><p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/python_inactive.png" alt="äº¤äº’æ¨¡å¼"></p>
<p>äº¤äº’æ¨¡å¼é€šå¸¸ç§°ä¸ºâ€œè§£æå™¨â€ï¼Œå¸¸ç”¨æ¥å®éªŒå¾ˆçŸ­çš„ä»£ç ã€‚å¤åˆè¯­å¥ï¼Œéœ€è¦æ‰‹åŠ¨ç¼©è¿›ã€‚<br>äº¤äº’æ¨¡å¼ä¼šæ˜¾ç¤ºå‡½æ•°çš„è¿”å›å€¼ã€‚</p>
<ul>
<li>å»ºä¸€ä¸ª<code>chance.py</code></li>
<li><code>cd å…¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹</code></li>
<li><code>python3</code></li>
<li><code>import chance</code></li>
<li><code>chance.coin_flip()</code></li>
<li><code>exit()</code>ç»ˆæ­¢</li>
</ul>
<p>ï¼ï¼ï¼æ³¨æ„å¿…é¡»åŒä¸ªæ–‡ä»¶å¤¹ï¼Œimport çš„æ—¶å€™æ²¡æœ‰åç¼€<code>.py</code>ï¼Œè°ƒç”¨çš„æ—¶å€™éœ€è¦åŠ æ¨¡å—å<code>xx.method()</code></p>
<h2 id="å‘½ä»¤è¡Œè¿è¡Œæ–‡ä»¶"><a href="#å‘½ä»¤è¡Œè¿è¡Œæ–‡ä»¶" class="headerlink" title="å‘½ä»¤è¡Œè¿è¡Œæ–‡ä»¶"></a>å‘½ä»¤è¡Œè¿è¡Œæ–‡ä»¶</h2><p>å‘½ä»¤è¡Œç›´æ¥è¿è¡Œæ–‡ä»¶ï¼Œä¸èƒ½ç›´æ¥æ˜¾ç¤ºè¿”å›å€¼ï¼Œéœ€è¦é€šè¿‡<code>print</code>ã€‚ï¼Œè¿”å›å€¼å’Œè¾“å‡ºå€¼æœ‰åŒºåˆ«</p>
<ul>
<li>å»ºä¸€ä¸ª<code>chance.py</code></li>
<li><code>python3 xxxxx/chance.py</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name = input(<span class="string">"What's your name?"</span>)</span><br><span class="line">print(<span class="string">"Hello,"</span>, name, <span class="string">"!"</span>)</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°æ²¡æœ‰è¿”å›å€¼å°±æ˜¯<code>None</code></p>
<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><p>print æ‰“å°å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå•å¼•å·ã€åŒå¼•å·éƒ½å¯ä»¥ã€‚<br>å­—ç¬¦ä¸²ä¸­æœ‰å•å¼•å·å’ŒåŒå¼•å·çš„è¯å°±ä½¿ç”¨<code>\</code>ï¼Œ <code>&#39;i\&#39;m hi&#39;</code>ã€‚<br>å¦‚æœå¾ˆå¤šæ¢è¡Œçš„è¯å¯ä»¥<code>print(&quot;&quot;&quot; ...xx ...xx ...xxx &quot;&quot;&quot;)</code>ã€‚</p>
<p>è¡¨æƒ…å­—ç¬¦ä¸²</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unicodedata</span><br><span class="line">unicodedata.lookup(<span class="string">"snake"</span>)</span><br><span class="line"><span class="comment"># ğŸ</span></span><br></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²å’Œæ•°ç»„:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">hello</span><br><span class="line">hell</span><br><span class="line">hel</span><br><span class="line">he</span><br><span class="line">h</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">word</span><span class="params">(str)</span>:</span></span><br><span class="line">  length = len(str)</span><br><span class="line">  <span class="keyword">for</span> index <span class="keyword">in</span> range(length):</span><br><span class="line">    end_pos = length -index</span><br><span class="line">    print(word[<span class="number">0</span>:end_pos])</span><br></pre></td></tr></table></figure>
<h2 id="å­—ç¬¦ä¸²çš„å…¶ä»–æ“ä½œ"><a href="#å­—ç¬¦ä¸²çš„å…¶ä»–æ“ä½œ" class="headerlink" title="å­—ç¬¦ä¸²çš„å…¶ä»–æ“ä½œ"></a>å­—ç¬¦ä¸²çš„å…¶ä»–æ“ä½œ</h2><ul>
<li>å­—ç¬¦ä¸²æ‹¼æ¥<code>f</code>è·Ÿ es6 ç±»ä¼¼çš„æ“ä½œ<code>f&quot;who is {c}&quot;</code></li>
<li>==ã€&lt; å’Œ &gt; ç­‰æ¯”è¾ƒè¿ç®—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸Šçš„æ•ˆæœå’Œæ•°å­—ä¸€æ ·ã€‚A æ˜¯ 65ï¼Œa æ˜¯ 97ã€‚</li>
<li>å­—ç¬¦ä¸²å¯ä»¥è½¬æ¢ä¸ºæ•°å­—<code>int(&#39;1&#39;) float(&#39;1.23&#39;)</code>ï¼Œæ•°å­—å¯ä»¥è½¬åŒ–ä¸ºå­—ç¬¦ä¸²<code>str(1)</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">c=<span class="number">1</span></span><br><span class="line"><span class="comment"># få°±æ˜¯æ ¼å¼åŒ–çš„æ„æ€ï¼Œå°†&#123;&#125;çš„cè½¬æ¢æˆå˜é‡</span></span><br><span class="line"><span class="string">f"who is <span class="subst">&#123;c&#125;</span>"</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="string">f"pi is <span class="subst">&#123;math.pi:<span class="number">.6</span>&#125;</span>"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿”å›ä¸­é—´å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">middle</span><span class="params">(a, b, c)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> b &gt;= a &gt;= c <span class="keyword">or</span> c &gt;= a &gt;= b:</span><br><span class="line">       <span class="keyword">return</span> a</span><br><span class="line">    <span class="keyword">if</span> a &gt;= b &gt;= c <span class="keyword">or</span> c &gt;= b &gt;= a:</span><br><span class="line">       <span class="keyword">return</span> b</span><br><span class="line">    <span class="keyword">if</span> a &gt;= c &gt;= b <span class="keyword">or</span> b &gt;= c &gt;= a:</span><br><span class="line">       <span class="keyword">return</span> c</span><br></pre></td></tr></table></figure>
<h2 id="å¸ƒå°”è¿ç®—"><a href="#å¸ƒå°”è¿ç®—" class="headerlink" title="å¸ƒå°”è¿ç®—"></a>å¸ƒå°”è¿ç®—</h2><p>å¸ƒå°”å€¼ <code>True</code> å’Œ <code>False</code><br>å¸ƒå°”è¿ç®— <code>and or not</code></p>
<p>è¿™äº›è§„åˆ™çš„æœ‰è¶£ç°è±¡æ˜¯ <code>not (x and y)</code> å’Œ <code>(not x) or (not y)</code> ä¸€æ ·ï¼ŒåŒæ ·ï¼Œ<code>not (x or y)</code> å’Œ <code>(not x) and (not y)</code> ä¸€æ ·ã€‚</p>
<ul>
<li>å¯¹äºæ•°å­—ï¼Œé›¶å€¼è¢«è§†ä¸º <code>False</code>ï¼Œæ‰€æœ‰éé›¶å€¼éƒ½è¢«è§†ä¸º <code>True</code>ã€‚</li>
<li>å¯¹äºå­—ç¬¦ä¸²ï¼Œç©ºå­—ç¬¦ä¸²è¢«è§†ä¸º <code>False</code>ï¼Œæ‰€æœ‰éç©ºå­—ç¬¦ä¸²éƒ½è¢«è§†ä¸º <code>True</code>ã€‚</li>
<li>å¯¹äºåˆ—è¡¨ï¼Œç©ºåˆ—è¡¨è¢«è§†ä¸º <code>False</code>ï¼Œæ‰€æœ‰éç©ºåˆ—è¡¨éƒ½è¢«è§†ä¸º <code>True</code>ã€‚</li>
</ul>
<h2 id="åºåˆ—"><a href="#åºåˆ—" class="headerlink" title="åºåˆ—"></a>åºåˆ—</h2><p>å­—ç¬¦ä¸²å’Œåˆ—è¡¨æ˜¯åºåˆ—<br>åœ¨ Python ä¸­ï¼Œåˆ—è¡¨å’Œå­—ç¬¦ä¸²å…·æœ‰ä¸€äº›å…±åŒç‚¹ã€‚å®ƒä»¬éƒ½æ˜¯åºåˆ—ç±»å‹ â€” å®ƒä»¬è¡¨ç¤ºä¸€ç³»åˆ—å€¼ï¼Œè€Œä¸æ˜¯å•ä¸ªå€¼ã€‚å­—ç¬¦ä¸²ä¸­çš„é¡¹ç›®æ˜¯å­—ç¬¦ï¼›åˆ—è¡¨ä¸­çš„é¡¹ç›®å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ã€‚</p>
<ul>
<li><code>ç´¢å¼•æ“ä½œã€åˆ‡ç‰‡æ“ä½œ len å‡½æ•°</code>é€‚ç”¨äºæ‰€æœ‰åºåˆ—ç±»å‹ï¼Œlen è®¡ç®—é•¿åº¦ï¼Œå…¶ä»–ç±»å‹ä¼šæŠ¥é”™ã€‚å¯ä»¥ <code>123[0:2] [1,2,3][0:2]</code>ç›¸å½“ sliceï¼Œåˆ‡ç‰‡æ“ä½œæ°¸è¿œä¸ä¼šå¯¼è‡´ IndexErrorï¼Œå¤šçš„è¯å°±æ˜¯æœ€åä¸€ä¸ªã€‚å¦‚æœ word æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ<code>word[:]</code> å°†æ˜¯ word çš„å‰¯æœ¬ã€‚</li>
<li>å¯ä»¥ä½¿ç”¨ for å¾ªç¯</li>
<li>æ£€æµ‹ä¸€ä¸ªå…ƒç´ åœ¨ä¸åœ¨åºåˆ—é‡Œï¼Œ<code>x in str/list x not in str/list</code></li>
<li>é‡å¤åºåˆ—ï¼Œ<code>&#39;x&#39; * 2 =&gt; &#39;xx&#39;</code>ï¼Œ<code>[&#39;x&#39;]*2 =&gt; [&#39;x&#39;,&#39;x&#39;]</code></li>
<li>å¯ä»¥é€šè¿‡ç´¢å¼•æ‹¿åˆ°å„é¡¹å€¼ï¼Œç´¢å¼•å¯ä»¥æ˜¯è´Ÿçš„ï¼Œ<code>&quot;xx&quot;[0] [12,3][0]</code>ã€‚-1 è¡¨ç¤ºæœ€åä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ-2 è¡¨ç¤ºæœ€åç¬¬äºŒä¸ªå­—ç¬¦ä¸²ã€‚</li>
<li>éƒ½æœ‰ join çš„æ–¹æ³•ï¼Œæ‹¼æ¥å­—ç¬¦ä¸²å’Œ js å¾ˆä¸ä¸€æ ·ï¼Œæ‹¼æ¥ç¬¦åœ¨ç¬¬ä¸€ä¸ª<code>&#39;-&#39;.join(shortstr) &#39;-&#39;.join([&#39;a&#39;,&#39;s&#39;])</code></li>
</ul>
<h2 id="å­å­—ç¬¦ä¸²"><a href="#å­å­—ç¬¦ä¸²" class="headerlink" title="å­å­—ç¬¦ä¸²"></a>å­å­—ç¬¦ä¸²</h2><ul>
<li>å­å­—ç¬¦ä¸²å‡ºç°åœ¨çˆ¶å­—ç¬¦ä¸²çš„å“ªé‡Œ<code>longstr.find(shortstr)</code></li>
<li>å­å­—ç¬¦ä¸²å‡ºç°åœ¨çˆ¶å­—ç¬¦ä¸²é‡Œå‡ æ¬¡<code>longstr.counts(shortstr)</code></li>
<li>æ‹¼æ¥å­—ç¬¦ä¸²å’Œ js å¾ˆä¸ä¸€æ ·ï¼Œæ‹¼æ¥ç¬¦åœ¨ç¬¬ä¸€ä¸ª<code>&#39;-&#39;.join(shortstr)</code></li>
<li>æ‹†åˆ†å­—ç¬¦ä¸²<code>longstr.split(&#39;a&#39;)</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">longstr = <span class="string">'asdadadad'</span></span><br><span class="line">shortstr = <span class="string">'as'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ‰æ²¡æœ‰å‡ºç°</span></span><br><span class="line">shortstr <span class="keyword">in</span> longstr</span><br><span class="line"><span class="comment"># ç¬¬ä¸€æ¬¡å‡ºç°åœ¨å“ª</span></span><br><span class="line">longstr.find(shortstr)</span><br><span class="line"><span class="comment"># å‡ºç°å‡ æ¬¡</span></span><br><span class="line">longstr.counts(shortstr)</span><br><span class="line"><span class="comment"># æ‹¼æ¥å­—ç¬¦ä¸²</span></span><br><span class="line">joinå¾ˆç¥å¥‡</span><br><span class="line"></span><br><span class="line"><span class="comment"># a-s</span></span><br><span class="line"><span class="string">'-'</span>.join(shortstr)</span><br><span class="line"><span class="comment"># a-s</span></span><br><span class="line"><span class="string">'-'</span>.join([<span class="string">'a'</span>,<span class="string">'s'</span>])</span><br><span class="line"><span class="comment"># æ‹†åˆ†å­—ç¬¦ä¸²</span></span><br><span class="line">longstr.split(<span class="string">'a'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="os"><a href="#os" class="headerlink" title="os"></a>os</h2><p>d</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ–‡ä»¶å¤¹é‡Œæ‰€æœ‰æ–‡ä»¶ ls</span></span><br><span class="line">os.listdir(path=<span class="string">''</span>)</span><br><span class="line"><span class="comment"># mkdir åˆ›å»ºå·²å­˜åœ¨çš„æ–‡ä»¶å¤¹ä¼šæŠ¥é”™</span></span><br><span class="line">os.mkdir(path)</span><br><span class="line"><span class="comment"># mv</span></span><br><span class="line">os.rename(src,dst)</span><br><span class="line"><span class="comment"># pwd</span></span><br><span class="line">os.getcwd()</span><br><span class="line"><span class="comment"># cd</span></span><br><span class="line">os.chdir()</span><br><span class="line"><span class="comment"># è¿æ¥å„ä¸ªè·¯å¾„</span></span><br><span class="line">os.path.join(<span class="string">'Download'</span>,<span class="string">'Photos'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def extract_place(filename)&#123;</span><br><span class="line">  start_index=filename.find(<span class="string">'_'</span>)</span><br><span class="line">  end_index=filename[start_index+<span class="number">1</span>:].find(<span class="string">'_'</span>)</span><br><span class="line">  <span class="keyword">return</span> filename[start_index+<span class="number">1</span>:end_index]</span><br><span class="line">&#125;</span><br><span class="line">print(extract_place(<span class="string">"2018-06-06_MountainView_16:20:00.jpg"</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†ç›®å½•é‡Œæ‰€æœ‰ç…§ç‰‡æŒ‰ç…§åœ°ç‚¹æ•´ç†ï¼Œå‘½åæ¨¡å¼2018-06-06_MountainView_16:20:00.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€»è¾‘</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. éå†æ–‡ä»¶å¤¹é‡Œæ‰€æœ‰æ–‡ä»¶ï¼Œå°†åœ°ç‚¹å­˜åˆ°åˆ—è¡¨é‡Œï¼Œä¸é‡å¤çš„</span></span><br><span class="line"><span class="comment"># 2. éå†åœ°ç‚¹åˆ—è¡¨ï¼Œåˆ›å»ºåœ°ç‚¹</span></span><br><span class="line"><span class="comment"># 3. éå†ç…§ç‰‡ï¼Œç§»åˆ°åˆé€‚çš„æ–‡ä»¶å¤¹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">extract_place</span><span class="params">(filename)</span>:</span></span><br><span class="line">  <span class="keyword">return</span> filename.split(<span class="string">'_'</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_place_directory</span><span class="params">(places)</span>:</span></span><br><span class="line">  <span class="keyword">for</span> place <span class="keyword">in</span> places:</span><br><span class="line">    os.mkdir(place)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">organize_photos</span><span class="params">(directory)</span>:</span></span><br><span class="line">  os.chdir(directory)</span><br><span class="line">  originals = os.listdir(directory)</span><br><span class="line">  places = []</span><br><span class="line">  <span class="keyword">for</span> original <span class="keyword">in</span> originals:</span><br><span class="line">    place = extract_place(original)</span><br><span class="line">    <span class="keyword">if</span> place <span class="keyword">not</span> <span class="keyword">in</span> places:</span><br><span class="line">      places.append(place)</span><br><span class="line">  make_place_directory(places)</span><br><span class="line">  <span class="keyword">for</span> original <span class="keyword">in</span> originals:</span><br><span class="line">    place = extract_place(original)</span><br><span class="line">    os.rename(original,os.path.join(place,original))</span><br></pre></td></tr></table></figure>
<h2 id="åŒºåˆ†å‘½ä»¤è¡Œè¿è¡Œæ–‡ä»¶å’Œ-import-æ–‡ä»¶"><a href="#åŒºåˆ†å‘½ä»¤è¡Œè¿è¡Œæ–‡ä»¶å’Œ-import-æ–‡ä»¶" class="headerlink" title="åŒºåˆ†å‘½ä»¤è¡Œè¿è¡Œæ–‡ä»¶å’Œ import æ–‡ä»¶"></a>åŒºåˆ†å‘½ä»¤è¡Œè¿è¡Œæ–‡ä»¶å’Œ import æ–‡ä»¶</h2><p>å‡è®¾æœ‰ä¸ªæ–‡ä»¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hi.py</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hi</span><span class="params">()</span>:</span></span><br><span class="line">  print(<span class="string">'hi'</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">  hi()</span><br></pre></td></tr></table></figure>
<p>å½“åœ¨å‘½ä»¤è¡Œç›´æ¥<code>python3 hi.py</code>ï¼Œæ­¤æ—¶<code>__name__ == &#39;__main__&#39;</code><br>å½“åœ¨å¦ä¸€ä¸ªæ–‡ä»¶<code>import hi</code>ï¼Œæ­¤æ—¶<code>__name__ == &#39;hi&#39;</code><br>æ‰€ä»¥å¦‚æœæœ‰ä¸ªæ–‡ä»¶ï¼Œå¸Œæœ›åœ¨å‘½ä»¤è¡Œç›´æ¥è¿è¡Œï¼Œä½†æ˜¯å¯¼å…¥çš„æ—¶å€™ä¸è¿è¡Œï¼Œå°±å¯ä»¥ä½¿ç”¨<code>if __name__ == &#39;__main__&#39;:</code></p>
<h2 id="æ£€æµ‹-python-æ–‡ä»¶çš„ä»£ç è§„èŒƒ"><a href="#æ£€æµ‹-python-æ–‡ä»¶çš„ä»£ç è§„èŒƒ" class="headerlink" title="æ£€æµ‹ python æ–‡ä»¶çš„ä»£ç è§„èŒƒ"></a>æ£€æµ‹ python æ–‡ä»¶çš„ä»£ç è§„èŒƒ</h2><p>å‘½ä»¤è¡Œè¿è¡Œ<code>pip3 install pycodestyle</code>ï¼Œæ£€æŸ¥æŸä¸ªæ–‡ä»¶<code>pycodestyle xx.py</code><br><a href="https://blog.csdn.net/BNK_along/article/details/84000953" target="_blank" rel="noopener">vscode æ£€æµ‹</a></p>
<h2 id="æ‰“å¼€æ–‡ä»¶"><a href="#æ‰“å¼€æ–‡ä»¶" class="headerlink" title="æ‰“å¼€æ–‡ä»¶"></a>æ‰“å¼€æ–‡ä»¶</h2><ul>
<li>æ‰“å¼€æ–‡ä»¶ç”¨<code>fileobj=open(&#39;python.md&#39;)</code>ï¼Œå°†è¿”å›ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œæ–‡ä»¶ä¸å­˜åœ¨å°±ä¼šæŠ¥é”™ã€‚</li>
<li>è¯»å–æ–‡ä»¶çš„å†…å®¹<code>content=fileobj.read()</code>ï¼Œcontent å°±æ˜¯å­—ç¬¦ä¸²</li>
<li>æ‰“å¼€æ–‡ä»¶ï¼Œå°±å¿…é¡»å…³é—­æ–‡ä»¶ï¼Œå› ä¸ºç³»ç»Ÿèƒ½æ‰“å¼€çš„æ–‡ä»¶æœ‰ä¸Šé™ï¼Œæ¶ˆè€—ç³»ç»Ÿèµ„æºã€‚<code>fileobj.close()</code>ã€‚</li>
<li>ä¸€æ—¦å…³é—­æ–‡ä»¶ï¼Œå°±ä¸èƒ½å†è¯»å–<code>fileobj.read()</code>ï¼Œé™¤éé‡æ–°æ‰“å¼€ã€‚</li>
<li>with å¤åˆè¯­å¥ï¼Œå¯ä»¥å°†æ–‡ä»¶åœ¨è¿™ä¸ªä»£ç å—æ‰§è¡Œçš„æ—¶å€™ï¼Œä¿æŒæ–‡ä»¶æ‰“å¼€ï¼Œä»£ç å—ç»“æŸï¼Œæ–‡ä»¶è‡ªåŠ¨å…³é—­ã€‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fileobj = open(<span class="string">'python.md'</span>)</span><br><span class="line">content = fileobj.read()</span><br><span class="line"><span class="comment"># å†…å®¹è¯»å‡ºæ¥ä¹‹åå°±åŠæ—¶å…³é—­</span></span><br><span class="line">fileobj.close()</span><br><span class="line"><span class="comment"># è¿™é‡Œä¼šæŠ¥é”™</span></span><br><span class="line">fileobj.read()</span><br><span class="line">print(content)</span><br><span class="line"></span><br><span class="line"><span class="comment"># withä»£ç å—å†…ï¼Œæ–‡ä»¶å¤„äºæ‰“å¼€çŠ¶æ€</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'python.md'</span>) <span class="keyword">as</span> once:</span><br><span class="line">  content_v2=once.read()</span><br><span class="line">  print(content_v2)</span><br><span class="line"><span class="comment"># è¿™é‡Œä¼šæŠ¥é”™</span></span><br><span class="line">once.read()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æµ‹è¯•ç³»ç»Ÿèƒ½åŒæ—¶è¯»æ–‡ä»¶ä¸ªæ•°çš„ä¸Šé™</span></span><br><span class="line">count=<span class="number">0</span></span><br><span class="line">fileslist=[]</span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">  count+=<span class="number">1</span></span><br><span class="line">  print(<span class="string">f"run <span class="subst">&#123;count&#125;</span> times"</span>)</span><br><span class="line">  fileslist.append(open(<span class="string">'python.md'</span>))</span><br></pre></td></tr></table></figure>
<h2 id="æ‰“å¼€æ–‡ä»¶å¹¶ä¸æ„å‘³ç€è¯»æ–‡ä»¶"><a href="#æ‰“å¼€æ–‡ä»¶å¹¶ä¸æ„å‘³ç€è¯»æ–‡ä»¶" class="headerlink" title="æ‰“å¼€æ–‡ä»¶å¹¶ä¸æ„å‘³ç€è¯»æ–‡ä»¶"></a>æ‰“å¼€æ–‡ä»¶å¹¶ä¸æ„å‘³ç€è¯»æ–‡ä»¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">'xx.md'</span>) <span class="keyword">as</span> file:</span><br><span class="line">  <span class="comment"># è¿™é‡Œä¼šæŠ¥é”™</span></span><br><span class="line">  <span class="comment"># print(file)</span></span><br><span class="line">  <span class="comment"># ä¸€æ¬¡è¯»å®Œæ•´ä¸ªæ–‡æ¡£</span></span><br><span class="line">  content = file.read()</span><br><span class="line">  print(content)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'xx.md'</span>) <span class="keyword">as</span> file:</span><br><span class="line">  <span class="comment"># è¿™é‡Œä¼šæŠ¥é”™</span></span><br><span class="line">  <span class="comment"># print(file)</span></span><br><span class="line">  <span class="comment"># ä¸€è¡Œä¸€è¡Œçš„è¯»ï¼Œè¿™é‡Œä¸ç”¨read</span></span><br><span class="line">  <span class="comment"># è¡Œé‡Œé¢å†å¾ªç¯çš„è¯ï¼Œå°±ä¸€ä¸ªä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line">  <span class="keyword">for</span> line <span class="keyword">in</span> file</span><br><span class="line">    print(line)</span><br><span class="line">    <span class="keyword">for</span> oneStr <span class="keyword">in</span> line</span><br><span class="line">      print(oneStr)</span><br></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²ä»¥ä»€ä¹ˆéš”å¼€ï¼Œ<code>str.split(&#39;xxx&#39;)</code><br>æ‰€æœ‰çš„æ ‡ç‚¹ç¬¦å·ï¼š<code>import string;string.punctuation</code><br>å­—ç¬¦ä¸²å»æ‰å‰åçš„æ ‡ç‚¹ç¬¦å·ï¼Œ<code>str.strip(string.punctuation)</code>,strip é»˜è®¤å»æ‰å…¶å‰åçš„ç©ºæ ¼ï¼Œåªèƒ½æ˜¯å‰åï¼Œä¸­é—´ä¸è¡Œã€‚æ³¨æ„ strip å¹¶ä¸æ”¹å˜åŸæ¥çš„å­—ç¬¦ä¸²<br>å°å†™ï¼š<code>str.lower()</code>,æ³¨æ„ lower å¹¶ä¸æ”¹å˜åŸæ¥çš„å­—ç¬¦ä¸²<br>def æ˜¯å…³é”®è¯ï¼Œåªèƒ½ç”¨ä½œå®šä¹‰å‡½æ•°<br>10 å•å…ƒçš„è„è¯è¿‡æ»¤å™¨ï¼Œæœ€å¥½å†™ä¸€é</p>
<h2 id="å†™å…¥æ–‡ä»¶"><a href="#å†™å…¥æ–‡ä»¶" class="headerlink" title="å†™å…¥æ–‡ä»¶"></a>å†™å…¥æ–‡ä»¶</h2><p>å…¶å®å†™å…¥æ–‡ä»¶å°±æ˜¯åœ¨åé¢è¿½åŠ ä¸€ä¸ª<code>w</code>æ¨¡å¼,<code>open(&#39;xx.md&#39;,&#39;w&#39;)</code>ï¼Œå†™å…¥æ¨¡å¼ä¸‹ï¼Œæ–‡ä»¶ä¸å­˜åœ¨ä¼šæ–°å»ºæ–‡ä»¶ï¼Œè·Ÿè¯»å–æ–‡ä»¶ä¸€æ ·ï¼Œå†™å…¥çš„æ—¶å€™æ³¨æ„åªèƒ½å­—ç¬¦ä¸²,write ä¼šè¦†ç›–æ‰ä»¥å‰çš„æ–‡ä»¶å†…å®¹ï¼Œæ³¨æ„<br>ä¸¤ç§æ–¹å¼:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰‹åŠ¨å…³é—­</span></span><br><span class="line">f=open(<span class="string">'xy.md'</span>,<span class="string">'w'</span>)</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">  <span class="comment"># str</span></span><br><span class="line">  f.write(str(num))</span><br><span class="line">  f.write(<span class="string">'\n'</span>)</span><br><span class="line">f.close()</span><br><span class="line"><span class="comment"># è‡ªåŠ¨å…³é—­</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'xy.md'</span>,<span class="string">'w'</span>) <span class="keyword">as</span> f:</span><br><span class="line">  <span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">    f.write(str(num))</span><br><span class="line">    f.write(<span class="string">'\n'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="å…¬å…±-api"><a href="#å…¬å…±-api" class="headerlink" title="å…¬å…± api"></a>å…¬å…± api</h2><p><a href="https://github.com/public-apis/public-apis" target="_blank" rel="noopener">https://github.com/public-apis/public-apis</a></p>
<p>å‘½ä»¤è¡Œ<code>curl http://www.baidu.com</code>ä¼šæ‰“å°è¿”å›ä¿¡æ¯ï¼Œ<code>curl -o baidu.html http://www.baidu.com</code>ï¼Œå°†è¿”å›å†…å®¹å­˜åˆ° baidu.html</p>
<p>ä¸å®‰å…¨çš„ç©ºæ ¼ï¼Œå½“ä½ åœ¨æµè§ˆå™¨é‡Œè¾“å…¥ URL æ—¶ï¼Œé€šå¸¸ä¸éœ€è¦æ‹…å¿ƒè¿™ç§æƒ…å†µï¼Œå› ä¸ºæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†ç©ºæ ¼æ›¿æ¢ä¸º %20 ä»£ç ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ ä½¿ç”¨ curl ä» shell å‘å‡ºè¯·æ±‚ï¼Œåˆ™ä¸ä¼šè‡ªåŠ¨è½¬æ¢ï¼Œå› æ­¤ä½ éœ€è¦æ‰‹åŠ¨å°†ç©ºæ ¼æ›¿æ¢ä¸º %20ã€‚<br><code>curl https://www.metaweather.com/api/location/search/?query=New%20Delhi</code><br><code>curl https://www.metaweather.com/api/location/search/?query=london</code><br>woeid çš„æ—¶å€™ï¼Œåˆ«å¿˜äº†æœ€åçš„/ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ·»åŠ æœ€åçš„/ï¼Œä½†æ˜¯ curl å¹¶ä¸ä¼š<br><code>curl https://www.metaweather.com/api/location/2459115/</code></p>
<h2 id="requests-æ¨¡å—"><a href="#requests-æ¨¡å—" class="headerlink" title="requests æ¨¡å—"></a>requests æ¨¡å—</h2><p>å®‰è£…<code>pip3 install requests</code>,<a href="https://2.python-requests.org//zh_CN/latest/user/quickstart.html" target="_blank" rel="noopener">requests æ–‡æ¡£</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment"># r &lt;Response 200&gt; r.json() r.status_code</span></span><br><span class="line">r=requests.get(<span class="string">'http://www.baidu.com'</span>)</span><br><span class="line">r=requests.get(<span class="string">'http://localhost:9999/secret'</span>)</span><br><span class="line">r.text</span><br></pre></td></tr></table></figure>
<h2 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h2><p>å­—å…¸å°±æ˜¯ js çš„å¯¹è±¡ï¼Œä½†æ˜¯ key å’Œ value æ˜¯å­—ç¬¦ä¸²çš„è¯ï¼Œéœ€è¦åŠ <code>&#39;&#39;</code>ï¼Œå–å€¼çš„æ—¶å€™å¿…é¡»<code>dict[&#39;xx&#39;]</code><br>å¾ªç¯çš„æ—¶å€™ï¼Œé»˜è®¤æ˜¯ keysï¼Œä¸ºäº†è¯­ä¹‰åŒ–ä¸€èˆ¬<code>dict.keys()</code>æˆ–è€…<code>dict.values()</code>è¿˜æœ‰<code>dict.items()</code>ï¼Œæ³¨æ„ python æœ‰å…ƒç¥–çš„æ¦‚å¿µï¼Œä¸èƒ½æ”¹å˜çš„æ•°æ®<code>(color,&#39;green&#39;)</code>è¿™æ ·å­ï¼Œä½†æ˜¯é€šå¸¸<code>for key, value in favorite.items()</code></p>
<p><a href="https://www.python.org/dev/peps/pep-0008/" target="_blank" rel="noopener">python å…·ä½“çš„æ ·å¼æ¨è</a></p>
<ul>
<li>æ•´æ•°å’Œå­—ç¬¦ä¸²å¯ä»¥ä½œä¸º keyï¼Œåˆ—è¡¨å’Œå­—å…¸ä¸èƒ½ç”¨ä½œå­—å…¸çš„é”®ï¼Œå€¼å¯ä»¥ä¸ºä»»æ„å€¼</li>
<li>æ£€æµ‹ key åœ¨ä¸åœ¨å­—å…¸é‡Œï¼Œ<code>key in dict</code></li>
<li>å®è·µï¼šæ‰¾å‡ºä¸€ä¸ªå¥å­é‡Œæ‰€æœ‰å•è¯çš„å‡ºç°æ¬¡æ•°</li>
<li>list(dict.keys())</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sentence = <span class="string">'it appears that the the appears the most in the sentence'</span></span><br><span class="line">words = sentence.split(<span class="string">' '</span>)</span><br><span class="line">dic = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">  <span class="keyword">if</span> word <span class="keyword">in</span> dic:</span><br><span class="line">    dic[word]+=<span class="number">1</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    dic[word]=<span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> dict.items():</span><br><span class="line">    print(<span class="string">f"\'<span class="subst">&#123;key&#125;</span>\' appears <span class="subst">&#123;value&#125;</span> time(s) in the string"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="æŸ¥è¯¢å¤©æ°”çš„å®è·µ"><a href="#æŸ¥è¯¢å¤©æ°”çš„å®è·µ" class="headerlink" title="æŸ¥è¯¢å¤©æ°”çš„å®è·µ"></a>æŸ¥è¯¢å¤©æ°”çš„å®è·µ</h2><p>åŸæ–‡å†™çš„ç‰¹åˆ«å¥½ï¼Œä»¥ä¸‹æ˜¯å€Ÿé‰´çš„åœ°æ–¹ï¼š</p>
<ul>
<li>è¯·æ±‚çš„ root å’Œå…·ä½“çš„è·¯å¾„åˆ†åˆ«ç”¨å˜é‡</li>
<li>å¯ä»¥ç®€å•æç¤ºè·¯å¾„æ‹¼æ¥çš„å˜é‡ï¼Œå¦‚ woeid</li>
<li>è¯·æ±‚å•ç‹¬å†™æˆå‡½æ•°</li>
<li>å½“è¾“å…¥åœ°ç‚¹çš„æ—¶å€™ï¼Œè€ƒè™‘å¾ˆå¤šå¼‚å¸¸æƒ…å†µï¼šæ²¡æœ‰è¾“å…¥ï¼Œè¾“å…¥æ²¡æœ‰åŒ¹é…ï¼Œæœ‰ä¸€ä¸ªåŒ¹é…ï¼Œæœ‰å¾ˆå¤šåŒ¹é…ï¼›æ²¡æœ‰è¾“å…¥æ¥ç€è¾“å…¥ï¼Œæ²¡æœ‰åŒ¹é…æç¤º æˆ‘ä¸çŸ¥é“è¿™æ˜¯å“ªï¼Œæœ‰ä¸€ä¸ªåŒ¹é…å°±å»ç…§å¤©æ°”ï¼Œæœ‰å¾ˆå¤šåŒ¹é…æç¤ºç”¨æˆ·ä½ æ˜¯ä¸æ˜¯æƒ³è¾“å…¥ä»¥ä¸‹</li>
<li>è¯·æ±‚çš„æ—¶å€™éœ€è¦æ•è·ç½‘ç»œå¼‚å¸¸</li>
<li>åˆ«å¿˜äº†åœ¨æœ€åï¼Œå¦‚æœæ˜¯ç›´æ¥æ‰§è¡Œå°±æ‰§è¡Œï¼Œå¦‚æœå¯¼å…¥ä¸æ‰§è¡Œ</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">API_ROOT = <span class="string">'https://www.metaweather.com'</span></span><br><span class="line">API_LOCATION = <span class="string">'/api/location/search/?query='</span></span><br><span class="line">API_WEATHER = <span class="string">'/api/location/'</span>  <span class="comment"># + woeid</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fetch_location</span><span class="params">(query)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> requests.get(API_ROOT + API_LOCATION + query).json()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fetch_weather</span><span class="params">(woeid)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> requests.get(API_ROOT + API_WEATHER + str(woeid)).json()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">disambiguate_locations</span><span class="params">(locations)</span>:</span></span><br><span class="line">    print(<span class="string">"Ambiguous location! Did you mean:"</span>)</span><br><span class="line">    <span class="keyword">for</span> loc <span class="keyword">in</span> locations:</span><br><span class="line">        print(<span class="string">f"\t* <span class="subst">&#123;loc[<span class="string">'title'</span>]&#125;</span>"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_weather</span><span class="params">(weather)</span>:</span></span><br><span class="line">    print(<span class="string">f"Weather for <span class="subst">&#123;weather[<span class="string">'title'</span>]&#125;</span>:"</span>)</span><br><span class="line">    <span class="keyword">for</span> entry <span class="keyword">in</span> weather[<span class="string">'consolidated_weather'</span>]:</span><br><span class="line">        date = entry[<span class="string">'applicable_date'</span>]</span><br><span class="line">        high = entry[<span class="string">'max_temp'</span>]</span><br><span class="line">        low = entry[<span class="string">'min_temp'</span>]</span><br><span class="line">        state = entry[<span class="string">'weather_state_name'</span>]</span><br><span class="line">        print(<span class="string">f"<span class="subst">&#123;date&#125;</span>\t<span class="subst">&#123;state&#125;</span>\thigh <span class="subst">&#123;high:<span class="number">2.1</span>f&#125;</span>Â°C\tlow <span class="subst">&#123;low:<span class="number">2.1</span>f&#125;</span>Â°C"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">weather_dialog</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        where = <span class="string">''</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> where:</span><br><span class="line">            where = input(<span class="string">"Where in the world are you? "</span>)</span><br><span class="line">        locations = fetch_location(where)</span><br><span class="line">        <span class="keyword">if</span> len(locations) == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">"I don't know where that is."</span>)</span><br><span class="line">        <span class="keyword">elif</span> len(locations) &gt; <span class="number">1</span>:</span><br><span class="line">            disambiguate_locations(locations)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            woeid = locations[<span class="number">0</span>][<span class="string">'woeid'</span>]</span><br><span class="line">            display_weather(fetch_weather(woeid))</span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">        print(<span class="string">"Couldn't connect to server! Is the network up?"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        weather_dialog()</span><br></pre></td></tr></table></figure>
<h2 id="å¯¹è±¡å’Œç±»"><a href="#å¯¹è±¡å’Œç±»" class="headerlink" title="å¯¹è±¡å’Œç±»"></a>å¯¹è±¡å’Œç±»</h2><p>python çš„å¯¹è±¡æ˜¯æ‰€æœ‰çš„ç±»å‹</p>
<ul>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºå¯¹è±¡çš„æ–¹å¼ä¹‹ä¸€æ˜¯è¯¢é—®æ˜¯å¦èƒ½ä½œä¸ºå˜é‡çš„å€¼ã€‚å­—ç¬¦ä¸²ã€æ‰“å¼€çš„æ–‡ä»¶ï¼Œç”šè‡³å‡½æ•°éƒ½æ˜¯å¯¹è±¡ï¼Œä½†æ˜¯ while å¾ªç¯ä¸æ˜¯ã€‚</li>
<li>æ¯ä¸ªå¯¹è±¡éƒ½å æ®äº†è®¡ç®—æœºå†…å­˜ä¸­çš„æŸä¸ªç©ºé—´ã€‚åˆ›å»ºå¯¹è±¡æ—¶ï¼ŒPython ä¼šä¸ºå…¶åˆ†é…ç©ºé—´ã€‚å½“å¼•ç”¨å¯¹è±¡çš„å˜é‡è¶…å‡ºèŒƒå›´æ—¶ï¼ŒPython å¯ä»¥é€šè¿‡åˆ é™¤ä¸ä½¿ç”¨çš„å¯¹è±¡é‡Šæ”¾è¯¥å†…å­˜ç©ºé—´ã€‚ä½†æ˜¯å¹¶éæ‰€æœ‰å¯¹è±¡éƒ½å¯ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²å’Œæ•´æ•°ä¸èƒ½ä¿®æ”¹ã€‚</li>
<li>å­—ç¬¦ä¸²å˜æˆæ•°å­—ï¼Œ<code>int(&#39;1212&#39;)</code>ï¼Œæ•°å­—å˜æˆå­—ç¬¦ä¸² <code>str(121)</code></li>
<li><code>isintance(&#39;xx&#39;,str)</code>è¿”å›<code>True</code>ï¼Œ<code>type(&#39;xx&#39;)</code>è¿”å›<code>&lt;class str&gt;</code>ï¼Œæœ‰<code>str int turtle.Turtle</code></li>
<li><code>True</code>å’Œ<code>False</code>æ—¢æ˜¯<code>Boolç±»</code>ä¹Ÿæ˜¯<code>intç±»</code></li>
<li>ç±»çš„æ–¹æ³•å¿…é¡»ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ selfï¼Œé‡Œé¢çš„å˜é‡æ˜¯å®ä¾‹çš„å…¬å…±å±æ€§</li>
<li>å­—ç¬¦ä¸²åœ¨ä¸åœ¨æŸä¸ªå­—ç¬¦ä¸²ä¸­<code>xx in xxxxx</code></li>
<li>ç±»ç”Ÿæˆå®ä¾‹çš„æ—¶å€™ï¼Œå¼€å§‹å¿…é¡»æ‰§è¡Œçš„æ“ä½œï¼Œæ”¾åœ¨<code>__init__</code>ï¼Œæ¯”å¦‚ç‹—è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå°±å¸Œæœ›é¦–å…ˆæœ‰ä¸ªåå­—</li>
<li>å®ä¾‹é‡Œå‚¨å­˜ä¿¡æ¯çš„æ—¶å€™<code>self.xx=xxx</code>ï¼Œå¸Œæœ›éå†å‡ æ¬¡ç”¨<code>range(n)</code></li>
<li>å­ç±» <code>class Xx(X):</code>ï¼Œæ˜¯ä¸æ˜¯è°çš„å­ç±»<code>issubclass(bool, int)</code></li>
<li>å ä½å‡½æ•°<code>pass</code></li>
<li>IS-A å’Œ HAS-A ï¼Œå“ˆå¥‡å£«æ˜¯ä¸€ä¸ªç‹—ï¼Œç‹—å…¬å›­å¹¶ä¸æ˜¯ç‹—ä½†æ˜¯æœ‰å¾ˆå¤šç‹—</li>
<li>å­ç±»å†™<code>__init__</code>è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œä¼šæ›¿æ¢æ‰çˆ¶ç±»çš„è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥ä¸ºäº†è®©çˆ¶ç±»çš„ init è¿è¡Œï¼Œ<code>å½“å­ç±»çš„å¯¹è±¡è¢«åˆå§‹åŒ–æ—¶ï¼Œä½ éœ€è¦è°ƒç”¨ super().__init__() æ¥è¿è¡Œçˆ¶ç±»çš„ __init__ã€‚</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰ç±»</span></span><br><span class="line"><span class="comment"># animal.py</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">    name = <span class="string">'huahua'</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></span><br><span class="line">      self.name = name</span><br><span class="line">      self.wolfs = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">speak</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.wolfs += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> side <span class="keyword">in</span> range(self.wolfs):</span><br><span class="line">          print(<span class="string">"Woof!"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, food)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> food == <span class="string">"food"</span>:</span><br><span class="line">            print(<span class="string">"Yummy food!"</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"That's not food!"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn_name</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hear</span><span class="params">(self,words)</span>:</span></span><br><span class="line">      <span class="keyword">if</span> self.name <span class="keyword">in</span> words:</span><br><span class="line">          self.speak()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">speak</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(random.choice([<span class="string">"Meow!"</span>, <span class="string">"Purr!"</span>]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dogg</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_trick</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Chihuahua</span><span class="params">(Dogg)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">      super().__init__()</span><br><span class="line">      self.name=<span class="string">'xxxx'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrainedChihuahua</span><span class="params">(Chihuahua)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_trick</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"The chihuahua spins in the air and turns briefly into a chicken."</span>)</span><br><span class="line"><span class="comment"># other py</span></span><br><span class="line"><span class="keyword">import</span> animal</span><br><span class="line">fido = animal.Dog()</span><br><span class="line">fido.speak()</span><br><span class="line">fido.eat(<span class="string">'apple'</span>)</span><br><span class="line">fido.name</span><br><span class="line">fido.speak_name(<span class="string">'Fido'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="çŸ³å¤´å‰ªå­å¸ƒ"><a href="#çŸ³å¤´å‰ªå­å¸ƒ" class="headerlink" title="çŸ³å¤´å‰ªå­å¸ƒ"></a>çŸ³å¤´å‰ªå­å¸ƒ</h2><p><a href="https://classroom.udacity.com/nanodegrees/nd302-cn/parts/65fba8bf-8616-4d0f-bd1a-c08de0de0382/modules/16216e0e-4831-4a2d-845d-9b293e644899/lessons/dae5b5f1-23aa-461a-8de1-0bcf6b3d0b4e/concepts/a180cdd8-6ab1-423a-8713-5382c7ebfc1a" target="_blank" rel="noopener">è§„åˆ™</a></p>
<p>ç´§æ¥ç€å°±æ˜¯æ”¯ä»˜å®çš„é¡¹ç›®</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""ä½ å°†é€šè¿‡å®Œæˆè¿™æ®µç¨‹åºæ¥å®ç°â€œçŸ³å¤´å‰ªåˆ€å¸ƒâ€çš„æ¸¸æˆã€‚è¿™ä¸ªæ¸¸æˆæ¶‰åŠ 2 ä¸ªç©å®¶ï¼Œ</span></span><br><span class="line"><span class="string">å¹¶ä¸”åœ¨æ¯è½®ç»“æŸåç»Ÿè®¡ 2 ä¸ªç©å®¶çš„å¾—åˆ†æƒ…å†µã€‚</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">moves = [<span class="string">'rock'</span>, <span class="string">'paper'</span>, <span class="string">'scissors'</span>]</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span>:</span></span><br><span class="line">    <span class="string">"""è¿™ä¸ª Player çš„ç±»æ˜¯æ‰€æœ‰ Player ç±»åˆ«çš„çˆ¶ç±»ã€‚ä½ å°†ç¼–å†™å¤šä¸ªä¸ Player æœ‰å…³çš„ç±»ã€‚</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'rock'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span><span class="params">(self, my_move, their_move)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">beats</span><span class="params">(one, two)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> ((one == <span class="string">'rock'</span> <span class="keyword">and</span> two == <span class="string">'scissors'</span>) <span class="keyword">or</span></span><br><span class="line">            (one == <span class="string">'scissors'</span> <span class="keyword">and</span> two == <span class="string">'paper'</span>) <span class="keyword">or</span></span><br><span class="line">            (one == <span class="string">'paper'</span> <span class="keyword">and</span> two == <span class="string">'rock'</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Game</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, p1, p2)</span>:</span></span><br><span class="line">        self.p1 = p1</span><br><span class="line">        self.p2 = p2</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">play_round</span><span class="params">(self)</span>:</span></span><br><span class="line">        move1 = self.p1.move()</span><br><span class="line">        move2 = self.p2.move()</span><br><span class="line">        print(<span class="string">f"Player 1: <span class="subst">&#123;move1&#125;</span>  Player 2: <span class="subst">&#123;move2&#125;</span>"</span>)</span><br><span class="line">        self.p1.learn(move1, move2)</span><br><span class="line">        self.p2.learn(move2, move1)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">play_game</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"Game start!"</span>)</span><br><span class="line">        <span class="keyword">for</span> round <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">            print(<span class="string">f"Round <span class="subst">&#123;round&#125;</span>:"</span>)</span><br><span class="line">            self.play_round()</span><br><span class="line">        print(<span class="string">"Game over!"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    game = Game(Player(), Player())</span><br><span class="line">    game.play_game()</span><br></pre></td></tr></table></figure>
<h2 id="çˆ¬è™«"><a href="#çˆ¬è™«" class="headerlink" title="çˆ¬è™«"></a>çˆ¬è™«</h2><p>åŸºæœ¬çš„è¯·æ±‚ <code>r=requests.get(&#39;http://www.baidu.com&#39;)</code>ï¼Œ<code>r.text</code>æ˜¯åŸå§‹ html ä»£ç ã€‚<br>ç”±äº HTML åªæ˜¯æ–‡æœ¬ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·²ç»äº†è§£çš„å·¥å…·å¯¹å…¶è¿›è¡Œè§£æï¼›å¾ªç¯å’Œå­—ç¬¦ä¸²æ–¹æ³•ã€‚<code>pip3 install beautifulsoup4</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">html_doc = requests.get(<span class="string">'http://www.baidu.com'</span>).text</span><br><span class="line">soup = BeautifulSoup(html_doc, <span class="string">'html.parser'</span>)</span><br><span class="line">soup.title</span><br><span class="line">soup.div</span><br><span class="line">soup.div.a</span><br><span class="line">soup.div.find_all(<span class="string">'a'</span>)</span><br><span class="line">soup.find(id=<span class="string">'fd'</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>æ•°ç»„çš„æœ€åä¸€é¡¹ <code>arr[-1]</code></li>
<li>å‡½æ•°çš„é»˜è®¤å€¼å¯ä»¥å’Œ js ä¸€æ ·</li>
</ul>
<h2 id="wiki-æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé“¾æ¥"><a href="#wiki-æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé“¾æ¥" class="headerlink" title="wiki æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé“¾æ¥"></a>wiki æŸ¥æ‰¾ç¬¬ä¸€ä¸ªé“¾æ¥</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> bs4</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">start_url = <span class="string">"https://en.wikipedia.org/wiki/Special:Random"</span></span><br><span class="line">target_url = <span class="string">"https://en.wikipedia.org/wiki/Philosophy"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_first_link</span><span class="params">(url)</span>:</span></span><br><span class="line">    response = requests.get(url)</span><br><span class="line">    html = response.text</span><br><span class="line">    soup = bs4.BeautifulSoup(html, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># This div contains the article's body</span></span><br><span class="line">    <span class="comment"># (June 2017 Note: Body nested in two div tags)</span></span><br><span class="line">    content_div = soup.find(id=<span class="string">"mw-content-text"</span>).find(class_=<span class="string">"mw-parser-output"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># stores the first link found in the article, if the article contains no</span></span><br><span class="line">    <span class="comment"># links this value will remain None</span></span><br><span class="line">    article_link = <span class="keyword">None</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Find all the direct children of content_div that are paragraphs</span></span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> content_div.find_all(<span class="string">"p"</span>, recursive=<span class="keyword">False</span>):</span><br><span class="line">        <span class="comment"># Find the first anchor tag that's a direct child of a paragraph.</span></span><br><span class="line">        <span class="comment"># It's important to only look at direct children, because other types</span></span><br><span class="line">        <span class="comment"># of link, e.g. footnotes and pronunciation, could come before the</span></span><br><span class="line">        <span class="comment"># first link to an article. Those other link types aren't direct</span></span><br><span class="line">        <span class="comment"># children though, they're in divs of various classes.</span></span><br><span class="line">        <span class="keyword">if</span> element.find(<span class="string">"a"</span>, recursive=<span class="keyword">False</span>):</span><br><span class="line">            article_link = element.find(<span class="string">"a"</span>, recursive=<span class="keyword">False</span>).get(<span class="string">'href'</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> article_link:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Build a full url from the relative article_link url</span></span><br><span class="line">    first_link = urllib.parse.urljoin(<span class="string">'https://en.wikipedia.org/'</span>, article_link)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> first_link</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">continue_crawl</span><span class="params">(search_history, target_url, max_steps=<span class="number">25</span>)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> search_history[<span class="number">-1</span>] == target_url:</span><br><span class="line">        print(<span class="string">"We've found the target article!"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">elif</span> len(search_history) &gt; max_steps:</span><br><span class="line">        print(<span class="string">"The search has gone on suspiciously long, aborting search!"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">elif</span> search_history[<span class="number">-1</span>] <span class="keyword">in</span> search_history[:<span class="number">-1</span>]:</span><br><span class="line">        print(<span class="string">"We've arrived at an article we've already seen, aborting search!"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">article_chain = [start_url]</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> continue_crawl(article_chain, target_url):</span><br><span class="line">    print(article_chain[<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line">    first_link = find_first_link(article_chain[<span class="number">-1</span>])</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> first_link:</span><br><span class="line">        print(<span class="string">"We've arrived at an article with no links, aborting search!"</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    article_chain.append(first_link)</span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">2</span>) <span class="comment"># Slow things down so as to not hammer Wikipedia's servers</span></span><br></pre></td></tr></table></figure>
<h2 id="ç®­å¤´çŸ³å¤´å¸ƒ"><a href="#ç®­å¤´çŸ³å¤´å¸ƒ" class="headerlink" title="ç®­å¤´çŸ³å¤´å¸ƒ"></a>ç®­å¤´çŸ³å¤´å¸ƒ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""ä½ å°†é€šè¿‡å®Œæˆè¿™æ®µç¨‹åºæ¥å®ç°â€œçŸ³å¤´å‰ªåˆ€å¸ƒâ€çš„æ¸¸æˆã€‚è¿™ä¸ªæ¸¸æˆæ¶‰åŠ 2 ä¸ªç©å®¶ï¼Œ</span></span><br><span class="line"><span class="string">å¹¶ä¸”åœ¨æ¯è½®ç»“æŸåç»Ÿè®¡ 2 ä¸ªç©å®¶çš„å¾—åˆ†æƒ…å†µã€‚</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">moves = [<span class="string">'rock'</span>, <span class="string">'paper'</span>, <span class="string">'scissors'</span>]</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span>:</span></span><br><span class="line">    <span class="string">"""è¿™ä¸ª Player çš„ç±»æ˜¯æ‰€æœ‰ Player ç±»åˆ«çš„çˆ¶ç±»ã€‚ä½ å°†ç¼–å†™å¤šä¸ªä¸ Player æœ‰å…³çš„ç±»ã€‚</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'rock'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span><span class="params">(self, my_move, their_move)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomPlayer</span><span class="params">(Player)</span>:</span></span><br><span class="line">    <span class="string">"""ç»§æ‰¿ Player ç±»ï¼Œéšæœºè¾“å‡ºã€‚</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> random.choice(moves)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HumanPlayer</span><span class="params">(Player)</span>:</span></span><br><span class="line">    <span class="string">"""ç»§æ‰¿ Player ç±»ï¼Œå¹¶æ¥æ”¶äººå·¥è¾“å…¥çš„ç»“æœã€‚</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        move = input(<span class="string">"rock, paper, scissors, or quit &gt;"</span>).lower()</span><br><span class="line">        <span class="keyword">while</span> move <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">'rock'</span>, <span class="string">'paper'</span>, <span class="string">'scissors'</span>, <span class="string">'quit'</span>]:</span><br><span class="line">            print(<span class="string">"æ— æ•ˆè¾“å…¥ï¼Œè¯·å†è¯•ä¸€æ¬¡ã€‚"</span>)</span><br><span class="line">            move = input(<span class="string">"Please choose rock, paper, scissors, or quit &gt;"</span>).lower()</span><br><span class="line">        <span class="keyword">if</span> move != <span class="string">"quit"</span>:</span><br><span class="line">            print(<span class="string">f"You played <span class="subst">&#123;move&#125;</span>."</span>)</span><br><span class="line">        <span class="keyword">return</span> move</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReflectPlayer</span><span class="params">(RandomPlayer)</span>:</span></span><br><span class="line">    <span class="string">"""ç»§æ‰¿ RandomPlayer ç±»ï¼Œè¾“å‡ºå¯¹æ‰‹ä¸Šä¸€è½®çš„é€‰æ‹©ã€‚</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.my_move = <span class="string">""</span></span><br><span class="line">        self.their_move = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span><span class="params">(self, my_move, their_move)</span>:</span></span><br><span class="line">        self.my_move = my_move</span><br><span class="line">        self.their_move = their_move</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.their_move == <span class="string">""</span>:</span><br><span class="line">            <span class="keyword">return</span> super().move()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.their_move</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CyclePlayer</span><span class="params">(RandomPlayer)</span>:</span></span><br><span class="line">    <span class="string">"""ç»§æ‰¿ RandomPlayer ç±»ï¼Œå¾ªç¯é‡‡ç”¨ä¸åŒçš„é€‰æ‹©ã€‚</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.my_move = <span class="string">""</span></span><br><span class="line">        self.their_move = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">learn</span><span class="params">(self, my_move, their_move)</span>:</span></span><br><span class="line">        self.my_move = my_move</span><br><span class="line">        self.their_move = their_move</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.my_move == <span class="string">""</span>:</span><br><span class="line">            <span class="keyword">return</span> super().move()</span><br><span class="line">        <span class="keyword">elif</span> self.my_move == <span class="string">"rock"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"paper"</span></span><br><span class="line">        <span class="keyword">elif</span> self.my_move == <span class="string">"paper"</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"scissors"</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"rock"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">beats</span><span class="params">(one, two)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> ((one == <span class="string">'rock'</span> <span class="keyword">and</span> two == <span class="string">'scissors'</span>) <span class="keyword">or</span></span><br><span class="line">            (one == <span class="string">'scissors'</span> <span class="keyword">and</span> two == <span class="string">'paper'</span>) <span class="keyword">or</span></span><br><span class="line">            (one == <span class="string">'paper'</span> <span class="keyword">and</span> two == <span class="string">'rock'</span>))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Game</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, p1, p2)</span>:</span></span><br><span class="line">        self.p1 = p1</span><br><span class="line">        self.p2 = p2</span><br><span class="line">        self.results = &#123;<span class="string">'p1'</span>: <span class="number">0</span>, <span class="string">'p2'</span>: <span class="number">0</span>&#125;</span><br><span class="line">        self.end = <span class="keyword">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update_results</span><span class="params">(self, one, two)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> one == two:</span><br><span class="line">            print(<span class="string">"It's a tie!"</span>) </span><br><span class="line">        <span class="keyword">elif</span> beats(one, two):</span><br><span class="line">            print(<span class="string">"Player 1 won!"</span>) </span><br><span class="line">            self.results[<span class="string">'p1'</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"Player 2 won!"</span>) </span><br><span class="line">            self.results[<span class="string">'p2'</span>] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">play_round</span><span class="params">(self)</span>:</span></span><br><span class="line">        move1 = self.p1.move()</span><br><span class="line">        move2 = self.p2.move()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> move1 != <span class="string">"quit"</span>: <span class="comment">## å¦‚æœç”¨æˆ·è¾“å…¥ quitï¼Œåˆ™ç›´æ¥é€€å‡º</span></span><br><span class="line">            print(<span class="string">f"Player 1: <span class="subst">&#123;move1&#125;</span>  Player 2: <span class="subst">&#123;move2&#125;</span>"</span>)</span><br><span class="line">            self.update_results(move1, move2)</span><br><span class="line">            print(<span class="string">f"Score: Player one <span class="subst">&#123;self.results[<span class="string">'p1'</span>]&#125;</span>, Player two <span class="subst">&#123;self.results[<span class="string">'p2'</span>]&#125;</span>"</span>)</span><br><span class="line">            self.p1.learn(move1, move2)</span><br><span class="line">            self.p2.learn(move2, move1)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.end = <span class="keyword">True</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">play_game</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"Game start!"</span>)</span><br><span class="line">        round = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> self.end == <span class="keyword">False</span>:</span><br><span class="line">            print(<span class="string">f"Round <span class="subst">&#123;round&#125;</span>:"</span>)</span><br><span class="line">            self.play_round()</span><br><span class="line">        print(<span class="string">"æœ€ç»ˆç»“æœï¼š"</span>)</span><br><span class="line">        <span class="keyword">if</span> self.results[<span class="string">'p1'</span>] == self.results[<span class="string">'p2'</span>]:</span><br><span class="line">            print(<span class="string">"åŠ¿å‡åŠ›æ•Œï¼"</span>)</span><br><span class="line">        <span class="keyword">elif</span> self.results[<span class="string">'p1'</span>] &gt; self.results[<span class="string">'p2'</span>]:</span><br><span class="line">            print(<span class="string">"Player 1 èƒœå‡ºï¼"</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"Player 2 èƒœå‡ºï¼"</span>)</span><br><span class="line">        print(<span class="string">f"æœ€åæ¯”åˆ†ä¸ºï¼š\nPlayer 1ï¼š<span class="subst">&#123;self.results[<span class="string">'p1'</span>]&#125;</span>ï¼ŒPlayer 2ï¼š<span class="subst">&#123;self.results[<span class="string">'p2'</span>]&#125;</span>"</span>)</span><br><span class="line">        print(<span class="string">"Bye bye!"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    game = Game(HumanPlayer(), CyclePlayer())</span><br><span class="line">    game.play_game()</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹æ­¥éª¤å¯ä»¥å¸®åŠ©ä½ å¼€å§‹å®ŒæˆçŸ³å¤´å‰ªåˆ€å¸ƒé¡¹ç›®ï¼å½“ä½ åˆ›å»ºæ­¤é¡¹ç›®æ—¶ï¼Œç¡®ä¿é€šè¿‡è¿è¡Œç¨‹åºæµ‹è¯•ä»£ç ã€‚</p>
<ol>
<li>ä¸‹è½½èµ·å§‹ä»£ç <br>è¦è·å–èµ·å§‹ä»£ç ï¼Œè½¬åˆ°<a href="https://github.com/udacity/ipnd_rps_starter_code" target="_blank" rel="noopener">æ­¤ GitHub</a> é¡µé¢ã€‚å¦‚æœä½ ä»æœªä½¿ç”¨è¿‡ GitHubï¼Œåˆ«æ‹…å¿ƒï¼Œåªéœ€é˜…è¯» README ä¸­çš„è¯´æ˜å¹¶æŒ‰ç…§è¯´æ˜ä¸‹è½½æ–‡ä»¶å³å¯ã€‚å¦‚æœä½ æƒ³ä¸€æ¬¡æ€§ä¸‹è½½æ‰€æœ‰æ–‡ä»¶ï¼Œåªéœ€ç‚¹å‡»ç»¿è‰²å…‹éš†æˆ–ä¸‹è½½æŒ‰é’®ï¼Œç„¶åç‚¹å‡»ä¸‹è½½ ZIPã€‚</li>
</ol>
<p>èµ·å§‹ä»£ç æä¾›äº†ç€æ‰‹ç‚¹ï¼Œå…¶ä¸­åŒ…å«å‡ ä¹ä¸ºç©ºçš„ Player å’Œ Game ç±»ã€‚åœ¨å®Œæˆæ­¤é¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œä½ å°†ä¸æ–­æ‰©å±•æ­¤ç¨‹åºé‡Œçš„ç±»å’Œæ–¹æ³•ã€‚</p>
<p>é˜…è¯»èµ·å§‹ä»£ç å¹¶åœ¨è‡ªå·±çš„è®¡ç®—æœºä¸Šè¿è¡Œä»£ç ï¼Œçœ‹çœ‹å®ƒä¼šæ‰§è¡Œä»€ä¹ˆæ“ä½œã€‚</p>
<p>å°è¯•å°†ä»£ç å¯¼å…¥ Python è§£æå™¨é‡Œï¼Œå¹¶å®éªŒ Player å’Œ Game å¯¹è±¡ã€‚</p>
<ol start="2">
<li>åˆ›å»ºä¸€ä¸ªéšæœºå‡ºæ‹›çš„ player å­ç±»<br>èµ·å§‹ Player ç±»å§‹ç»ˆå‡º â€˜rockâ€™ã€‚è¿™å¹¶ä¸æ˜¯å¾ˆå¥½çš„ç­–ç•¥ï¼åˆ›å»ºä¸€ä¸ªå«åš RandomPlayer çš„å­ç±»ï¼Œå®ƒä¼šéšæœºé€‰æ‹©æ‹›æ•°ã€‚å½“ä½ å¯¹ RandomPlayer å¯¹è±¡è°ƒç”¨ move æ–¹æ³•æ—¶ï¼Œå®ƒåº”è¯¥éšæœºåœ°è¿”å› â€˜rockâ€™ã€â€™paperâ€™ æˆ– â€˜scissorsâ€™ ä¹‹ä¸€ã€‚</li>
</ol>
<p>æ›´æ”¹ä»£ç ï¼Œä½¿å…¶èƒ½åœ¨ä¸¤ä¸ª RandomPlayer å¯¹è±¡ä¹‹é—´ç©æ¸¸æˆã€‚</p>
<ol start="3">
<li>è®°å½•å¾—åˆ†<br>èµ·å§‹ Game ç±»æ²¡æœ‰è®°å½•å¾—åˆ†ã€‚å®ƒç”šè‡³ä¸çŸ¥é“æ¯è½®å“ªä¸ªç©å®¶èµ¢äº†ã€‚æ›´æ–° Game ç±»ï¼Œä½¿å…¶è¾“å‡ºæ¯è½®çš„ç»“æœï¼Œå¹¶è®°å½•åŒæ–¹çš„å¾—åˆ†ã€‚ä½ å¯ä»¥ä½¿ç”¨æä¾›çš„ beats å‡½æ•°ï¼Œå®ƒå¯ä»¥åˆ¤æ–­æŸä¸ªæ‹›æ•°æ˜¯å¦æ‰“è´¥å¦ä¸€ä¸ªæ‹›æ•°ã€‚</li>
</ol>
<p>ç¡®ä¿å¤„ç†å¹³å±€ï¼Œå³ä¸¤ä¸ªç©å®¶ä½¿å‡ºç›¸åŒæ‹›æ•°ï¼</p>
<ol start="4">
<li>åˆ›å»ºä¸€ä¸ªäººç±»ç©å®¶å­ç±»ã€‚<br>å¦‚æœä½ èƒ½åŠ å…¥è¿›æ¥çš„è¯ï¼Œè€Œä¸æ˜¯åªèƒ½çœ‹ç€è®¡ç®—æœºå’Œè‡ªå·±ç©ï¼Œæ¸¸æˆä¼šæœ‰è¶£å¾ˆå¤šã€‚åˆ›å»ºä¸€ä¸ª HumanPlayer å­ç±»ï¼Œå®ƒçš„ move æ–¹æ³•ä¼šè¯¢é—®ç©å®¶è¯¥å‡ºä»€ä¹ˆæ‹›æ•°ã€‚ï¼ˆè¯·å†æŸ¥çœ‹é¡¹ç›®æ¼”ç¤ºï¼Œçœ‹çœ‹æ­¤æ–¹æ³•çš„ä»£ç çœ‹èµ·æ¥å¦‚ä½•ï¼ï¼‰</li>
</ol>
<p>è®¾ç½®ç¨‹åºï¼Œä½¿ HumanPlayer å’Œ RandomPlayer è¿›è¡Œå¯¹å†³ã€‚</p>
<ol start="5">
<li>åˆ›å»ºä¸€ä¸ªæœ‰è®°å¿†èƒ½åŠ›çš„ player ç±»<br>æ¯è½®æ¸¸æˆç»“æŸæ—¶ï¼ŒGame ç±»éƒ½ä¼šå¯¹æ¯ä¸ªç©å®¶å¯¹è±¡è°ƒç”¨ learn æ–¹æ³•ï¼Œå‘Šè¯‰è¯¥ç©å®¶å¯¹æ–¹çš„æ‹›æ•°æ˜¯ä»€ä¹ˆã€‚è¿™æ„å‘³ç€ï¼Œä½ å¯ä»¥è®©è®¡ç®—æœºç©å®¶æ ¹æ®æ¸¸æˆä¹‹å‰å‘ç”Ÿçš„æƒ…å†µæ›´æ”¹æ‹›æ•°ã€‚ä¸ºæ­¤ï¼Œä½ éœ€è¦å®ç° learn æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šå°†ä¿¡æ¯ä¿å­˜åˆ°å®ä¾‹å˜é‡é‡Œã€‚</li>
</ol>
<p>åˆ›å»ºä¸€ä¸ª ReflectPlayer ç±»ï¼Œå®ƒä¼šè®°ä½ä¸Šä¸€è½®å¯¹æ‰‹çš„æ‹›æ•°ï¼Œå¹¶åœ¨è¿™ä¸€è½®å‡ºæ­¤æ‹›æ•°ã€‚ï¼ˆæ¢å¥è¯è¯´ï¼Œå¦‚æœä½ åœ¨ç¬¬ä¸€è½®å‡º â€˜paperâ€™ï¼ŒReflectPlayer å°†åœ¨ç¬¬äºŒè½®å‡º â€˜paperâ€™ã€‚ï¼‰</p>
<p>åˆ›å»ºä¸€ä¸ª CyclePlayer ç±»ï¼Œå®ƒä¼šè®°ä½å®ƒåœ¨ä¸Šä¸€è½®çš„æ‹›æ•°ï¼Œå¹¶å¾ªç¯é‡‡ç”¨ä¸åŒçš„æ‹›æ•°ã€‚ï¼ˆå¦‚æœå®ƒåœ¨æ­¤è½®å‡ºäº† â€˜rockâ€™ï¼Œåº”è¯¥åœ¨ä¸‹ä¸€è½®å‡º â€˜paperâ€™ ï¼›å¦‚æœæ­¤è½® â€˜paperâ€™ï¼Œåˆ™ä¸‹è½® â€˜scissorsâ€™ã€‚ï¼‰</p>
<p>ï¼ˆéœ€è¦æ€è€ƒï¼šè¿™äº›ç±»ç¬¬ä¸€è½®åº”è¯¥å‡ºä»€ä¹ˆæ‹›æ•°ï¼Ÿï¼‰</p>
<p>ç”¨æ¯ä¸ªç©å®¶ç±»ä¸ HumanPlayer è¿›è¡Œå¯¹å†³å¹¶æµ‹è¯•æ•ˆæœã€‚</p>
<ol start="6">
<li><p>éªŒè¯ç”¨æˆ·è¾“å…¥<br>äººç±»ç©å®¶æœ‰æ—¶å€™ä¼šæœ‰æ‹¼å†™é”™è¯¯ã€‚å¦‚æœä»–ä»¬è¾“å…¥ roxk è€Œä¸æ˜¯ rockï¼ŒHumanPlayer ä»£ç åº”è¯¥å‘Šè¯‰ä»–ä»¬å†è¯•ä¸€éã€‚ï¼ˆåœ¨æ¼”ç¤ºé‡Œçœ‹çœ‹å½“ä½ è¾“å…¥æ— æ•ˆæ‹›æ•°æ—¶ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µã€‚ï¼‰</p>
</li>
<li><p>å®£å¸ƒè·èƒœè€…<br>ç”±ä½ æ¥å†³å®šæ¸¸æˆåº”è¯¥ç©å¤šä¹…ã€‚èµ·å§‹ä»£ç å§‹ç»ˆç©ä¸‰è½®ï¼Œä½†è¿™å¹¶ä¸æ˜¯å”¯ä¸€å®ç°æ–¹å¼ã€‚ä½ å¯ä»¥é€‰æ‹©ä¸€ç›´ç©ä¸‹å»ï¼Œç›´åˆ°ç©å®¶è¾“å…¥ quitï¼Œæˆ–è€…ç›´åˆ°ä¸€ä¸ªç©å®¶çš„å¾—åˆ†é«˜å‡ºäº†ä¸‰åˆ†ï¼Œæˆ–è€…é‡‡ç”¨ä»»ä½•ä½ è®¤ä¸ºåˆç†çš„å…¶ä»–è§„åˆ™ã€‚</p>
</li>
</ol>
<p>æ¸¸æˆç»“æŸæ—¶ï¼Œä½¿å…¶è¾“å‡ºè·èƒœç©å®¶ï¼Œä»¥åŠæœ€ç»ˆå¾—åˆ†æ˜¯å¤šå°‘ã€‚</p>
<ol start="8">
<li>æ£€æŸ¥ä»£ç æ ¼å¼<br>ä½¿ç”¨ pycodestyle å·¥å…·æ£€æŸ¥ä»£ç æ ¼å¼ã€‚å®Œæˆå®ƒæ¨èçš„ä¿®æ”¹ï¼Œç„¶åé‡æ–°è¿è¡Œä»£ç ï¼Œçœ‹çœ‹è­¦å‘Šè¶Šæ¥è¶Šå°‘ã€‚ä¿®æ”¹å®Œæˆåï¼Œå®ƒåº”è¯¥ä»€ä¹ˆè­¦å‘Šæˆ–é”™è¯¯éƒ½ä¸æ˜¾ç¤ºã€‚</li>
</ol>
<h2 id="æ”¯ä»˜å®è´¦å•åˆ†æ"><a href="#æ”¯ä»˜å®è´¦å•åˆ†æ" class="headerlink" title="æ”¯ä»˜å®è´¦å•åˆ†æ"></a>æ”¯ä»˜å®è´¦å•åˆ†æ</h2><p>æ”¯ä»˜å®å·²ç»æˆä¸ºæˆ‘ä»¬ç”Ÿæ´»ä¸­ä¸å¯è·ç¼ºçš„æ”¯ä»˜æ–¹å¼ï¼Œå®ƒä¿å­˜ç€ä½ ä½¿ç”¨æ”¯ä»˜å®æ”¶/ä»˜æ¬¾çš„æ‰€æœ‰äº¤æ˜“ä¿¡æ¯ã€‚è€ŒåŸºäºè¿™äº›ä¿¡æ¯ï¼Œä½ å¯ä»¥è¿›ä¸€æ­¥åšæ•°æ®åˆ†æï¼Œä»è€Œé€šè¿‡æ•°æ®æ¥äº†è§£è‡ªå·±çš„æ¶ˆè´¹æƒ…å†µã€‚åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œä½ å°†ï¼š</p>
<p>åœ¨æ”¯ä»˜å®å®˜ç½‘ä¸‹è½½ä½ çš„äº¤æ˜“è®°å½• ä½¿ç”¨æˆ‘ä»¬æä¾›çš„æ¡†æ¶æ¥æ¸…æ´—ä¸‹è½½çš„æ•°æ® æ•°æ®æ¸…æ´—å®Œæˆåï¼Œåˆ†ææ•´ä½“çš„èŠ±è´¹æƒ…å†µï¼ŒåŒ…æ‹¬ï¼šæ”¯å‡ºã€æ”¶å…¥ã€å•ç¬”æœ€é«˜çš„æ”¯å‡ºã€å“ªä¸€å¤©æ”¯å‡ºæœ€å¤šç­‰ç­‰</p>
<p>ä¸‹è½½ä½ çš„æ”¯ä»˜å®äº¤æ˜“è®°å½•<br>é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ç”µè„‘ç«¯ç™»å½•ä½ çš„æ”¯ä»˜å®ç½‘ç«™ï¼Œç‚¹å‡»ï¼šäº¤æ˜“è®°å½• -&gt; é€‰æ‹©ä½ æ‰€éœ€è¦çš„æ—¶é—´è·¨åº¦ -&gt; ç‚¹å‡»æœ€ä¸‹æ–¹â€œä¸‹è½½æŸ¥è¯¢ç»“æœâ€ä¸‹è½½ csv æ ¼å¼çš„äº¤æ˜“è®°å½•ã€‚ä½ ä¹Ÿå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ã€‚</p>
<p>æ¸…æ´—ä¸‹è½½çš„æ•°æ®<br>å¦‚æœä½ æ‰“å¼€åˆšåˆšä¸‹è½½çš„ csv æ–‡ä»¶ï¼Œä½ ä¼šå‘ç°åœ¨æ–‡ä»¶çš„å¼€å¤´å‡ è¡Œå’Œç»“å°¾å‡ è¡Œå…¶å®æ˜¯ç”¨æˆ·æˆ–äº¤æ˜“çš„å¤‡æ³¨ä¿¡æ¯ï¼Œç”¨åˆ†å‰²çº¿ â€”â€”â€” è¿›è¡Œäº†åŒºåˆ†ã€‚è€Œè¿™éƒ¨åˆ†ä¿¡æ¯å¹¶ä¸æ˜¯äº¤æ˜“ä¿¡æ¯çš„ä¸»ä½“ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å»é™¤ã€‚</p>
<p>æ­¤å¤–ï¼Œç”±äºæ”¯ä»˜å®ç½‘ç«™ä¸‹è½½çš„æ–‡ä»¶ä¸­åŒ…å«å¤§é‡çš„ç©ºæ ¼ï¼Œä¸ºäº†åç»­æ•°æ®åˆ†æå’Œå¤„ç†æ–¹ä¾¿ï¼Œåœ¨æ¸…æ´—çš„ç¯èŠ‚ç»Ÿä¸€å°†å…¶å»é™¤ã€‚ï¼ˆæ€è€ƒä¸€ä¸‹ï¼Œè¿™ç§ç»Ÿä¸€å»é™¤çš„æ–¹å¼æ˜¯å¦ä¼šå¸¦æ¥è´Ÿé¢å½±å“ï¼Ÿï¼‰</p>
<p>ä»¥ä¸Šç¯èŠ‚å…¨éƒ¨å°è£…åœ¨ clean_csv ä¸­ï¼Œä½ åªéœ€è¦å¡«å†™ä½ ä¸‹è½½çš„æ–‡ä»¶åç§°ï¼Œè¯¥å‡½æ•°å°†è‡ªåŠ¨è¾“å‡ºè¡¥å……åç¼€ _cleaned çš„å®Œæˆæ¸…æ´—çš„ csv æ–‡ä»¶ã€‚</p>
<p>å¼€å§‹åˆ†æä½ çš„äº¤æ˜“ä¿¡æ¯<br>æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹åˆ†æäº¤æ˜“ä¿¡æ¯ã€‚</p>
<p>æ€»æ”¯å‡ºå’Œæ€»æ”¶å…¥<br>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™æ®µæ—¶é—´ä½ çš„æ€»æ”¯å‡ºå’Œæ€»æ”¶å…¥åˆ†åˆ«æ˜¯å¤šå°‘ã€‚csv åº“ä¸­çš„ DictReader æ˜¯ä¸€ä¸ªå°† csv æ–‡ä»¶è½¬åŒ–ä¸ºå­—å…¸æ ¼å¼çš„å·¥å…·ï¼Œæ–¹ä¾¿ä½ è¿›è¡Œå¾ªç¯å¤„ç†ã€‚æ”¯å‡ºå’Œæ”¶å…¥å¯ä»¥é€šè¿‡æ”¶/æ”¯å­—æ®µçš„å€¼æ¥åˆ¤æ–­ï¼Œç„¶åé€šè¿‡å¾ªç¯ç´¯åŠ é‡‘é¢ï¼ˆå…ƒï¼‰çš„å€¼ã€‚å¤„ç†å®Œæˆä¹‹åï¼Œä½ å°†è¾“å‡ºè¿™æ®µæ—¶é—´çš„æ€»æ”¯å‡ºå’Œæ€»æ”¶å…¥ï¼Œå¹¶ä¿ç•™ä¸¤ä½å°æ•°ã€‚</p>
<p>æ‰¾å‡ºå•ç¬”æ”¯å‡ºæœ€é«˜çš„äº‹é¡¹<br>æˆ‘ä»¬å†æ¥çœ‹çœ‹å“ªé¡¹æ”¯å‡ºçš„è´¹ç”¨æœ€é«˜ã€‚é‡‡ç”¨ä¸ä¹‹å‰ç±»ä¼¼çš„æ–¹å¼è¿›è¡Œå¤„ç†ï¼Œè¾“å‡ºå•ç¬”æ”¯å‡ºæœ€é«˜çš„äº‹é¡¹å‘ç”Ÿçš„æ—¥æœŸã€å•†å“åç§°ã€äº¤æ˜“æ–¹å’Œé‡‘é¢ã€‚</p>
<p>æ‰¾å‡ºèŠ±è´¹æœ€å¤šçš„ä¸€å¤©<br>æˆ‘ä»¬æ¯å¤©å¯èƒ½ä¼šä½¿ç”¨æ”¯ä»˜å®å¾ˆå¤šæ¬¡ï¼Œä½ æ˜¯å¦ä¼šå¥½å¥‡å“ªä¸€å¤©ä½ èŠ±äº†æœ€å¤šçš„é’±ï¼Ÿæˆ‘ä»¬é©¬ä¸Šæ¥çœ‹çœ‹ï¼</p>
<p>å’Œä¹‹å‰çš„ä»»åŠ¡ç›¸ä¼¼ï¼Œä½ éœ€è¦å¾ªç¯éå†æ‰€æœ‰çš„äº¤æ˜“è®°å½•ï¼Œå¹¶æŠŠæ”¯å‡ºæŒ‰æ—¥æœŸï¼ˆå¦‚ï¼š2019-01-01ï¼‰æ¥åˆå¹¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ”¯ä»˜å®çš„äº¤æ˜“è®°å½•åˆ›å»ºæ—¶é—´ç²¾ç¡®åˆ°â€œç§’â€ï¼Œä½†æˆ‘ä»¬åªéœ€è¦æŒ‰â€œå¤©â€æ¥åˆå¹¶ã€‚å¤„ç†å®Œæˆä¹‹åï¼Œè¾“å‡ºæ”¯å‡ºé‡‘é¢æœ€å¤šçš„æ˜¯å“ªä¸€å¤©ï¼Œä»¥åŠå¯¹åº”çš„æ”¯å‡ºã€‚</p>
<p>ä½ æ¥å†³å®šï¼<br>æœ€åï¼Œæˆ‘ä»¬è¯·ä½ æå‡ºä¸€ä¸ªæ„Ÿå…´è¶£çš„é—®é¢˜ï¼Œå¹¶åƒä¸Šé¢çš„é—®é¢˜ä¸€æ ·è‡ªå·±é€šè¿‡ Python ç¼–ç¨‹çš„æ–¹å¼å»å›ç­”ï¼</p>
<p>å†™åœ¨æœ€å<br>ä¹Ÿè®¸ä½ ä¼šå¥½å¥‡ï¼Œæ¯æ¬¡åˆ†æ csv æ—¶éƒ½éœ€è¦è¿›è¡Œå¾ªç¯å—ï¼Ÿäº‹å®ä¸Šï¼Œå¾ªç¯åœ¨ Python ä¸­çš„æ€§èƒ½éå¸¸ä½ï¼Œå½“ä½ å¤„ç†è¾ƒå¤§è§„æ¨¡çš„æ•°æ®é›†æ—¶ï¼Œå¾€å¾€éœ€è¦ç­‰å¾…å¾ˆé•¿æ—¶é—´ã€‚è€Œåœ¨ Python çš„ç”Ÿæ€ä¸­ï¼Œå·²ç»æœ‰æ›´å¥½åœ°å¤„ç† csv ï¼ˆæˆ–è€…å…¶å®ƒè¡¨æ ¼ç±»ï¼‰çš„å·¥å…·åº“ï¼Œæ¯”å¦‚ numpy å’Œ pandas ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦é€šè¿‡å¾ªç¯æ¥æ±‚å’Œæˆ–åˆ¤æ–­ï¼Œè€Œæ˜¯ä½¿ç”¨ pandas å†…ç½®çš„å‡½æ•°è¿›è¡Œå¤„ç†ï¼Œå¹¶ä¸”å®ƒä»¬çš„å¤„ç†é€Ÿåº¦ä¼šé«˜å¾ˆå¤šã€‚</p>
<p>å¦‚æœä½ æƒ³è¿›ä¸€æ­¥å­¦ä¹ è¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œå¯ä»¥å­¦ä¹ æˆ‘ä»¬çš„æ•°æ®åˆ†æè¯¾ç¨‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line">RAW_RECORD = <span class="string">'alipay_record_20190429_1707_1.csv'</span>  <span class="comment">## å¡«å†™ä½ ä¸‹è½½çš„æ–‡ä»¶åç§°ï¼Œéœ€è¦åŒ…æ‹¬ .csv åç¼€</span></span><br><span class="line">CLEANED_RECORD = RAW_RECORD.split(<span class="string">'.'</span>)[<span class="number">0</span>] + <span class="string">'_cleaned.csv'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">clean_csv</span><span class="params">(input, output)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> open(input, encoding=<span class="string">'gbk'</span>) <span class="keyword">as</span> f, open(output, <span class="string">'w'</span>) <span class="keyword">as</span> o:</span><br><span class="line">        lines = f.readlines() <span class="comment">## æ³¨æ„è¿™è¡Œä»£ç ä¼šä¸€æ¬¡æ€§è¯»å–æ•´ä¸ªæ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶éå¸¸å¤§æ—¶ä¸æ¨èä½¿ç”¨</span></span><br><span class="line">        lines = lines[<span class="number">4</span>:<span class="number">-7</span>] <span class="comment">## å»æ‰å¼€å¤´ç»“å°¾é CSV çš„å†…å®¹</span></span><br><span class="line">        lines = [line.replace(<span class="string">' '</span>, <span class="string">''</span>) <span class="keyword">for</span> line <span class="keyword">in</span> lines] <span class="comment">## å»æ‰ç©ºæ ¼</span></span><br><span class="line">        o.writelines(lines)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">analyze_income_expense</span><span class="params">(record)</span>:</span></span><br><span class="line">    income = <span class="number">0</span></span><br><span class="line">    expense = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> open(record, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        records = csv.DictReader(f)</span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> records:</span><br><span class="line">            <span class="keyword">if</span> r[<span class="string">'æ”¶/æ”¯'</span>] == <span class="string">'æ”¯å‡º'</span>:</span><br><span class="line">                expense  += float(r[<span class="string">'é‡‘é¢ï¼ˆå…ƒï¼‰'</span>])</span><br><span class="line">            <span class="keyword">elif</span> r[<span class="string">'æ”¶/æ”¯'</span>] == <span class="string">'æ”¶å…¥'</span>:</span><br><span class="line">                income += float(r[<span class="string">'é‡‘é¢ï¼ˆå…ƒï¼‰'</span>])</span><br><span class="line"></span><br><span class="line">    print(<span class="string">f'\næ€»æ”¶å…¥ï¼š<span class="subst">&#123;income:<span class="number">.2</span>f&#125;</span>ï¼Œæ€»æ”¯å‡ºï¼š<span class="subst">&#123;expense:<span class="number">.2</span>f&#125;</span>'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">analyze_max_expense_item</span><span class="params">(record)</span>:</span></span><br><span class="line">    max_expense_row = []</span><br><span class="line">    max_expense = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> open(record, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        records = csv.DictReader(f)</span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> records:</span><br><span class="line">            <span class="keyword">if</span> r[<span class="string">'æ”¶/æ”¯'</span>] == <span class="string">'æ”¯å‡º'</span>:</span><br><span class="line">                <span class="keyword">if</span> float(r[<span class="string">'é‡‘é¢ï¼ˆå…ƒï¼‰'</span>]) &gt; max_expense:</span><br><span class="line">                    max_expense_row = r</span><br><span class="line">                    max_expense = float(r[<span class="string">'é‡‘é¢ï¼ˆå…ƒï¼‰'</span>])</span><br><span class="line"></span><br><span class="line">    print(<span class="string">f"\nå•ç¬”æ”¯å‡ºæœ€é«˜çš„æ¬¾é¡¹å‘ç”Ÿåœ¨ï¼š<span class="subst">&#123;max_expense_row[<span class="string">'äº¤æ˜“åˆ›å»ºæ—¶é—´'</span>]&#125;</span>ï¼Œå•†å“åç§°ä¸ºï¼š<span class="subst">&#123;max_expense_row[<span class="string">'å•†å“åç§°'</span>]&#125;</span>ï¼Œäº¤æ˜“å¯¹æ–¹ä¸ºï¼š<span class="subst">&#123;max_expense_row[<span class="string">'äº¤æ˜“å¯¹æ–¹'</span>]&#125;</span>ï¼Œé‡‘é¢ä¸ºï¼š<span class="subst">&#123;max_expense_row[<span class="string">'é‡‘é¢ï¼ˆå…ƒï¼‰'</span>]&#125;</span>"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">analyze_max_expense_date</span><span class="params">(record)</span>:</span></span><br><span class="line">    expense_date = defaultdict(int) <span class="comment">## ä½¿ç”¨ defaultdict é¿å…é”®å€¼ä¸åœ¨å­—å…¸ä¸­çš„æƒ…å†µï¼Œè¯¦æƒ…ï¼šhttps://www.jianshu.com/p/bbd258f99fd3  </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> open(record, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        records = csv.DictReader(f)</span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> records:</span><br><span class="line">            <span class="keyword">if</span> r[<span class="string">'æ”¶/æ”¯'</span>] == <span class="string">'æ”¯å‡º'</span>:</span><br><span class="line">                r[<span class="string">'äº¤æ˜“åˆ›å»ºæ—¶é—´'</span>] = r[<span class="string">'äº¤æ˜“åˆ›å»ºæ—¶é—´'</span>][:<span class="number">10</span>]</span><br><span class="line">                expense_date[r[<span class="string">'äº¤æ˜“åˆ›å»ºæ—¶é—´'</span>]] += float(r[<span class="string">'é‡‘é¢ï¼ˆå…ƒï¼‰'</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment">## å¾ªç¯éå† expense_date ä¸­çš„æ—¥æœŸå’Œæ”¯å‡ºï¼Œæ‰¾å‡ºæ”¯å‡ºæœ€å¤šçš„ä¸€å¤©</span></span><br><span class="line">    date_max = <span class="string">''</span></span><br><span class="line">    expense_max = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> k, v <span class="keyword">in</span> expense_date.items():</span><br><span class="line">        <span class="keyword">if</span> expense_max &lt; v:</span><br><span class="line">            expense_max = v</span><br><span class="line">            date_max = k</span><br><span class="line">    print(<span class="string">f'\næ”¯å‡ºé‡‘é¢æœ€å¤šçš„ä¸€å¤©å‘ç”Ÿåœ¨ï¼š<span class="subst">&#123;date_max&#125;</span>ï¼Œæ€»è®¡èŠ±è´¹ï¼š<span class="subst">&#123;expense_max:<span class="number">.2</span>f&#125;</span>'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    clean_csv(RAW_RECORD, CLEANED_RECORD)</span><br><span class="line">    analyze_income_expense(CLEANED_RECORD)</span><br><span class="line">    analyze_max_expense_item(CLEANED_RECORD)</span><br><span class="line">    analyze_max_expense_date(CLEANED_RECORD)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/14/mod/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="èŠ±èŠ±çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/11/14/mod/" itemprop="url">
                  å–ä½™è¿ç®—çš„ä½¿ç”¨
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-14T15:02:07+08:00">
                2019-11-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/11/14/mod/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2019/11/14/mod/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å–ä½™è¿ç®—ï¼Œå°±æ˜¯æ‹¿åˆ°ä½™æ•°ï¼Œæ¯”å¦‚<code>5â—2=2...1</code>ï¼Œä½™æ•°å°±æ˜¯1ï¼Œå°±æ˜¯5é‡Œé¢æœ‰å‡ ä¸ª2ï¼Œå‰©ä¸‹çš„æ•°å°±æ˜¯ä½™æ•°1ã€‚</p>
<p>å–ä½™è¿ç®—<code>a%b=c</code>ï¼Œbçš„å–å€¼èŒƒå›´ä¸ºæ­£æ•´æ•°ï¼Œaçš„å–å€¼èŒƒå›´æ˜¯è‡ªç„¶æ•°ï¼ˆæ­£æ•´æ•°å’Œ0ï¼‰å…¶æœ‰ä»¥ä¸‹çš„è§„å¾‹ï¼š</p>
<ul>
<li>cæ°¸è¿œéƒ½å°äºbï¼Œä¸”ä¸ºè‡ªç„¶æ•°</li>
<li>è‹¥<code>a == 0</code>ï¼Œåˆ™cå§‹ç»ˆæ˜¯0ï¼Œä¸bæ— å…³</li>
<li>è‹¥<code>a &lt; b</code>ï¼Œåˆ™cæ°¸è¿œéƒ½æ˜¯aï¼Œbå†å¤§ä¹Ÿæ— å…³ï¼Œå¦‚ <code>1%6 1%60 1%900</code>ï¼Œå‡æ˜¯1ï¼Œä¹Ÿå°±æ˜¯ä¸€æ—¦<code>a&lt;b</code>ï¼Œé‚£ä¹ˆbæ˜¯å¤šå°‘éƒ½å½±å“ä¸äº†a</li>
<li>è‹¥<code>b==1</code>,ï¼Œåˆ™cå§‹ç»ˆæ˜¯0ï¼Œä¸aæ— å…³</li>
<li>è‹¥aæ˜¯bçš„æ•´æ•°å€ï¼Œåˆ™cå§‹ç»ˆæ˜¯0ï¼Œ</li>
<li>è‹¥cæ˜¯0ï¼Œaå¯èƒ½æ˜¯0ï¼Œä¹Ÿå¯èƒ½aæ˜¯bçš„æ•´æ•°å€ï¼Œä¹Ÿå¯èƒ½bæ˜¯1</li>
</ul>
<p>æ•²é»‘æ¿ï¼ï¼ï¼æ­£å› ä¸º<code>cæ°¸è¿œéƒ½å°äºb</code>ï¼Œå¸¸ç”¨æ¨¡è¿ç®—æ¥åˆ›å»ºé‡å¤åŠ¨ä½œã€‚</p>
<p>å¸¸è§æ–¹æ³•æ˜¯å°†å®ƒç”¨äº é€’å¢çš„æ•°å­— åºåˆ—ï¼Œå¦‚bç­‰äº2ï¼Œ<code>0%2=0  1%2=1 2%2=0 3%2=1</code>ï¼Œéšç€açš„å˜å¤§ï¼Œå–ä½™çš„å€¼å°±å§‹ç»ˆæ˜¯0å’Œ1çš„å¾ªç¯ï¼Œæ‰€ä»¥æ¨¡æ•°é€‚åˆåœ¨ä¸¤ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰æ“ä½œä¹‹é—´åˆ‡æ¢</p>
<p>æ¯”å¦‚æœ‰2ä¸ªé‡å¤åŠ¨ä½œï¼Œå°±ä¼š<code>n%2</code>ï¼Œå€¼åªä¼š0ã€1çš„é‡å¤<br>æ¯”å¦‚æœ‰3ä¸ªé‡å¤åŠ¨ä½œï¼Œå°±ä¼š<code>n%3</code>ï¼Œå€¼åªä¼š0ã€1ã€2çš„é‡å¤</p>
<p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/mod.png" alt="å–ä½™"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/12/1-1-å‘å±•æ˜¯ä»€ä¹ˆ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="èŠ±èŠ±çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/11/12/1-1-å‘å±•æ˜¯ä»€ä¹ˆ/" itemprop="url">
                  1-1-å‘å±•æ˜¯ä»€ä¹ˆ
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-12T17:16:33+08:00">
                2019-11-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ä»å¿ƒç†è§£å­©å­/" itemprop="url" rel="index">
                    <span itemprop="name">ä»å¿ƒç†è§£å­©å­</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/11/12/1-1-å‘å±•æ˜¯ä»€ä¹ˆ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2019/11/12/1-1-å‘å±•æ˜¯ä»€ä¹ˆ/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://fantuan.guokr.net/web?url=%2Ftopics%2F1240217%3Fsort%3Ddesc%26ft_from%3DN4IgrgTgNg%2BgZhA9gWxALhAcyWADgZxABoQBjSCAUwDsAXGXAQ00vSx12PcTxgEsAJugCMADgAMw8QBYA7AFZhAZgBsAJhmiAvkA" target="_blank" rel="noopener">1-1å‘å±•æ˜¯ä»€ä¹ˆï¼Œ2020.11.01ä¹‹å‰æœ‰æ•ˆï¼Œè¯¾ç¨‹é“¾æ¥</a><br><a href="https://v-fantuan.guokr.net/lg3RCrQHlBLBABGDtyulwjataJIw90.mp3?e=1573556893&amp;token=hFAFNPMs5Sic8qvmInL3VaDyfLWb19irVTmwJLuz:3AtnUDvzT4YHFF_yibk1ve5GYWg=" target="_blank" rel="noopener"><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/audio.png" alt="å›¾ç‰‡"></a></p>
<p>å‘å±•æ˜¯ä¸‰ä¸ªèŒƒç•´çš„ç»Ÿç§°ï¼šç”Ÿç†å‘å±•ã€è®¤çŸ¥å‘å±•ã€ç¤¾ä¼šåŒ–å’Œæƒ…æ„Ÿçš„å‘å±•ã€‚<br>ä¸‰è€…ç¼ºä¸€ä¸å¯ï¼Œç›¸äº’äº¤ç»‡ï¼Œç›¸è¾…ç›¸æˆã€‚<br>ä¸‰ä¸ªèŒƒç•´å‡è¡¡å‘å±•æ‰æ˜¯å¥åº·çš„å‘å±•ï¼Œæ‰æ˜¯ä¸€æ£µæ ‘ï¼Œä¸å¿…æ­»ç£•ä¸€ä¸ªæä¸«ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼Œ2-3å²å­©å­ä¸èƒ½ä¸»åŠ¨å’Œåˆ«äººä¸€èµ·ç©å¾ˆæ­£å¸¸ï¼Œæƒ³è§£å†³çš„è¯ï¼Œä¸€èˆ¬ä»ä¸‰ä¸ªæ–¹é¢ç€æ‰‹ï¼š</p>
<ul>
<li>ç‹¬ç«‹æ„Ÿï¼šå¥¹ç¡®è®¤è‡ªå·±å¯ä»¥èƒ½ç‹¬ç«‹åšä¸€äº›äº‹ï¼Œç”Ÿæ´»ä¸­å¯ä»¥æä¾›ä¸€äº›é€‰æ‹©å¯ä»¥è®©å…¶é€‰æ‹©</li>
<li>èƒ½åŠ›æ„Ÿï¼šå¥¹çŸ¥é“è‡ªå·±èƒ½åŠ›çš„è¾¹ç•Œï¼Œä¼šåšä»€ä¹ˆä¸ä¼šåšä»€ä¹ˆï¼Œç”Ÿæ´»ä¸­é¼“åŠ±ä¹Ÿæä¾›æœºä¼šè®©å…¶å°è¯•</li>
<li>å®¶åº­æ°›å›´ï¼šå¥¹çŸ¥é“å®¶äººå°±æ˜¯å®‰å…¨æ¸¯æ¹¾ï¼Œçˆ¶æ¯è¦å°½å¯èƒ½æä¾›å®‰å…¨æ„Ÿ</li>
</ul>
<p>å› æ­¤ï¼Œå¸¦å¥¹å‡ºå»ç©ï¼Œå¥¹æƒ³æ€ä¹ˆç©å°±æ€ä¹ˆç©ï¼Œä¸è¦è¿èƒŒå¥¹çš„æ„æ„¿ï¼Œä¸Šé¢ä¸‰ä¸ªæ¡ä»¶éƒ½å¾ˆæ£’çš„æƒ…å†µä¸‹ï¼Œèƒ½å’Œåˆ«äººä¸€èµ·ç©çš„æ¦‚ç‡å°±ä¼šå¤§å¤§æé«˜ã€‚</p>
<p>æœ‰äº›å­©å­å¾ˆå†…å‘çš„è¯ï¼Œæ¯”å¦‚è¢«æŠ¢äº†ç©å…·ï¼Œå¥¹æœ¬èº«ä¸æŠŠè¿™ä¸ªå½“åšä¸€å›äº‹ï¼Œçˆ¶æ¯ä¹Ÿå°±ä¸è¦å¤ªåœ¨æ„ï¼Œé‡ç‚¹è¿˜æ˜¯åŸ¹å…»ä¸Šé¢ä¸‰ä¸ªç‚¹ï¼Œé•¿æœŸä»¥å¾€ï¼Œæƒ…å†µæ˜æ˜¾å¥½è½¬ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/12/1-2-æŠ“å¤§æ”¾å°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="èŠ±èŠ±çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/11/12/1-2-æŠ“å¤§æ”¾å°/" itemprop="url">
                  1-2-æŠ“å¤§æ”¾å°
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-12T17:16:07+08:00">
                2019-11-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ä»å¿ƒç†è§£å­©å­/" itemprop="url" rel="index">
                    <span itemprop="name">ä»å¿ƒç†è§£å­©å­</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/11/12/1-2-æŠ“å¤§æ”¾å°/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2019/11/12/1-2-æŠ“å¤§æ”¾å°/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://fantuan.guokr.net/web?url=%2Ftopics%2F1245220%3Fsort%3Ddesc%26ft_from%3DN4IgrgTgNg%2BgZhA9gWxALhAF0QBwJYDGIANCAZBAKYB2mMOAhgOaXohNJg4nuc4x4AJugCMADgAMIiQBYA7AFYRAZgBsAJlliAvkA" target="_blank" rel="noopener">1-2-æŠ“å¤§æ”¾å°ï¼Œ2020.11.01ä¹‹å‰æœ‰æ•ˆï¼Œè¯¾ç¨‹é“¾æ¥</a><br><a href="https://v-fantuan.guokr.net/lmGMknydw49qVU12hW13ppgWTU3B922.mp3?e=1573556828&amp;token=hFAFNPMs5Sic8qvmInL3VaDyfLWb19irVTmwJLuz:ieNIBYqKhrjCOciFcGDEnvVGawE=" target="_blank" rel="noopener"><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/audio.png" alt="å›¾ç‰‡"></a></p>
<p>å„¿ç«¥æ˜¯æ•´ä½“å‘å±•çš„ï¼Œè¢«å°Šé‡è¢«çˆ±ï¼Œè‡ªä¿¡çš„å¼€å¿ƒçš„é•¿å¤§ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/12/queryAndTable/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="èŠ±èŠ±çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/11/12/queryAndTable/" itemprop="url">
                  è®©åå°æŸ¥è¯¢å’Œè¡¨æ ¼è¿™ç§é¡µé¢æ›´åŠ å¿«é€Ÿå’Œç®€ä¾¿
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-12T16:59:33+08:00">
                2019-11-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/11/12/queryAndTable/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2019/11/12/queryAndTable/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>åšåå°é¡¹ç›®ï¼Œå¾ˆå¤šé¡µé¢ç±»ä¼¼ä¸‹é¢</p>
<p><img src="https://blog-huahua.oss-cn-beijing.aliyuncs.com/blog/code/query1.png" alt="æŸ¥è¯¢é¡µé¢"></p>
<p>è¿™ç§é¡µé¢æœ‰æ—¶å€™é€»è¾‘ä¹Ÿæ˜¯æœ‰ç‚¹éº»çƒ¦ï¼Œè¦æ˜¯æ¯ä¸ªé¡µé¢ä¸€ééæƒ³ï¼Œå°±æœ‰ç‚¹å°¬ï¼Œæ‰€ä»¥æƒ³äº†ä¸ªå·æ‡’çš„æ³•å­ï¼Œå°†é€šç”¨é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œéœ€è¦è¿™ç§é¡µé¢çš„æ—¶å€™ï¼Œåªéœ€è¦é€‚å½“çš„é…ç½®å³å¯ï¼Œä¸ç”¨å†å…³å¿ƒç›¸åŒçš„é€»è¾‘ã€‚</p>
<p>å¯¹äºè¡¨å•ï¼Œéœ€è¦çš„æ–¹æ³•æœ‰ï¼šè®¾ç½®è¡¨å•æ•°æ®ã€æ‹¿åˆ°è¡¨å•çš„å‚æ•°ã€è®¾ç½®è¡¨å•é¡¹å…¶ä»–çš„å±æ€§ç­‰ã€‚</p>
<p>å¯¹äºajaxè¯·æ±‚å›æ¥çš„æ•°æ®ï¼Œéœ€è¦çš„æ–¹æ³•ï¼šæ‹¿åˆ°è¯·æ±‚éœ€è¦çš„å‚æ•°ï¼Œæ­¤å‚æ•°åˆ†ä¸ºä¸¤å—ï¼Œä¸€ä¸ªæ˜¯è¡¨å•æä¾›çš„ï¼Œä¸€ä¸ªåˆ†é¡µå’Œæ’åºè¿™ç§çš„ï¼Œç¬¬ä¸€æ¬¡çš„è¯·æ±‚å¯ä»¥ä¿ç•™å‚æ•°ï¼Œä¸ºé‡ç½®è¡¨å•æ•°æ®æˆ–è€…åˆ†é¡µæ’åºå€¼åšå‡†å¤‡ã€‚</p>
<p>ä¸»è¦å®ç°çš„é€šç”¨åŠŸèƒ½ï¼šè¯·æ±‚æ•°æ®ã€æŸ¥è¯¢é€»è¾‘ã€é‡ç½®é€»è¾‘ã€å¯¼å‡ºé€»è¾‘ã€‚</p>
<p><a href="https://juejin.im/post/5dc281036fb9a04a9967e817" target="_blank" rel="noopener">enhanced-table</a><br><a href="https://juejin.im/post/5daeda8f51882554c07586f5" target="_blank" rel="noopener">enhanced-form</a></p>
<h2 id="queryä½œä¸ºmixinsçš„ä»£ç "><a href="#queryä½œä¸ºmixinsçš„ä»£ç " class="headerlink" title="queryä½œä¸ºmixinsçš„ä»£ç "></a>queryä½œä¸ºmixinsçš„ä»£ç </h2><p><a href="https://github.com/frontzhm/web-demo/tree/master/enhanced-table" target="_blank" rel="noopener">githubåœ°å€</a>ï¼Œè¿è¡Œ<code>node server.js</code>è¿˜æœ‰<code>yarn install;yarn dev</code>ï¼Œä¹‹åæ‰“å¼€<a href="http://localhost:8080/single-query" target="_blank" rel="noopener">http://localhost:8080/single-query</a>å³å¯çœ‹åˆ°æ•ˆæœ</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">/* æ­¤é¡µé¢æœ€é€‚åˆ ä¸Šé¢æ˜¯ç®€å•çš„è¡¨å•ï¼Œä¸‹é¢æ˜¯è¡¨æ ¼ï¼Œä¸»è¦æ˜¯æŸ¥è¯¢ ç¿»é¡µ é‡ç½® å¯¼å‡ºåŠŸèƒ½</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="number">1.</span> mixinså†™å…¥æ­¤æ–‡ä»¶ï¼Œ<span class="keyword">import</span> Query <span class="keyword">from</span> <span class="string">'xx'</span>;mixins:[Query]</span></span><br><span class="line"><span class="undefined">2. formConfig colConfigs ajaxApiså‡éœ€è¦ç‰¹å®šé…ç½®ï¼Œå…¶ä»–çš„æ ¹æ®æƒ…å†µå§</span></span><br><span class="line"><span class="undefined">3. inité‡Œé¢ä¸€èˆ¬æ˜¯å½“å‰é¡µé¢å…·ä½“çš„åˆå§‹åŒ–ï¼Œä¸€èˆ¬éœ€è¦é‡å†™</span></span><br><span class="line"><span class="undefined">4. computed:tableDataä¸€èˆ¬æ˜¯éœ€è¦é‡æ–°å†™çš„</span></span><br><span class="line"><span class="undefined">5. æ”¾å¥½htmlï¼ŒåŸºæœ¬å¯ä»¥ç©èµ·æ¥äº†</span></span><br><span class="line"><span class="undefined"> */</span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> EnhancedTable <span class="keyword">from</span> <span class="string">'@/components/EnhancedTable'</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> EnhancedForm <span class="keyword">from</span> <span class="string">'@/components/EnhancedForm'</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="undefined">  components: &#123; EnhancedTable, EnhancedForm &#125;,</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">  data () &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> formConfig = &#123;</span></span><br><span class="line"><span class="javascript">      year: &#123; <span class="attr">label</span>: <span class="string">'å¹´ä»½'</span>, <span class="attr">category</span>: <span class="string">'date-picker'</span>, <span class="attr">default</span>: (<span class="keyword">new</span> <span class="built_in">Date</span>()).getFullYear() + <span class="string">''</span>, <span class="attr">type</span>: <span class="string">'year'</span>, <span class="attr">format</span>: <span class="string">'yyyy'</span>, <span class="attr">valueFormat</span>: <span class="string">'yyyy'</span> &#125;,</span></span><br><span class="line"><span class="javascript">      term: &#123; <span class="attr">label</span>: <span class="string">'å­£åº¦'</span>, <span class="attr">category</span>: <span class="string">'select'</span>, <span class="attr">options</span>: [&#123; <span class="attr">value</span>: <span class="string">'æ˜¥'</span>, <span class="attr">label</span>: <span class="string">'æ˜¥'</span> &#125;, &#123; <span class="attr">value</span>: <span class="string">'å¤'</span>, <span class="attr">label</span>: <span class="string">'å¤'</span> &#125;, &#123; <span class="attr">value</span>: <span class="string">'ç§‹'</span>, <span class="attr">label</span>: <span class="string">'ç§‹'</span> &#125;, &#123; <span class="attr">value</span>: <span class="string">'å†¬'</span>, <span class="attr">label</span>: <span class="string">'å†¬'</span> &#125;] &#125;,</span></span><br><span class="line"><span class="javascript">      area: &#123; <span class="attr">label</span>: <span class="string">'å¤§åŒº'</span>, <span class="attr">category</span>: <span class="string">'select'</span>, <span class="attr">filterable</span>: <span class="literal">true</span>, <span class="attr">default</span>: <span class="string">''</span>, <span class="attr">options</span>: <span class="literal">null</span> &#125;,</span></span><br><span class="line"><span class="javascript">      name: &#123; <span class="attr">label</span>: <span class="string">'å§“å'</span>, <span class="attr">category</span>: <span class="string">'input'</span> &#125;,</span></span><br><span class="line"><span class="javascript">      code: &#123; <span class="attr">label</span>: <span class="string">'ç¼–å·'</span>, <span class="attr">category</span>: <span class="string">'input'</span> &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> formAttr = &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// è¡Œå†…æ˜¾ç¤º</span></span></span><br><span class="line"><span class="javascript">      inline: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æ¯ä¸ªlabelå®½</span></span></span><br><span class="line"><span class="javascript">      labelWidth: <span class="string">'100px'</span>,</span></span><br><span class="line"><span class="javascript">      <span class="comment">// labelå³å¯¹é½</span></span></span><br><span class="line"><span class="javascript">      labelPosition: <span class="string">'right'</span></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> colConfigs = [</span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">prop</span>: <span class="string">'orderNumber'</span>, <span class="attr">label</span>: <span class="string">'åºå·'</span>, <span class="attr">sortable</span>: <span class="literal">false</span>, <span class="attr">align</span>: <span class="string">'center'</span> &#125;,</span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">slot</span>: <span class="string">'projectName'</span>, <span class="attr">prop</span>: <span class="string">'projectName'</span>, <span class="attr">label</span>: <span class="string">'æ•™ç ”ç»„'</span>, <span class="attr">sortable</span>: <span class="literal">false</span>, <span class="attr">align</span>: <span class="string">'center'</span> &#125;,</span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">prop</span>: <span class="string">'teacherCount'</span>, <span class="attr">label</span>: <span class="string">'æ•™å¸ˆæ•°é‡'</span>, <span class="attr">sortable</span>: <span class="literal">false</span>, <span class="attr">align</span>: <span class="string">'center'</span> &#125;,</span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">prop</span>: <span class="string">'lessonCount'</span>, <span class="attr">label</span>: <span class="string">'æ€»è¯¾æ¬¡'</span>, <span class="attr">sortable</span>: <span class="literal">false</span>, <span class="attr">align</span>: <span class="string">'center'</span> &#125;,</span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">prop</span>: <span class="string">'uploadPercent'</span>, <span class="attr">label</span>: <span class="string">'ä¸Šä¼ ç‡'</span>, <span class="attr">sortable</span>: <span class="literal">false</span>, <span class="attr">align</span>: <span class="string">'center'</span> &#125;,</span></span><br><span class="line"><span class="javascript">      &#123; <span class="attr">prop</span>: <span class="string">'passPercent'</span>, <span class="attr">label</span>: <span class="string">'åˆæ ¼ç‡'</span>, <span class="attr">sortable</span>: <span class="literal">false</span>, <span class="attr">align</span>: <span class="string">'center'</span> &#125;</span></span><br><span class="line"><span class="undefined">    ]</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> ajaxApis = &#123;</span></span><br><span class="line"><span class="javascript">      query: <span class="string">'AjaxQuery'</span>,</span></span><br><span class="line"><span class="javascript">      <span class="keyword">export</span>: <span class="string">'AjaxExport'</span></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŸ¥è¯¢è¡¨å•é¡¹çš„é…ç½®</span></span></span><br><span class="line"><span class="undefined">      formConfig,</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æ•´ä¸ªè¡¨å•çš„ç»Ÿä¸€é…ç½®</span></span></span><br><span class="line"><span class="undefined">      formAttr,</span></span><br><span class="line"><span class="javascript">      <span class="comment">// è¡¨æ ¼æ¯åˆ—çš„é…ç½®</span></span></span><br><span class="line"><span class="undefined">      colConfigs,</span></span><br><span class="line"><span class="javascript">      <span class="comment">// è¿™ä¸ªæ˜¯ è¯·æ±‚çš„æ–¹æ³•ï¼Œä¸åŒé¡µé¢çš„è¯·æ±‚æ–¹æ³•åè‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ éœ€è¦é…ç½®</span></span></span><br><span class="line"><span class="undefined">      ajaxApis,</span></span><br><span class="line"><span class="javascript">      <span class="comment">// è¡¨æ ¼çš„åŠ è½½å›¾æ ‡</span></span></span><br><span class="line"><span class="javascript">      isShowTableLoading: <span class="literal">false</span>,</span></span><br><span class="line"><span class="javascript">      <span class="comment">// è¡¨æ ¼è¯·æ±‚çš„åŸå§‹æ•°æ®</span></span></span><br><span class="line"><span class="undefined">      tableDataNative: [],</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æœ‰æ•°æ®å°±æ„å‘³ç€å¯èƒ½åˆ†é¡µ</span></span></span><br><span class="line"><span class="undefined">      otherParams: &#123;</span></span><br><span class="line"><span class="undefined">        pageIndex: 0,</span></span><br><span class="line"><span class="undefined">        pageSize: 10,</span></span><br><span class="line"><span class="javascript">        isAsc: <span class="string">''</span>,</span></span><br><span class="line"><span class="javascript">        sortBy: <span class="string">''</span></span></span><br><span class="line"><span class="undefined">      &#125;,</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æ•°æ®æ€»é•¿åº¦ï¼ŒåŸºæœ¬åªç»™åˆ†é¡µç»„ä»¶ç”¨çš„</span></span></span><br><span class="line"><span class="undefined">      dataLength: 0,</span></span><br><span class="line"><span class="javascript">      <span class="comment">// ä¸ºäº†æ–¹ä¾¿é‡ç½®ï¼Œå°†é¦–æ¬¡è¯·æ±‚è¡¨æ ¼æ•°æ®çš„å‚æ•°ä¿å­˜</span></span></span><br><span class="line"><span class="javascript">      initialParams: <span class="literal">null</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;,</span></span><br><span class="line"><span class="undefined">  computed: &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// å¤„ç†ä¹‹åçš„æ•°æ®</span></span></span><br><span class="line"><span class="undefined">    tableData () &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="keyword">this</span>.tableDataNative</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;,</span></span><br><span class="line"><span class="undefined">  mounted () &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">this</span>.init()</span></span><br><span class="line"><span class="undefined">  &#125;,</span></span><br><span class="line"><span class="undefined">  methods: &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// é¡µé¢åŠ è½½æ‰§è¡Œçš„æ–¹æ³•</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">async</span> init () &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// è¿™ä¸ªæœ‰å¼‚æ­¥æ“ä½œï¼Œéœ€è¦ç”¨await</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">await</span> <span class="keyword">this</span>.setAreaOptions()</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.getTableData()</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="keyword">async</span> setAreaOptions () &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$api.AjaxGetAreas()</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> options = res.data.data</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.setSingleFormItem(&#123; <span class="attr">prop</span>: <span class="string">'area'</span>, <span class="attr">attr</span>: <span class="string">'options'</span>, <span class="attr">value</span>: options &#125;)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.setSingleFormItem(&#123; <span class="attr">prop</span>: <span class="string">'area'</span>, <span class="attr">attr</span>: <span class="string">'default'</span>, <span class="attr">value</span>: options[<span class="number">1</span>].value &#125;)</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="undefined">    clickSearchBtn () &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é‡ç½®é¡µæ•°çš„ç›¸å…³å‚æ•°,è¿™ä¸ªæ˜¯ï¼Œæ¯”å¦‚ä½ åœ¨ç‚¹å‡»ç¬¬äºŒé¡µä¹‹åï¼ŒpageIndex=2,ä½†æ˜¯å½“ç‚¹å‡»æŸ¥è¯¢çš„æ—¶å€™ï¼Œéœ€è¦é‡æ–°é‡ç½®</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.otherParams = <span class="keyword">this</span>.initialParams.otherParams</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.getTableData()</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="undefined">    clickExportBtn () &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// å¯¼å‡ºçš„å‚æ•°å’ŒæŸ¥è¯¢çš„å‚æ•°åŸºæœ¬ä¸€æ ·ï¼Œä½†æ˜¯æ•°æ®ä¸åˆ†é¡µ</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> params = &#123; ...this.getAjaxQueryParams() &#125;</span></span><br><span class="line"><span class="undefined">      params.pageSize = 0</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.$api[<span class="keyword">this</span>.ajaxApis.export](params)</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="undefined">    clickResetBtn () &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é‡ç½®è¡¨å•</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.setFormData(<span class="keyword">this</span>.initialParams.formParams)</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é‡ç½®é¡µæ•°çš„ç›¸å…³å‚æ•°</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.otherParams = <span class="keyword">this</span>.initialParams.otherParams</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŸ¥è¯¢</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.getTableData()</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// ajaxè¯·æ±‚è¡¨æ ¼æ•°æ®ï¼Œå¹¶èµ‹å€¼ï¼Œå› ä¸ºåç«¯çš„æ•°æ®å¾ˆå¤šæ—¶å€™å‰ç«¯éœ€è¦å¤„ç†ä¸‹ï¼Œåœ¨computedé‚£è¾¹åŠ ä¸€å±‚è¿‡æ»¤</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">async</span> ajaxQuery (params) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æ˜¾ç¤ºè¡¨å•åŠ è½½</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.isShowTableLoading = <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="keyword">this</span>.$api[<span class="keyword">this</span>.ajaxApis.query](params)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.isShowTableLoading = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.tableDataNative = res.data.data</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.dataLength = res.data.dataCount</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// å°†è¡¨å•å…ƒç´ è®¾ç½®æˆç‰¹å®šçš„å€¼,params  = &#123;year:2019,...&#125;</span></span></span><br><span class="line"><span class="javascript">    setFormData (params, refForm = <span class="string">'queryForm'</span>) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// è¡¨å•</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> params) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.$refs[refForm].$data.form.props[key] = params[key]</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// å¾—åˆ°è¡¨å•å„é¡¹çš„å€¼</span></span></span><br><span class="line"><span class="javascript">    getFormData (refForm = <span class="string">'queryForm'</span>) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="keyword">this</span>.$refs[refForm].$data.form.props</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// è®¾ç½®å•ä¸ªè¡¨å•å…ƒç´ çš„å±æ€§ï¼Œé™¤äº†é»˜è®¤å€¼ï¼Œå¸¸ç”¨çš„æ˜¯options</span></span></span><br><span class="line"><span class="javascript">    setSingleFormItem (&#123; prop, attr, value, formConfig = <span class="string">'formConfig'</span>, refForm = <span class="string">'queryForm'</span> &#125;) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>[formConfig][prop][attr] = value</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é»˜è®¤å€¼çš„è¯ éœ€è¦å˜åŠ¨formçš„å±æ€§</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span> (attr === <span class="string">'default'</span>) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.$refs[refForm].$data.form.props[prop] = value</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="undefined">    getTableData () &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> params = <span class="keyword">this</span>.getAjaxQueryParams()</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.ajaxQuery(params)</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// è¯·æ±‚çš„å‚æ•° åŒ…æ‹¬è¡¨å•å’Œé¡µæ•°ç›¸å…³çš„æ•°æ®</span></span></span><br><span class="line"><span class="undefined">    getAjaxQueryParams () &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> formParams = <span class="keyword">this</span>.getFormData()</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> params = &#123; ...this.otherParams, ...formParams &#125;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// è®¾ç½®é¦–æ¬¡æŸ¥è¯¢çš„å‚æ•°,è¿™é‡Œæ³¨æ„å¯¹è±¡æ˜¯å¼•ç”¨ï¼Œå¿…é¡»æ·±åº¦å¤åˆ¶ä¸‹</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.initialParams || (<span class="keyword">this</span>.initialParams = &#123; <span class="attr">formParams</span>: &#123; ...formParams &#125;, <span class="attr">otherParams</span>: &#123; ...this.otherParams &#125; &#125;)</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.initialParams)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> params</span></span><br><span class="line"><span class="undefined">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// æ”¹å˜é¡µæ•°</span></span></span><br><span class="line"><span class="undefined">    changeTablePage (page) &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.otherParams.pageIndex = page</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.getTableData()</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="å¼•ç”¨queryçš„é¡µé¢"><a href="#å¼•ç”¨queryçš„é¡µé¢" class="headerlink" title="å¼•ç”¨queryçš„é¡µé¢"></a>å¼•ç”¨queryçš„é¡µé¢</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template lang=&quot;pug&quot;&gt;</span><br><span class="line">section</span><br><span class="line">  //- è¡¨å•åŒºåŸŸ</span><br><span class="line">  enhanced-form.app-query-form(ref=&quot;queryForm&quot; :form-config=&quot;formConfig&quot; :form-attr=&quot;formAttr&quot;)</span><br><span class="line">    template(v-slot:districtName=&quot;&#123;config,form&#125;&quot;)</span><br><span class="line">      el-form-item(:label=&quot;config.label&quot; prop=&quot;districtName&quot;)</span><br><span class="line">        el-select(v-model=&quot;form.props.districtName&quot; v-bind=&quot;config&quot; @change=&quot;changeDistrict(form.props.districtName)&quot;)</span><br><span class="line">          el-option(v-for=&quot;item in config.options&quot; :key=&quot;item.value&quot; :value=&quot;item.value&quot; :label=&quot;item.label&quot; )</span><br><span class="line">    template(#btns)</span><br><span class="line">      el-form-item.app-btns-box</span><br><span class="line">        el-button.btn(type=&apos;primary&apos;, @click=&apos;clickSearchBtn&apos;) æŸ¥è¯¢</span><br><span class="line">        el-button.btn(type=&apos;primary&apos;, @click=&apos;clickResetBtn&apos;, plain=&apos;&apos;) é‡ç½®</span><br><span class="line">        el-button.btn(type=&apos;warning&apos;,plain=&apos;&apos;, @click=&apos;clickExportBtn&apos;) å¯¼å‡º</span><br><span class="line">  //- è¡¨æ ¼åŒºåŸŸ</span><br><span class="line">  enhanced-table(:is-load=&apos;isShowTableLoading&apos;, :table-data=&apos;tableData&apos;, :col-configs=&apos;colConfigs&apos;)</span><br><span class="line">  //- åˆ†é¡µ æ²¡æœ‰æ•°æ®çš„æ—¶å€™ä¸æ˜¾ç¤º</span><br><span class="line">  .pagination-box(v-if=&quot;tableData.length&quot;)</span><br><span class="line">    el-pagination(@current-change=&apos;changeTablePage&apos;, :current-page.sync=&apos;otherParams.pageIndex&apos;, :page-size=&apos;otherParams.pageSize&apos;, layout=&apos;prev, pager, next, jumper&apos;, :total=&apos;dataLength&apos;)</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Query from &apos;@/mixins/Query&apos;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  mixins: [Query],</span><br><span class="line">  data () &#123;</span><br><span class="line">    const formConfig = &#123;</span><br><span class="line">      year: &#123; label: &apos;å¹´ä»½&apos;, category: &apos;date-picker&apos;, default: (new Date()).getFullYear() + &apos;&apos;, type: &apos;year&apos;, format: &apos;yyyy&apos;, valueFormat: &apos;yyyy&apos; &#125;,</span><br><span class="line">      term: &#123; label: &apos;å­£åº¦&apos;, category: &apos;select&apos;, options: [&#123; value: &apos;æ˜¥&apos;, label: &apos;æ˜¥&apos; &#125;, &#123; value: &apos;å¤&apos;, label: &apos;å¤&apos; &#125;, &#123; value: &apos;ç§‹&apos;, label: &apos;ç§‹&apos; &#125;, &#123; value: &apos;å†¬&apos;, label: &apos;å†¬&apos; &#125;] &#125;,</span><br><span class="line">      area: &#123; label: &apos;å¤§åŒº&apos;, category: &apos;select&apos;, filterable: true, default: &apos;&apos;, options: null &#125;,</span><br><span class="line">      name: &#123; label: &apos;å§“å&apos;, category: &apos;input&apos; &#125;,</span><br><span class="line">      code: &#123; label: &apos;ç¼–å·&apos;, category: &apos;input&apos; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const colConfigs = [</span><br><span class="line">      &#123; prop: &apos;orderNumber&apos;, label: &apos;åºå·&apos;, sortable: false, align: &apos;center&apos; &#125;,</span><br><span class="line">      &#123; slot: &apos;projectName&apos;, prop: &apos;projectName&apos;, label: &apos;æ•™ç ”ç»„&apos;, sortable: false, align: &apos;center&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;teacherCount&apos;, label: &apos;æ•™å¸ˆæ•°é‡&apos;, sortable: false, align: &apos;center&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;lessonCount&apos;, label: &apos;æ€»è¯¾æ¬¡&apos;, sortable: false, align: &apos;center&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;uploadPercent&apos;, label: &apos;ä¸Šä¼ ç‡&apos;, sortable: false, align: &apos;center&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;passPercent&apos;, label: &apos;åˆæ ¼ç‡&apos;, sortable: false, align: &apos;center&apos; &#125;</span><br><span class="line">    ]</span><br><span class="line">    const ajaxApis = &#123;</span><br><span class="line">      query: &apos;AjaxQuery&apos;,</span><br><span class="line">      export: &apos;AjaxExport&apos;</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">      // æŸ¥è¯¢è¡¨å•é¡¹çš„é…ç½®</span><br><span class="line">      formConfig,</span><br><span class="line">      // è¡¨æ ¼æ¯åˆ—çš„é…ç½®</span><br><span class="line">      colConfigs,</span><br><span class="line">      // è¿™ä¸ªæ˜¯ è¯·æ±‚çš„æ–¹æ³•ï¼Œä¸åŒé¡µé¢çš„è¯·æ±‚æ–¹æ³•åè‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ éœ€è¦é…ç½®</span><br><span class="line">      ajaxApis</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // å¤„ç†ä¹‹åçš„æ•°æ®</span><br><span class="line">    tableData () &#123;</span><br><span class="line">      return this.tableDataNative</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // é¡µé¢åŠ è½½æ‰§è¡Œçš„æ–¹æ³•</span><br><span class="line">    async init () &#123;</span><br><span class="line">      // è¿™ä¸ªæœ‰å¼‚æ­¥æ“ä½œï¼Œéœ€è¦ç”¨await</span><br><span class="line">      await this.setAreaOptions()</span><br><span class="line">      this.getTableData()</span><br><span class="line">    &#125;,</span><br><span class="line">    async setAreaOptions () &#123;</span><br><span class="line">      let res = await this.$api.AjaxGetAreas()</span><br><span class="line">      let options = res.data.data</span><br><span class="line">      this.setSingleFormItem(&#123; prop: &apos;area&apos;, attr: &apos;options&apos;, value: options &#125;)</span><br><span class="line">      this.setSingleFormItem(&#123; prop: &apos;area&apos;, attr: &apos;default&apos;, value: options[1].value &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.el-table&#123;</span><br><span class="line">  border:1px solid #e8e8e8;</span><br><span class="line">  width: 90%;</span><br><span class="line">  margin: auto;</span><br><span class="line">&#125;</span><br><span class="line">.pagination-box&#123;</span><br><span class="line">  margin-top: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="ä¸è¶³"><a href="#ä¸è¶³" class="headerlink" title="ä¸è¶³"></a>ä¸è¶³</h2><p>æ°´å¹³æœ‰é™ï¼Œå³ä¾¿è¿™æ ·è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ï¼Œå—¯ï¼Œç»§ç»­åŠ æ²¹</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/12/1-3-æ”¹å˜æ€ç»´æ¨¡å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="èŠ±èŠ±çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/11/12/1-3-æ”¹å˜æ€ç»´æ¨¡å¼/" itemprop="url">
                  æ”¹å˜æ€ç»´æ¨¡å¼
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-12T14:28:56+08:00">
                2019-11-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ä»å¿ƒç†è§£å­©å­/" itemprop="url" rel="index">
                    <span itemprop="name">ä»å¿ƒç†è§£å­©å­</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/11/12/1-3-æ”¹å˜æ€ç»´æ¨¡å¼/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2019/11/12/1-3-æ”¹å˜æ€ç»´æ¨¡å¼/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://v-fantuan.guokr.net/ll5Y4wbwsAA1s6pnBjlQiYBMljpa954.mp3?e=1573542823&amp;token=hFAFNPMs5Sic8qvmInL3VaDyfLWb19irVTmwJLuz:RVrIapz2eOi6Lu8LxnjDz6O969g=" target="_blank" rel="noopener">ç›´æ¥çš„è¯­éŸ³åœ°å€</a></p>
<h2 id="å½“å­©å­çš„è¡Œä¸ºå‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œæ€ä¹ˆæ€è€ƒï¼Ÿæ¢ç©¶å…¶æ ¹æºï¼Œéè¡¨è±¡"><a href="#å½“å­©å­çš„è¡Œä¸ºå‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œæ€ä¹ˆæ€è€ƒï¼Ÿæ¢ç©¶å…¶æ ¹æºï¼Œéè¡¨è±¡" class="headerlink" title="å½“å­©å­çš„è¡Œä¸ºå‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œæ€ä¹ˆæ€è€ƒï¼Ÿæ¢ç©¶å…¶æ ¹æºï¼Œéè¡¨è±¡"></a>å½“å­©å­çš„è¡Œä¸ºå‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œæ€ä¹ˆæ€è€ƒï¼Ÿæ¢ç©¶å…¶æ ¹æºï¼Œéè¡¨è±¡</h2><p>å¾ˆå¤šæ—¶å€™éœ€è¦åæ€è‡ªå·±çš„ä¸å­©å­çš„äº’åŠ¨ï¼Œæ˜¯å¦å°Šé‡å¥¹ï¼Œç»™å¥¹è‡ªç”±çš„æ¢ç´¢ç©ºé—´ï¼Œè®©å¥¹è‡ªå·±åšä¸€äº›èƒ½åŠ›èŒƒå›´å†…çš„é€‰æ‹©ã€‚<br>æ¯”å¦‚ç»™å­©å­æŠ¥äº†å¾ˆå¤šå…´è¶£ç­ï¼Œä½†å­©å­ä¸æƒ³ä¸Šï¼Œæ€ä¹ˆåŠï¼Ÿ<br>å…¶å®è¿™æ—¶å€™åº”è¯¥æƒ³çš„æ˜¯ï¼Œä¸æƒ³ä¸Šåªæ˜¯è¡¨é¢ç°è±¡ï¼Œå’Œå­©å­ä»å°åˆ°å¤§çš„äº’åŠ¨ä¸­ï¼Œçˆ¶æ¯æ˜¯æ€ä¹ˆäº’åŠ¨çš„å¯èƒ½æ˜¯ä¸»è¦æ ¹æºã€‚æœ‰æ²¡æœ‰å°Šé‡å­©å­çš„å…´è¶£ï¼Œæœ‰æ²¡æœ‰å°Šé‡ä»–è‡ªç”±æ¢ç´¢ï¼Œæ˜¯å¥¹æ„Ÿå…´è¶£çš„å…´è¶£ç­ï¼Œè¿˜æ˜¯å¦ˆå¦ˆå–œæ¬¢çš„å…´è¶£ç­ã€‚  </p>
<h2 id="å¯¹å­©å­çš„æœŸæœ›è¦ç¬¦åˆä»–ä»¬çš„å‘å±•çŠ¶å†µï¼Œè¦çœŸå¿ƒæ¥çº³ä»–ä»¬"><a href="#å¯¹å­©å­çš„æœŸæœ›è¦ç¬¦åˆä»–ä»¬çš„å‘å±•çŠ¶å†µï¼Œè¦çœŸå¿ƒæ¥çº³ä»–ä»¬" class="headerlink" title="å¯¹å­©å­çš„æœŸæœ›è¦ç¬¦åˆä»–ä»¬çš„å‘å±•çŠ¶å†µï¼Œè¦çœŸå¿ƒæ¥çº³ä»–ä»¬"></a>å¯¹å­©å­çš„æœŸæœ›è¦ç¬¦åˆä»–ä»¬çš„å‘å±•çŠ¶å†µï¼Œè¦çœŸå¿ƒæ¥çº³ä»–ä»¬</h2><p>æ¯”å¦‚ä¸Šå­¦åˆšå¼€å§‹çš„æ—¶å€™ç£¨ç£¨è¹­è¹­çš„ï¼Œå…¶å®å¾ˆæ­£å¸¸ï¼Œå¤§è„‘çš„æ‰§è¡ŒåŠŸèƒ½æ²¡æœ‰æˆç†Ÿï¼Œæ­¤æ—¶ç»å¸¸å’Œä»–ä»¬è®¨è®ºæ—¶é—´è¡¨ï¼ŒæŠŠæ—¶é—´è¡¨è´´åœ¨å¢™ä¸Šï¼Œè™½ç„¶å‚¬ä½†ä¸ä¼šäººèº«æ”»å‡»ï¼Œä¹…è€Œä¹…ä¹‹ï¼Œåˆ°äº†ä¸‰å¹´çº§ï¼Œå°±å¥½å¤šäº†</p>
<p>æ¯”å¦‚ä½œä¸šç®¡ç†ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æ‹¿å›æ¥ä¸€å¼ çº¸ï¼Œåšå®Œäº†ï¼Œç„¶åå°±ä¸çŸ¥é“ä½œä¸šçº¸å»å“ªé‡Œäº†ï¼Œæ­¤æ—¶å’Œä»–ä»¬è¯´ï¼Œè¦å­¦ä¼šè‡ªå·±å¯¹ä½œä¸šè´Ÿè´£ï¼Œå¹¶ä¸”è¾…åŠ©æ”¾ä¸ªå¡‘æ–™æ¡†ï¼Œå†™å®Œæ”¾è¿›å»ï¼Œä¹…è€Œä¹…ä¹‹ï¼Œåˆ°äº†ä¸‰å¹´çº§ï¼Œå°±å¥½å¤šäº†</p>
<p>æ¯”å¦‚ä¹¦åŒ…ç®¡ç†ï¼Œå†™å¥½æ¸…å•ï¼Œè¦æ”¾çš„ä¸œè¥¿ï¼Œå‰å¤©æ™šä¸Šå°±æ”¶æ‹¾å¥½ã€‚æ…¢æ…¢çš„å…»æˆä¹ æƒ¯äº†å°±å¥½äº†ã€‚</p>
<p>æ¯”å¦‚ä½œä¸šå¿˜äº†å¸¦ï¼Œä»–ä»¬è‡ªå·±çŸ¥é“å°±å¥½äº†ï¼Œä¸å¿…è‹›è´£ã€‚æ…¢æ…¢ç»™ä»–ä»¬è€å¿ƒï¼Œä»–ä»¬ä¼šæ…¢æ…¢é•¿å¤§çš„ã€‚å¿˜è®°å¸¦çš„æ¬¡æ•°ä¼šè¶Šæ¥è¶Šå°‘çš„~</p>
<h2 id="è®²é“ç†å½’è®²é“ç†ï¼Œä½†ä¸€å®šä¼˜å…ˆè€ƒè™‘å­©å­çš„æ„Ÿå—"><a href="#è®²é“ç†å½’è®²é“ç†ï¼Œä½†ä¸€å®šä¼˜å…ˆè€ƒè™‘å­©å­çš„æ„Ÿå—" class="headerlink" title="è®²é“ç†å½’è®²é“ç†ï¼Œä½†ä¸€å®šä¼˜å…ˆè€ƒè™‘å­©å­çš„æ„Ÿå—"></a>è®²é“ç†å½’è®²é“ç†ï¼Œä½†ä¸€å®šä¼˜å…ˆè€ƒè™‘å­©å­çš„æ„Ÿå—</h2><p>è¿èƒŒå­©å­æ„Ÿå—çš„è®²é“ç†ï¼Œä¼šè®©å­©å­ä¸èˆ’æœï¼Œæ„¤æ€’ç”šè‡³é€†åã€‚å¾ˆå¤šæ—¶å€™å®½å®¹ç†è§£ï¼Œä»è€Œè®©å­©å­æ›´åŠ æ˜ç™½è‡ªå·±çš„è´£ä»»æ„Ÿã€‚<br>æƒ³æƒ³ä½ çš„æ€åº¦ã€è¯­è¨€ä»¥åŠä¼ é€’ç»™å­©å­çš„ä»·å€¼è§‚æ˜¯ä»€ä¹ˆ</p>
<p>æ¯”å¦‚å¿˜è®°å¸¦ä½œä¸šç¬¬ä¸‰æ¬¡äº†ï¼Œå­©å­å¹¶ä¸æ˜¯æ•…æ„çš„ï¼Œä»–æœ¬äººä¹Ÿå·²ç»ä¸å¼€å¿ƒäº†ï¼Œæ­¤æ—¶åº”è¯¥æŠ±æŠ±ä»–ï¼Œè·Ÿä»–è¯´è™½ç„¶æ²¡å¸¦é€ æˆä¸€äº›ä¸å¼€å¿ƒï¼Œä½†ä¹Ÿä¸è¦æ²®ä¸§ï¼Œä»¥åå°½é‡è®°å¾—å°±å¥½äº†ï¼Œè€Œä¸æ˜¯ä¸€å‘³è‹›è´£ä»–ã€‚</p>
<p>å‘å±•æ˜¯è¿ç»­çš„ï¼Œä¸è¦å¦„å›¾è®©å­©å­åœ¨çŸ­æ—¶é—´å†…è„±èƒæ¢éª¨ï¼Œæ…¢æ…¢åŸ¹å…»ä»–ä»¬çš„è´£ä»»å¿ƒï¼Œèƒ½åŠ›ï¼Œç»™ä»–ä»¬è€å¿ƒè®©ä»–ä»¬æˆé•¿æˆç†Ÿã€‚åˆ‡å¿Œä¸èƒ½æ“çºµä»–ä»¬ï¼Œä¸€äººä¸“åˆ¶ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/06/1-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="èŠ±èŠ±çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/11/06/1-1/" itemprop="url">
                  å‘å±•æ˜¯ä»€ä¹ˆ
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-06T18:00:42+08:00">
                2019-11-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ä»å¿ƒç†è§£å­©å­/" itemprop="url" rel="index">
                    <span itemprop="name">ä»å¿ƒç†è§£å­©å­</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/11/06/1-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2019/11/06/1-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="/Users/zhm/mygit/http-demo/enhanced-table/1-1.md">1-1å‘å±•æ˜¯ä»€ä¹ˆï¼Œ2020.11.01ä¹‹å‰æœ‰æ•ˆ</a></p>
<p>å‘å±•æ˜¯ä¸‰ä¸ªèŒƒç•´çš„ç»Ÿç§°ï¼šç”Ÿç†å‘å±•ã€è®¤çŸ¥å‘å±•ã€ç¤¾ä¼šåŒ–å’Œæƒ…æ„Ÿçš„å‘å±•ã€‚<br>ä¸‰è€…ç¼ºä¸€ä¸å¯ï¼Œç›¸äº’äº¤ç»‡ï¼Œç›¸è¾…ç›¸æˆã€‚<br>ä¸‰ä¸ªèŒƒç•´å‡è¡¡å‘å±•æ‰æ˜¯å¥åº·çš„å‘å±•ï¼Œæ‰æ˜¯ä¸€æ£µæ ‘ï¼Œä¸å¿…æ­»ç£•ä¸€ä¸ªæä¸«ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼Œ2-3å²å­©å­ä¸èƒ½ä¸»åŠ¨å’Œåˆ«äººä¸€èµ·ç©å¾ˆæ­£å¸¸ï¼Œæƒ³è§£å†³çš„è¯ï¼Œä¸€èˆ¬ä»ä¸‰ä¸ªæ–¹é¢ç€æ‰‹ï¼š</p>
<ul>
<li>ç‹¬ç«‹æ„Ÿï¼šå¥¹ç¡®è®¤è‡ªå·±å¯ä»¥èƒ½ç‹¬ç«‹åšä¸€äº›äº‹ï¼Œç”Ÿæ´»ä¸­å¯ä»¥æä¾›ä¸€äº›é€‰æ‹©å¯ä»¥è®©å…¶é€‰æ‹©</li>
<li>èƒ½åŠ›æ„Ÿï¼šå¥¹çŸ¥é“è‡ªå·±èƒ½åŠ›çš„è¾¹ç•Œï¼Œä¼šåšä»€ä¹ˆä¸ä¼šåšä»€ä¹ˆï¼Œç”Ÿæ´»ä¸­é¼“åŠ±ä¹Ÿæä¾›æœºä¼šè®©å…¶å°è¯•</li>
<li>å®¶åº­æ°›å›´ï¼šå¥¹çŸ¥é“å®¶äººå°±æ˜¯å®‰å…¨æ¸¯æ¹¾ï¼Œçˆ¶æ¯è¦å°½å¯èƒ½æä¾›å®‰å…¨æ„Ÿ</li>
</ul>
<p>å› æ­¤ï¼Œå¸¦å¥¹å‡ºå»ç©ï¼Œå¥¹æƒ³æ€ä¹ˆç©å°±æ€ä¹ˆç©ï¼Œä¸è¦è¿èƒŒå¥¹çš„æ„æ„¿ï¼Œä¸Šé¢ä¸‰ä¸ªæ¡ä»¶éƒ½å¾ˆæ£’çš„æƒ…å†µä¸‹ï¼Œèƒ½å’Œåˆ«äººä¸€èµ·ç©çš„æ¦‚ç‡å°±ä¼šå¤§å¤§æé«˜ã€‚</p>
<p>æœ‰äº›å­©å­å¾ˆå†…å‘çš„è¯ï¼Œæ¯”å¦‚è¢«æŠ¢äº†ç©å…·ï¼Œå¥¹æœ¬èº«ä¸æŠŠè¿™ä¸ªå½“åšä¸€å›äº‹ï¼Œçˆ¶æ¯ä¹Ÿå°±ä¸è¦å¤ªåœ¨æ„ï¼Œé‡ç‚¹è¿˜æ˜¯åŸ¹å…»ä¸Šé¢ä¸‰ä¸ªç‚¹ï¼Œé•¿æœŸä»¥å¾€ï¼Œæƒ…å†µæ˜æ˜¾å¥½è½¬ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/06/mock-api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="èŠ±èŠ±çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/11/06/mock-api/" itemprop="url">
                  expresså¿«é€Ÿmockæ•°æ®
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-06T16:23:22+08:00">
                2019-11-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/11/06/mock-api/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2019/11/06/mock-api/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ‰æ—¶å€™éœ€è¦ç®€å•çš„mockæ•°æ®ã€‚å…¶å®ç”¨expressä¹Ÿå¾ˆç®€å•ã€‚æ‰¾ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œ<code>npm init -y;npm i express body-parser</code>ï¼Œç„¶ååˆ›å»ºä¸ªjsï¼Œå†<code>node xx.js</code>å³å¯ã€‚<br>è®¿é—®<a href="http://localhost:3333" target="_blank" rel="noopener">http://localhost:3333</a>è¯•è¯•~</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// npm i express body-parser</span></span><br><span class="line"><span class="keyword">let</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">let</span> bodyParser = <span class="built_in">require</span>(<span class="string">'body-parser'</span>)</span><br><span class="line"><span class="keyword">let</span> app = express()</span><br><span class="line">app.use(bodyParser.json())</span><br><span class="line">app.use(bodyParser.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line"><span class="comment">// è®¾ç½®è·¨åŸŸ</span></span><br><span class="line">app.use(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.header(<span class="string">'Access-Control-Allow-Origin'</span>, <span class="string">'*'</span>)</span><br><span class="line">  res.header(<span class="string">'Access-Control-Allow-Headers'</span>, <span class="string">'Content-Type,Content-Length, Authorization, Accept,X-Requested-With'</span>)</span><br><span class="line">  res.header(<span class="string">'Access-Control-Allow-Methods'</span>, <span class="string">'PUT,POST,GET,DELETE,OPTIONS'</span>)</span><br><span class="line">  <span class="comment">// è®©optionsè¯·æ±‚å¿«é€Ÿè¿”å›</span></span><br><span class="line">  req.method === <span class="string">'OPTIONS'</span> ? res.sendStatus(<span class="number">200</span>) : next()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å¦‚æœéœ€è¦é™æ€æ–‡ä»¶æœåŠ¡å¯ä»¥æ”¾å¼€ä¸‹é¢è¿™è¡Œ</span></span><br><span class="line"><span class="comment">// app.use(express.static('./dist'))</span></span><br><span class="line">app.listen(<span class="number">3333</span>,()=&gt;&#123;<span class="built_in">console</span>.log(<span class="string">'ç«¯å£3333å·²å¯åŠ¨'</span>)&#125;)</span><br><span class="line"><span class="comment">// å¼€å§‹mock http://localhost:3333 è®¿é—®ä¸‹</span></span><br><span class="line">app.get(<span class="string">'/'</span>,(req,res)=&gt;&#123;res.json(&#123;<span class="attr">ok</span>:<span class="number">1</span>&#125;)&#125;)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/06/enhanced-table/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="èŠ±èŠ±çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/11/06/enhanced-table/" itemprop="url">
                  ä¼˜é›…çš„ä½¿ç”¨ element-ui ä¸­çš„ table ç»„ä»¶ä¹‹å‡çº§ç‰ˆ
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-06T16:20:27+08:00">
                2019-11-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/11/06/enhanced-table/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2019/11/06/enhanced-table/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>åŸæ–‡åœ¨è¿™é‡Œï¼Œ<a href="https://juejin.im/post/5a100d09f265da4324800807" target="_blank" rel="noopener">ä¼˜é›…çš„ä½¿ç”¨ element-ui ä¸­çš„ table ç»„ä»¶</a>ï¼Œ ä½œè€…å†™çš„å¾ˆæ£’ï¼Œæˆ‘åœ¨é¡¹ç›®é‡Œä¹Ÿå¹¿æ³›ä½¿ç”¨ï¼Œå¾ˆå¥½ç”¨ï¼Œä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºéœ€è¦å…¶ä»–çš„åŠŸèƒ½ï¼Œæˆ‘åœ¨ä½œè€…åŸæœ‰çš„åŸºç¡€ä¸Šï¼Œå‡çº§äº†åŸç»„ä»¶ï¼Œä¸»è¦å¢åŠ äº†ä»¥ä¸‹ï¼š</p>
<ul>
<li><code>slot-scope</code>ç»Ÿä¸€æ›¿æ¢æˆ<code>v-slot</code></li>
<li>è‡ªå®šä¹‰æ’åº</li>
<li>å¯å‹¾é€‰</li>
<li>åŠ è½½çŠ¶æ€</li>
</ul>
<h2 id="EnhancedTableçš„ä»£ç "><a href="#EnhancedTableçš„ä»£ç " class="headerlink" title="EnhancedTableçš„ä»£ç "></a>EnhancedTableçš„ä»£ç </h2><p>å…ˆè´´ä¸Šæºç ï¼Œæˆ‘å–œæ¬¢ç”¨pugï¼Œå…¶å®å°±æ˜¯å»æ‰æˆå¯¹çš„æ ‡ç­¾ï¼Œå±æ€§åœ¨æ‹¬å·é‡Œï¼Œé€šè¿‡ç¼©è¿›è¡¨è¾¾åµŒå¥—å…³ç³»ã€‚è®©é¡¹ç›®èƒ½ç”¨pugçš„è¯ï¼Œ<code>npm install pug pug-cli pug-plain-loader -D</code>å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template lang=&quot;pug&quot;&gt;</span><br><span class="line">el-table(:data=&quot;tableData&quot; v-loading=&quot;isLoad&quot; stripe v-bind=&quot;tableConfig&quot; @sort-change=&quot;changeSort&quot; @selection-change=&quot;changeSelectRows&quot;)</span><br><span class="line">  template(v-for=&quot;colConfig in colConfigs&quot;)</span><br><span class="line">    //- å¾ªç¯æ¯ä¸€é¡¹ æœ‰slotçš„å•ç‹¬æ¸²æŸ“</span><br><span class="line">    slot(v-if=&quot;colConfig.slot&quot; :name=&quot;colConfig.slot&quot; :col-config=&quot;colConfig&quot;)</span><br><span class="line">    //- æœ‰componentçš„å•ç‹¬æ¸²æŸ“</span><br><span class="line">    component(v-else-if=&quot;colConfig.component&quot; :is=&quot;colConfig.component&quot; :col-config=&quot;colConfig&quot;)</span><br><span class="line">    //- æ™®é€šé¡¹</span><br><span class="line">    el-table-column(v-else v-bind=&quot;colConfig&quot;)</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;enhanced-table&apos;,</span><br><span class="line">  props: &#123; colConfigs: Array, tableData: Array, tableConfig: Object, isLoad: Boolean &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // æå‰å…ˆå®šä¹‰æ’åºäº‹ä»¶ï¼Œéœ€è¦ç”¨çš„æ—¶å€™ç›´æ¥åœ¨çˆ¶ç»„ä»¶ä½¿ç”¨</span><br><span class="line">    changeSort (&#123; column, prop, order &#125;) &#123;</span><br><span class="line">      this.$emit(&apos;sort-change&apos;, column, prop, order)</span><br><span class="line">    &#125;,</span><br><span class="line">    // æå‰å…ˆå®šä¹‰æ’åºäº‹ä»¶ï¼Œéœ€è¦ç”¨çš„æ—¶å€™ç›´æ¥åœ¨çˆ¶ç»„ä»¶ä½¿ç”¨</span><br><span class="line">    changeSelectRows (val) &#123;</span><br><span class="line">      this.$emit(&apos;selection-change&apos;, val)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="çˆ¶ç»„ä»¶ä½¿ç”¨EnhancedTable"><a href="#çˆ¶ç»„ä»¶ä½¿ç”¨EnhancedTable" class="headerlink" title="çˆ¶ç»„ä»¶ä½¿ç”¨EnhancedTable"></a>çˆ¶ç»„ä»¶ä½¿ç”¨EnhancedTable</h2><p>ç»¼åˆä½¿ç”¨çš„demoä»£ç å¦‚ä¸‹ï¼Œ<a href="https://github.com/frontzhm/web-demo/tree/master/enhanced-table" target="_blank" rel="noopener">githubåœ°å€</a>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line">&lt;template lang=&quot;pug&quot;&gt;</span><br><span class="line">ul</span><br><span class="line">  li</span><br><span class="line">    h2(id=&quot;#basic&quot;) åŸºæœ¬è¡¨æ ¼</span><br><span class="line">    enhanced-table(:tableData=&quot;tableData&quot; :col-configs=&quot;basicTableConfigs&quot;)</span><br><span class="line">  li</span><br><span class="line">    h2 ç‰¹æ®Šè¡Œç”¨slotçš„è¡¨æ ¼</span><br><span class="line">    enhanced-table(:tableData=&quot;tableData&quot; :col-configs=&quot;slotTableConfigs&quot;)</span><br><span class="line">      template(v-slot:options=&quot;&#123;colConfig&#125;&quot;)</span><br><span class="line">        el-table-column(v-bind=&quot;colConfig&quot;)</span><br><span class="line">          template(v-slot=&quot;&#123;row&#125;&quot;)</span><br><span class="line">            el-button(size=&quot;mini&quot;) æŸ¥çœ‹&#123;&#123;row.date&#125;&#125;</span><br><span class="line">  li</span><br><span class="line">    h2 ç‰¹æ®Šè¡Œç”¨componentçš„è¡¨æ ¼</span><br><span class="line">    enhanced-table(:tableData=&quot;tableData&quot; :col-configs=&quot;componentTableConfigs&quot;)</span><br><span class="line">  li</span><br><span class="line">    h2 æœ‰æ’åºçš„è¡¨æ ¼</span><br><span class="line">    enhanced-table(:tableData=&quot;tableData&quot; :col-configs=&quot;sortedTableConfigs&quot;,@sort-change=&apos;changeCustomSort&apos;)</span><br><span class="line">  li</span><br><span class="line">    h2 å¯ä»¥å‹¾é€‰è¡Œçš„è¡¨æ ¼</span><br><span class="line">    enhanced-table(:tableData=&quot;tableData&quot; :col-configs=&quot;selectRowTableConfigs&quot;,@selection-change=&quot;selectDeleteRows&quot;)</span><br><span class="line">  li(id=&quot;#loading&quot;)</span><br><span class="line">    h2 æœ‰åŠ è½½çŠ¶æ€çš„è¡¨æ ¼</span><br><span class="line">    enhanced-table(:is-load=&apos;isShowTableLoading&apos; :tableData=&quot;tableData&quot; :col-configs=&quot;selectRowTableConfigs&quot;)</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// @ is an alias to /src</span><br><span class="line">import EnhancedTable from &apos;@/components/EnhancedTable.vue&apos;</span><br><span class="line">import PrefixPlusText from &apos;@/components/PrefixPlusText.vue&apos;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;home&apos;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    EnhancedTable,</span><br><span class="line">    PrefixPlusText</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    let basicTableConfigs = [</span><br><span class="line">      &#123; prop: &apos;date&apos;, label: &apos;æ—¥æœŸ&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;name&apos;, label: &apos;å§“å&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;address&apos;, label: &apos;åœ°å€&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;trend&apos;, label: &apos;è¶‹åŠ¿&apos; &#125;</span><br><span class="line">    ]</span><br><span class="line">    let slotTableConfigs = [</span><br><span class="line">      &#123; prop: &apos;date&apos;, label: &apos;æ—¥æœŸ&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;name&apos;, label: &apos;å§“å&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;address&apos;, label: &apos;åœ°å€&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;trend&apos;, label: &apos;è¶‹åŠ¿&apos; &#125;,</span><br><span class="line">      &#123; slot: &apos;options&apos;, label: &apos;slotçš„æ“ä½œ&apos;, message: &apos;message&apos; &#125;</span><br><span class="line">    ]</span><br><span class="line">    let componentTableConfigs = [</span><br><span class="line">      &#123; prop: &apos;date&apos;, label: &apos;æ—¥æœŸ&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;name&apos;, label: &apos;å§“å&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;address&apos;, label: &apos;åœ°å€&apos; &#125;,</span><br><span class="line">      &#123; component: PrefixPlusText, prop: &apos;change&apos;, label: &apos;componentçš„å˜åŒ–&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;trend&apos;, label: &apos;è¶‹åŠ¿&apos; &#125;</span><br><span class="line">    ]</span><br><span class="line">    let sortedTableConfigs = [</span><br><span class="line">      &#123; prop: &apos;date&apos;, label: &apos;æœ‰æ’åºçš„æ—¥æœŸï¼Œä¸æ˜¯è‡ªå®šä¹‰çš„ä¸éœ€è¦åŠ äº‹ä»¶&apos;, sortable: true &#125;,</span><br><span class="line">      &#123; prop: &apos;name&apos;, label: &apos;è‡ªå®šä¹‰æ’åºçš„å§“åï¼Œéœ€è¦åŠ äº‹ä»¶&apos;, sortable: &apos;custom&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;address&apos;, label: &apos;åœ°å€&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;trend&apos;, label: &apos;è¶‹åŠ¿&apos; &#125;</span><br><span class="line">    ]</span><br><span class="line">    let selectRowTableConfigs = [</span><br><span class="line">      &#123; prop: &apos;éšä¾¿&apos;, type: &apos;selection&apos;, label: &apos;æ—¥æœŸ&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;date&apos;, label: &apos;æ—¥æœŸ&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;name&apos;, label: &apos;å§“å&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;address&apos;, label: &apos;åœ°å€&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;trend&apos;, label: &apos;è¶‹åŠ¿&apos; &#125;</span><br><span class="line">    ]</span><br><span class="line">    let loadingTableConfigs = [</span><br><span class="line">      &#123; prop: &apos;date&apos;, label: &apos;æ—¥æœŸ&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;name&apos;, label: &apos;å§“å&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;address&apos;, label: &apos;åœ°å€&apos; &#125;,</span><br><span class="line">      &#123; prop: &apos;trend&apos;, label: &apos;è¶‹åŠ¿&apos; &#125;</span><br><span class="line">    ]</span><br><span class="line">    return &#123;</span><br><span class="line">      basicTableConfigs,</span><br><span class="line">      slotTableConfigs,</span><br><span class="line">      componentTableConfigs,</span><br><span class="line">      sortedTableConfigs,</span><br><span class="line">      // ä¸‹é¢rowsToDeleteåœ¨å‹¾é€‰äº‹ä»¶çš„æ—¶å€™èƒ½æ˜¯æ•°ç»„ï¼Œæ¯é¡¹å°±æ˜¯row</span><br><span class="line">      selectRowTableConfigs,</span><br><span class="line">      rowsToDelete: [],</span><br><span class="line">      // ä¸‹é¢çš„isShowTableLoadingå°±æ˜¯åŠ è½½çš„flag</span><br><span class="line">      loadingTableConfigs,</span><br><span class="line">      isShowTableLoading: true,</span><br><span class="line"></span><br><span class="line">      tableData: [&#123;</span><br><span class="line">        id: &apos;1&apos;,</span><br><span class="line">        date: &apos;2016-05-02&apos;,</span><br><span class="line">        name: &apos;ç‹å°è™&apos;,</span><br><span class="line">        address: &apos;ä¸Šæµ·å¸‚æ™®é™€åŒºé‡‘æ²™æ±Ÿè·¯ 1518 å¼„&apos;,</span><br><span class="line">        change: &apos;12%&apos;,</span><br><span class="line">        trend: &apos;10%&apos;</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      this.isShowTableLoading = false</span><br><span class="line">    &#125;, 1000)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    changeCustomSort (column, prop, order) &#123;</span><br><span class="line">      console.log(arguments)</span><br><span class="line">      let isAsc</span><br><span class="line">      order === null &amp;&amp; (isAsc = &apos;&apos;)</span><br><span class="line">      order === &apos;ascending&apos; &amp;&amp; (isAsc = true)</span><br><span class="line">      order === &apos;descending&apos; &amp;&amp; (isAsc = false)</span><br><span class="line">      this.sortBy = prop</span><br><span class="line">      this.isAsc = isAsc</span><br><span class="line">    &#125;,</span><br><span class="line">    selectDeleteRows (val) &#123;</span><br><span class="line">      console.log(arguments)</span><br><span class="line">      this.rowsToDelete = val</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="éƒ¨ç½²ç”¨çš„"><a href="#éƒ¨ç½²ç”¨çš„" class="headerlink" title="éƒ¨ç½²ç”¨çš„"></a>éƒ¨ç½²ç”¨çš„</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿æ¥æœåŠ¡å™¨</span></span><br><span class="line">ssh han</span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä¸“é—¨æ”¾ä¸€äº›åŒ…</span></span><br><span class="line">mkdir package</span><br><span class="line"><span class="built_in">cd</span> package</span><br><span class="line"><span class="comment"># ä¸‹è½½å’Œè§£å‹node</span></span><br><span class="line">wget https://nodejs.org/dist/v10.15.3/node-v10.15.3-linux-x64.tar.xz</span><br><span class="line">xz -d node-v10.15.3-linux-x64.tar.xz</span><br><span class="line">tar -xvf node-v10.15.3-linux-x64.tar</span><br><span class="line"><span class="comment"># è®©nodeèƒ½å…¨å±€ä½¿ç”¨</span></span><br><span class="line"><span class="built_in">cd</span> node-v10.15.3-linux-x64</span><br><span class="line"><span class="built_in">pwd</span></span><br><span class="line">ln -s <span class="built_in">pwd</span>çš„è·¯å¾„/bin/node /usr/<span class="built_in">local</span>/bin/node</span><br><span class="line">ln -s ~/package/node-v10.15.3-linux-x64/bin/npm /usr/<span class="built_in">local</span>/bin/npm</span><br><span class="line">ln -s <span class="built_in">pwd</span>çš„è·¯å¾„/bin/npx /usr/<span class="built_in">local</span>/bin/npx</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…git</span></span><br><span class="line">sudo apt-get install git</span><br><span class="line"><span class="comment"># ç”Ÿæˆå…¬ç§é’¥</span></span><br><span class="line">ssh-keygen</span><br><span class="line"><span class="comment"># æ‰‹åŠ¨å¤åˆ¶ä¸‹</span></span><br><span class="line">less ~/.ssh/id_rsa.pub</span><br><span class="line"><span class="comment"># å»githubä¸Š settings - deploy keys å¢åŠ ä¹‹å</span></span><br><span class="line"><span class="comment"># é¡¹ç›®æ‹¿è¿‡æ¥</span></span><br><span class="line">git <span class="built_in">clone</span> git@github.com:frontzhm/web-demo.git</span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cd /Users/zhm/mygit/http-demo/enhanced-table</span></span><br><span class="line"><span class="comment"># yarn build</span></span><br><span class="line"><span class="comment"># git add .;git commit -m"update enhanced-table"</span></span><br><span class="line"><span class="comment"># git pull</span></span><br><span class="line"><span class="comment"># git push</span></span><br><span class="line"><span class="comment"># ssh han "cd ~/web-demo/enhanced-table;git pull"</span></span><br><span class="line"><span class="comment"># echo -e '\033[32m okâ™ª(^âˆ‡^*)è¯·è®¿é—®  \033[0m'</span></span><br><span class="line">scp /Users/zhm/mygit/http-demo/enhanced-table/server.js han:~/web-demo/enhanced-table/server.js</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/01/nuxt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="frontzhm">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://omizt4opc.bkt.clouddn.com/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="èŠ±èŠ±çš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/11/01/nuxt/" itemprop="url">
                  nuxtçš„ä½¿ç”¨
                </a>
              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-01T15:51:46+08:00">
                2019-11-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js-vue-nuxt/" itemprop="url" rel="index">
                    <span itemprop="name">js,vue,nuxt</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/11/01/nuxt/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2019/11/01/nuxt/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="å»ºç«‹é¡¹ç›®"><a href="#å»ºç«‹é¡¹ç›®" class="headerlink" title="å»ºç«‹é¡¹ç›®"></a>å»ºç«‹é¡¹ç›®</h2><p>npx create-nuxt-app &lt;é¡¹ç›®å&gt;<br>cd é¡¹ç›®<br>yarn dev</p>
<h2 id="nuxt-config-js"><a href="#nuxt-config-js" class="headerlink" title="nuxt.config.js"></a>nuxt.config.js</h2><p>ä¸»è¦åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé…ç½®ã€‚<br>modeé…ç½®æ¨¡å¼ï¼Œspaå•é¡µé¢ï¼Œuniversalæ™®é€šæ¨¡å¼å¯ä»¥seo<br>envé…ç½®ç¯å¢ƒå˜é‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  mode: <span class="string">'universal'</span>,</span><br><span class="line">  <span class="comment">// process.env.baseUrl</span></span><br><span class="line">  env:&#123;</span><br><span class="line">baseUrl:process.env.NODE_ENV === <span class="string">'production'</span>?<span class="string">'localhost:'</span>:<span class="string">'/'</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h2 id="åŠ è½½æ¡"><a href="#åŠ è½½æ¡" class="headerlink" title="åŠ è½½æ¡"></a>åŠ è½½æ¡</h2><p>è·Ÿæ‰“å¼€githubç±»ä¼¼çš„é‚£ä¸ªé¡µé¢ä¸Šé¢çš„ä¸€æ¡</p>
<p>pages/index.vue</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mounted()&#123;</span><br><span class="line">  <span class="keyword">this</span>.$nextTick(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.$nuxt.$loading.start()</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.$nuxt.$loading.finish()</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><p>åœ¨assetsåŠ ä¸ªcommon.cssï¼Œé‡Œé¢å†™ç‚¹ä»£ç </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">css: [</span><br><span class="line">  <span class="string">'~assets/common.css'</span>,</span><br><span class="line">  <span class="string">'element-ui/lib/theme-chalk/index.css'</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<h2 id="æ–°å»ºé¡µé¢çš„æ—¶å€™è‡ªåŠ¨å»ºç«‹è·¯ç”±"><a href="#æ–°å»ºé¡µé¢çš„æ—¶å€™è‡ªåŠ¨å»ºç«‹è·¯ç”±" class="headerlink" title="æ–°å»ºé¡µé¢çš„æ—¶å€™è‡ªåŠ¨å»ºç«‹è·¯ç”±"></a>æ–°å»ºé¡µé¢çš„æ—¶å€™è‡ªåŠ¨å»ºç«‹è·¯ç”±</h2><p>pages/index.vueé‡Œå†™ä¸ªé¦–é¡µï¼Œç„¶åï¼Œåœ¨å»ºç«‹ä¸€ä¸ªdetail.vueï¼Œå†™ç‚¹å†…å®¹ï¼Œå°†ä¼šè‡ªåŠ¨å»ºç«‹è·¯ç”±</p>
<p>çœ‹ä¸‹<code>/nuxt-demo/.nuxt/router.js</code><br>åœ°å€æ <code>http://localhost:3000/detail</code></p>
<h2 id="åŠ ä¸ªå¯¼èˆªæ "><a href="#åŠ ä¸ªå¯¼èˆªæ " class="headerlink" title="åŠ ä¸ªå¯¼èˆªæ "></a>åŠ ä¸ªå¯¼èˆªæ </h2><p>layouts/default.vueï¼Œ<code>nuxt</code>è¿™ä¸ªæ ‡ç­¾ç›¸å½“äº<code>router-view</code>ï¼Œ<code>nuxt-link</code>ç›¸å½“äº<code>router-link</code>ã€‚</p>
<p>è¿™é‡Œæ³¨æ„ï¼š</p>
<ul>
<li>å‰ç«¯è·³è½¬æ˜¯ä¸ç»è¿‡æœåŠ¡ç«¯çš„</li>
<li>åˆ·æ–°é¡µé¢ä¼šé€šè¿‡æœåŠ¡ç«¯è¿”å›é¡µé¢çš„</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">to</span>=<span class="string">"/detail"</span>&gt;</span>è¯¦æƒ…é¡µé¢<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nuxt</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="å†™ä¸ª404é¡µé¢"><a href="#å†™ä¸ª404é¡µé¢" class="headerlink" title="å†™ä¸ª404é¡µé¢"></a>å†™ä¸ª404é¡µé¢</h2><p>layouts/error.vueï¼Œ<br>åŒæ—¶å°†è®¾ç½®è¿™ä¸ªé¡µé¢çš„layout</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- error.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    404</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// æŒ‡å®šå¸ƒå±€</span></span></span><br><span class="line"><span class="javascript">  layout:<span class="string">'notfound'</span></span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- notfound.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nuxt</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="é…ç½®åŠ¨æ€è·¯ç”±"><a href="#é…ç½®åŠ¨æ€è·¯ç”±" class="headerlink" title="é…ç½®åŠ¨æ€è·¯ç”±"></a>é…ç½®åŠ¨æ€è·¯ç”±</h2><p><code>/detail/1</code>çš„è¯ï¼Œå°±å»pagesæ–°å»ºä¸€ä¸ªdetailçš„æ–‡ä»¶å¤¹ï¼Œæ¥ä¸¤ä¸ªæ–‡ä»¶<code>index.vue _id.vue</code>ï¼Œindexå¯¹åº”æ²¡æœ‰å‚æ•°çš„ï¼Œæœ‰å‚æ•°çš„å¯¹åº”_id.vueï¼Œåå­—æ˜¯ä»€ä¹ˆæ‹¿åˆ°çš„å€¼å°±æ˜¯ä»€ä¹ˆ</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- _id.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;&#123;$route.params.id&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœåŠ¨æ€å€¼æœ‰ä¸¤ä¸ªï¼Œå°±å†æ¥ä¸ªæ–‡ä»¶å¤¹<code>detail/_id/_name.vue</code>ï¼Œè¿™æ ·ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯idï¼Œç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯name</p>
<h2 id="é¡µé¢åˆ‡æ¢åŠ¨ç”»"><a href="#é¡µé¢åˆ‡æ¢åŠ¨ç”»" class="headerlink" title="é¡µé¢åˆ‡æ¢åŠ¨ç”»"></a>é¡µé¢åˆ‡æ¢åŠ¨ç”»</h2><p>transitionè¿™ä¸ªæ ‡ç­¾åŒ…ä¸Šä»€ä¹ˆï¼Œnameå°±æ˜¯ç­‰ä¼šçš„ç±»åè¦ç”¨åˆ°çš„ï¼Œæ¯”å¦‚name=page</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page-enter-active</span>,<span class="selector-class">.page-leave-active</span>&#123;</span><br><span class="line">  <span class="attribute">transition</span>:opacity .<span class="number">5s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page-enter</span>,<span class="selector-class">.page-leave-active</span>&#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>transitionå¯ä»¥åœ¨é…ç½®æ–‡ä»¶åŠ <code>transtion:&#39;page&#39;</code>ï¼Œä¹Ÿå¯ä»¥åœ¨å•ä¸ªé¡µé¢ä½¿ç”¨<code>transtion:&#39;page&#39;</code></p>
<h2 id="ä¸­é—´å±‚"><a href="#ä¸­é—´å±‚" class="headerlink" title="ä¸­é—´å±‚"></a>ä¸­é—´å±‚</h2><p>å¸Œæœ›å»å“ªäº›é¡µé¢çš„æ—¶å€™ï¼Œç»Ÿä¸€åšæŸäº›äº‹ã€‚</p>
<p>ä¸‰ç§é…ç½®æ–¹å¼ï¼š</p>
<ul>
<li>nuxt.config.jsé…ç½®çš„è¯ï¼Œåªè¦é¡µé¢åˆ‡æ¢äº†éƒ½ä¼šæ‰§è¡Œ</li>
<li>layout</li>
<li>page/child</li>
</ul>
<p>èƒ½å†³å®šèƒ½ä¸èƒ½å»å“ªä¸ªç»„ä»¶çš„æƒé™ã€‚</p>
<p>configï¼š</p>
<ol>
<li>å…ˆå»configé‡ŒåŠ ä¸ªrouter</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// nuxt.config.js</span></span><br><span class="line">router:&#123;</span><br><span class="line">  middleware:[<span class="string">'router'</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ç„¶åå»middlewareé‚£è¾¹å†™å‡½æ•°</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// middleware/router.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt;&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'è·¯ç”±åˆ‡æ¢æ—¶æ‰§è¡Œ'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>layoutï¼š</p>
<ol>
<li>layouts/default.vueé‡Œ</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">middleware:[<span class="string">'layout'</span>]</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ç„¶åå»middlewareé‚£è¾¹å†™å‡½æ•°</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// middleware/layout.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt;&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'è·¯ç”±åˆ‡æ¢æ—¶æ‰§è¡Œ'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>pageï¼š</p>
<ol>
<li>pages/detail/index.vueé‡Œ</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">middleware:[<span class="string">'page'</span>]</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ç„¶åå»middlewareé‚£è¾¹å†™å‡½æ•°</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// middleware/page.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt;&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'è·¯ç”±åˆ‡æ¢æ—¶æ‰§è¡Œ'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€å¸¸ç”¨çš„æ˜¯configçš„routerå’Œé¡µé¢é‡Œã€‚</p>
<h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><p><a href="https://axios.nuxtjs.org/setup" target="_blank" rel="noopener">åŠ å…¥axios</a>ï¼Œ<code>yarn add @nuxtjs/axios</code><br>mountedæ˜¯ç­‰å¾…domåŠ è½½å®Œæˆï¼Œåªèƒ½åœ¨æµè§ˆå™¨ç«¯ä½¿ç”¨ã€‚æœåŠ¡ç«¯åªèƒ½ç”¨beforeCreateå’Œcreatedï¼Œåªèƒ½è¯·æ±‚æ•°æ®ã€‚<br>asyncDataåœ¨æµè§ˆå™¨ç«¯å’ŒæœåŠ¡ç«¯éƒ½èƒ½æ‰§è¡Œçš„æ–¹æ³•ã€‚</p>
<ul>
<li>å®¢æˆ·ç«¯æ‰§è¡Œä¼šå°†è¿”å›çš„ç»“æœåˆå¹¶åˆ°dataä¸Š</li>
<li>æœåŠ¡ç«¯æ‰§è¡Œä¼šè·å–æ•°æ®</li>
<li>asyncDataåªèƒ½å†™åœ¨pages/é‡Œé¢çš„æ–‡ä»¶ï¼Œé¡µé¢ç»„ä»¶æ‰æœ‰</li>
<li>ç”±äºasyncDataæ–¹æ³•æ˜¯åœ¨ç»„ä»¶ åˆå§‹åŒ– å‰è¢«è°ƒç”¨çš„ï¼Œæ‰€ä»¥åœ¨æ–¹æ³•å†…æ˜¯æ²¡æœ‰åŠæ³•é€šè¿‡ this æ¥å¼•ç”¨ç»„ä»¶çš„å®ä¾‹å¯¹è±¡ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> asyncData(context)&#123;</span><br><span class="line">  <span class="comment">// [ "isStatic", "isDev", "isHMR", "app", "payload", "error", "base", "env", "redirect", "nuxtState", "route", "next", "_redirected", "_errored", "params", "query", "from" ,"$axios"]</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(context))</span><br><span class="line">  <span class="keyword">let</span> &#123;$axios&#125; = context</span><br><span class="line">  <span class="keyword">let</span> &#123;data&#125; = <span class="keyword">await</span> $axios.get(<span class="string">'http://10.73.33.84:3200/api/user'</span>)</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    name:data.name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>fetchä¸è¿”å›ç»“æœï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½æ‰§è¡Œï¼Œä¸€èˆ¬æ“ä½œvuex</p>
<p>æƒ³çœç•¥resçš„è¯ï¼Œ<a href="https://axios.nuxtjs.org/extend" target="_blank" rel="noopener">æ’ä»¶åŒ–axios</a>ï¼Œå†™ä¸ªå“åº”æ‹¦æˆª</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (context) =&gt;&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;$axios,redirect&#125; = context</span><br><span class="line">  <span class="comment">// è¯·æ±‚æ‹¦æˆª</span></span><br><span class="line">  $axios.onRequest(<span class="function"><span class="params">config</span>=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// å“åº”æ‹¦æˆª</span></span><br><span class="line">  $axios.onResponse(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(res.data)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åšä¸ªloginçš„åŠŸèƒ½"><a href="#åšä¸ªloginçš„åŠŸèƒ½" class="headerlink" title="åšä¸ªloginçš„åŠŸèƒ½"></a>åšä¸ªloginçš„åŠŸèƒ½</h2><h3 id="æ­ä¸ªè„šæ‰‹æ¶"><a href="#æ­ä¸ªè„šæ‰‹æ¶" class="headerlink" title="æ­ä¸ªè„šæ‰‹æ¶"></a>æ­ä¸ªè„šæ‰‹æ¶</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx create-nuxt-app nuxt-login-demo</span><br><span class="line"><span class="built_in">cd</span> nuxt-login-demo</span><br><span class="line">yarn dev</span><br></pre></td></tr></table></figure>
<h3 id="å¤§çš„å¸ƒå±€"><a href="#å¤§çš„å¸ƒå±€" class="headerlink" title="å¤§çš„å¸ƒå±€"></a>å¤§çš„å¸ƒå±€</h3><p>elementçš„containerã€‚<br>layouts/default.vue<br>pages/index.vue<br>æ”¾logo menuï¼Œå¯¼èˆªèœå•æ˜¯è·¯ç”±æ¨¡å¼<br>åŒæ—¶å»ºå‡ ä¸ªé¡µé¢</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-header</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-row</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">"3"</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!-- logo --&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"@/assets/logo.png"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">"15"</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!-- nav --&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">:default-active</span>=<span class="string">"activeIndex"</span> <span class="attr">class</span>=<span class="string">"el-menu-demo"</span> <span class="attr">mode</span>=<span class="string">"horizontal"</span> <span class="attr">:router</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">"/"</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">"/profile"</span>&gt;</span>ä¸ªäººä¸­å¿ƒ<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">"6"</span>&gt;</span></span><br><span class="line">              <span class="comment">&lt;!-- ç™»å½• --&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav-right"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">to</span>=<span class="string">"/login"</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">to</span>=<span class="string">"/register"</span>&gt;</span>æ³¨å†Œ<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-col</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-row</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nuxt</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-footer</span>&gt;</span></span><br><span class="line">          å°¾éƒ¨</span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-footer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="undefined">  data()&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      activeIndex:<span class="keyword">this</span>.$route.path</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">*&#123;</span></span><br><span class="line"><span class="undefined">  padding: 0;</span></span><br><span class="line"><span class="undefined">  margin: 0;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.el-main</span>&#123;</span></span><br><span class="line"><span class="undefined">  min-height: calc( 100vh - 120px)</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.el-footer</span>&#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">background</span>: <span class="selector-id">#2a2a2a</span>;</span></span><br><span class="line"><span class="undefined">  text-align: center;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="undefined">  line-height: 60px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åŠ ä¸ªpluginsï¼Œaxiosã€‚å‚ç…§ä¸Šé¢çš„æ­¥éª¤ã€‚<br>nuxt.config.jsé‡Œçš„moduleï¼Œçœ‹ä¸‹@nuxtjs/axiosï¼Œå¯ä»¥çœ‹åˆ°plugin.jsé‡ŒåŠ äº†<code>ctx.$axios = axios</code>ï¼ŒåŒæ—¶injectï¼Œæ˜¯åœ¨ctx.app.axioså’Œthis.$axiosæ·»åŠ äº†æŒ‡é’ˆã€‚</p>
<p>æ¥ç€å†™æ³¨å†Œçš„é€»è¾‘ï¼Œajaxã€‚</p>
<h2 id="å†™æœåŠ¡ç«¯æ³¨å†Œçš„é€»è¾‘ï¼Œå°†sessionå­˜åˆ°redisä¸­"><a href="#å†™æœåŠ¡ç«¯æ³¨å†Œçš„é€»è¾‘ï¼Œå°†sessionå­˜åˆ°redisä¸­" class="headerlink" title="å†™æœåŠ¡ç«¯æ³¨å†Œçš„é€»è¾‘ï¼Œå°†sessionå­˜åˆ°redisä¸­"></a>å†™æœåŠ¡ç«¯æ³¨å†Œçš„é€»è¾‘ï¼Œå°†sessionå­˜åˆ°redisä¸­</h2><p>serveræ–‡ä»¶å¤¹ã€‚é¦–å…ˆå®‰è£…<code>yarn add body-parser mongoose express-session redis connect-redis</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// server/index.js</span></span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">'body-parser'</span>)</span><br><span class="line"><span class="keyword">const</span> session = <span class="built_in">require</span>(<span class="string">'express-session'</span>)</span><br><span class="line"><span class="comment">// ä½¿ç”¨sessionï¼Œç”¨rediså­˜å‚¨session</span></span><br><span class="line"><span class="keyword">const</span> RedisStore = <span class="built_in">require</span>(<span class="string">'connect-redis'</span>)(session)</span><br><span class="line"><span class="keyword">const</span> redisClient = <span class="built_in">require</span>(<span class="string">'redis'</span>).createClient()</span><br><span class="line"><span class="comment">// è§£æè¯·æ±‚ä½“</span></span><br><span class="line">app.use(bodyParser.json())</span><br><span class="line"><span class="comment">// è®¾ç½®sessioné…ç½® https://github.com/tj/connect-redis</span></span><br><span class="line">app.use(session(&#123;</span><br><span class="line">  <span class="comment">// é»˜è®¤å·²è¿æ¥æœåŠ¡å™¨å°±æŠŠsessionå­˜åˆ°redisä¸­</span></span><br><span class="line">  store:<span class="keyword">new</span> RedisStore(&#123;<span class="attr">host</span>:<span class="string">'127.0.0.1'</span>,<span class="attr">port</span>:<span class="number">6379</span>,<span class="attr">client</span>:redisClient&#125;),</span><br><span class="line">  <span class="comment">// saveUninitialized:true,</span></span><br><span class="line">  resave:<span class="literal">false</span>,</span><br><span class="line">  secret:<span class="string">'hua'</span>,</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>
<p>ä¹‹åç»ˆç«¯ä¾æ¬¡å¯åŠ¨</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">redis-server</span><br><span class="line">redis-cli</span><br><span class="line">sudo mongod</span><br><span class="line"><span class="comment"># å ç”¨çš„è¯</span></span><br><span class="line"><span class="comment"># sudo lsof -i:27017</span></span><br><span class="line"><span class="comment"># kill [pid]</span></span><br><span class="line">mongo</span><br></pre></td></tr></table></figure>
<p>redis-cliçš„çª—å£é‡Œè¿è¡Œ<code>keys *;åˆ·æ–°é¡µé¢ï¼Œå­˜äº†session;keys * ;get sess:OEZ5NTQz8IVRlZzYRXUIM2mhp3RU8yvD</code><br>æœ‰ä¸ªå¾ˆå¥½çš„æ–‡ç« <a href="https://techblog.toutiao.com/2018/08/13/untitled-52/" target="_blank" rel="noopener">nodeä¸­SessionæŒä¹…åŒ–ä¸Redisç¼“å­˜</a></p>
<h2 id="æœåŠ¡ç«¯å»ºç«‹è·¯ç”±"><a href="#æœåŠ¡ç«¯å»ºç«‹è·¯ç”±" class="headerlink" title="æœåŠ¡ç«¯å»ºç«‹è·¯ç”±"></a>æœåŠ¡ç«¯å»ºç«‹è·¯ç”±</h2><p>server/routes/user.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// server/routes/user.js</span></span><br><span class="line"><span class="keyword">let</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">let</span> router = express.Router()</span><br><span class="line">router.get(<span class="string">'/test'</span>,(req,res)=&gt;&#123;</span><br><span class="line">  res.json(&#123;<span class="attr">code</span>:<span class="number">1</span>&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">module</span>.exports = router</span><br><span class="line"><span class="comment">// server/index.js</span></span><br><span class="line"><span class="keyword">let</span> user = <span class="built_in">require</span>(<span class="string">'./routes/user'</span>)</span><br><span class="line">app.use(<span class="string">'/user'</span>,user)</span><br><span class="line"><span class="comment">// æµè§ˆå™¨æ‰“å¼€ http://localhost:3000/user/test</span></span><br></pre></td></tr></table></figure>
<h2 id="æ·»åŠ æ•°æ®åº“"><a href="#æ·»åŠ æ•°æ®åº“" class="headerlink" title="æ·»åŠ æ•°æ®åº“"></a>æ·»åŠ æ•°æ®åº“</h2><p>è¿™é‡Œéœ€è¦æ‰“å¼€robot 3T</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// server/db/user.js</span></span><br><span class="line"><span class="keyword">let</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>)</span><br><span class="line"><span class="comment">// è¿™é‡Œéœ€è¦æ‰“å¼€robot 3T</span></span><br><span class="line"><span class="keyword">let</span> conn = mongoose.createConnection(<span class="string">'mongodb://127.0.0.1:27017/hua'</span>)</span><br><span class="line"><span class="comment">// éª¨æ¶</span></span><br><span class="line"><span class="keyword">let</span> UserSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">  username:<span class="built_in">String</span>,</span><br><span class="line">  password:<span class="built_in">String</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¨¡å‹ åº“çš„åå­—å°±æ˜¯ users</span></span><br><span class="line"><span class="built_in">module</span>.exports = conn.model(<span class="string">'User'</span>,UserSchema)</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºæ³¨å†Œç”¨æˆ·å°±æ˜¯æŸ¥åº“å’Œå‘åº“é‡Œæ·»åŠ æ•°æ®ï¼Œæ³¨å†Œçš„æ¥å£é‡å†™ä¸Š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// routes/user.js</span></span><br><span class="line"><span class="keyword">let</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">let</span> router = express.Router()</span><br><span class="line"><span class="keyword">let</span> User = <span class="built_in">require</span>(<span class="string">'../db/user'</span>);</span><br><span class="line">router.get(<span class="string">'/test'</span>,(req,res)=&gt;&#123;</span><br><span class="line">  res.json(&#123;<span class="attr">code</span>:<span class="number">1</span>&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">router.post(<span class="string">'/reg'</span>,<span class="keyword">async</span> (req,res)=&gt;&#123;</span><br><span class="line">  <span class="comment">// æ‹¿åˆ°ç”¨æˆ·åå¯†ç </span></span><br><span class="line">  <span class="keyword">let</span> &#123;username,password&#125; = req.body</span><br><span class="line">  <span class="comment">// çœ‹ä¸‹åº“é‡Œæœ‰æ²¡æœ‰è¿™ä¸ªç”¨æˆ·</span></span><br><span class="line">  <span class="keyword">let</span> r = <span class="keyword">await</span> User.findOne(&#123;username&#125;)</span><br><span class="line">  <span class="comment">// æœ‰è¡¨ç¤ºå·²æ³¨å†Œï¼Œæ— å°±åˆ›å»º</span></span><br><span class="line">  <span class="keyword">if</span>(r)&#123;</span><br><span class="line">    res.json(&#123;</span><br><span class="line">      code:<span class="number">1</span>,</span><br><span class="line">      data:<span class="string">'ç”¨æˆ·å·²è¢«æ³¨å†Œ'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> user = <span class="keyword">await</span> User.create(&#123;username,password&#125;)</span><br><span class="line">    res.json(&#123;</span><br><span class="line">      code:<span class="number">0</span>,</span><br><span class="line">      data:<span class="string">'æ³¨å†ŒæˆåŠŸ'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  res.json(&#123;<span class="attr">code</span>:<span class="number">1</span>&#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">module</span>.exports = router</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•æ¥å£ï¼Œä¸ç”¨é¡µé¢ï¼Œç”¨postman<br>æ³¨å†Œåå°çš„æ¥å£æ˜¯ ç”¨æˆ·ååœ¨åº“é‡Œæç¤ºå·²å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ›å»ºå¹¶æç¤ºæˆåŠŸ<br>å‰ç«¯è¯·æ±‚æ¥å£ï¼ŒæˆåŠŸè·³è½¬ç™»å½•é¡µï¼Œå¤±è´¥æç¤º</p>
<p>ç™»å½•åå°çš„æ¥å£æ˜¯ ç”¨æˆ·åå¯†ç åœ¨åº“é‡Œæ­£ç¡®å°±ç™»å½•ä¸”å­˜å‚¨ä¼šè¯ï¼Œä¸å­˜åœ¨æç¤º<br>å‰ç«¯è¯·æ±‚æ¥å£ï¼ŒæˆåŠŸç”¨ <code>window.location.href</code>è¿›è¡Œè·³è½¬ï¼Œèµ°æœåŠ¡ç«¯</p>
<p>è¿™é‡Œå¯ä»¥åˆ°storeæ–‡ä»¶å¤¹ï¼Œå› ä¸ºèµ°æœåŠ¡ç«¯ï¼Œä¼šè‡ªåŠ¨è§¦å‘storeé‡Œactionçš„nuxtServerInitæ–¹æ³•ï¼Œé‡Œé¢å°†userè‡ªåŠ¨èµ‹å€¼ï¼Œè¿™æ ·æ¯æ¬¡åˆ·æ–°é¡µé¢ä¹Ÿä¸ç”¨æ€•äº†ã€‚è¿™é‡Œæœ€å¥½é‡æ–°å¯åŠ¨<code>yarn dev</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store/index.js</span></span><br><span class="line"><span class="comment">// 1.è®¾ç½®vuexä¸­çš„çŠ¶æ€ï¼Œä»¥å‰å†™éœ€è¦å¼•ç”¨vuexï¼Œè¿™è¾¹ä¸ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> state = <span class="function"><span class="params">()</span>=&gt;</span>(&#123;</span><br><span class="line">  username:<span class="string">''</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getters = &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mutations = &#123;</span><br><span class="line">  setUser(state,username)&#123;</span><br><span class="line">   state.username = username</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="comment">// æœåŠ¡ç«¯ä¼šé»˜è®¤è°ƒç”¨æ­¤æ–¹æ³•</span></span><br><span class="line">  nuxtServerInit(&#123;commit&#125;,&#123; req &#125;) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'xxx'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(req.session)</span><br><span class="line">    <span class="keyword">if</span>(req.session.user)&#123;</span><br><span class="line">      commit(<span class="string">'setUser'</span>,req.session.user.username)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è®¾ç½®ä¸ªäººä¸­å¿ƒ<code>this.$store.state.username</code>ï¼ŒåŒä¸€ä¼šè¯é‡Œï¼Œæ¯æ¬¡åˆ·æ–°éƒ½æ²¡å…³ç³»ï¼Œå› ä¸ºç™»å½•å°±æœ‰cookieï¼Œcookieåœ¨sessioné‡Œï¼Œæ­¤æ—¶å»<code>redis-cli</code>é‡Œï¼Œ<code>keys *;get sess:5tcN7MK1ePG4AZPJupNu_BJiSPJSRaYT</code>èƒ½çœ‹åˆ°sessionçš„çŠ¶æ€ï¼Œ<code>flushall</code>å°±ä¼šæ¸…ç©ºï¼Œå°±å¤±å»ç™»å½•çŠ¶æ€ã€‚</p>
<h2 id="æ ¡éªŒç”¨æˆ·æƒé™"><a href="#æ ¡éªŒç”¨æˆ·æƒé™" class="headerlink" title="æ ¡éªŒç”¨æˆ·æƒé™"></a>æ ¡éªŒç”¨æˆ·æƒé™</h2><p>ä¸ªäººä¸­å¿ƒçš„é¡µé¢ä¸ç™»å½•çœ‹ä¸åˆ°ã€‚è¿™æ—¶å€™éœ€è¦ä¸­é—´å±‚ã€‚</p>
<p>ä¸­é—´å±‚ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½ä¼šèµ°ï¼Œæ‰€ä»¥é‡Œé¢çš„å‚æ•°å°½é‡æ˜¯é€šç”¨çš„ã€‚</p>
<p>æš‚æ—¶æ˜¯ä¸ªäººä¸­å¿ƒé¡µé¢ä½¿ç”¨ä¸­é—´å±‚ï¼Œæ‰€ä»¥ç›´æ¥åœ¨é¡µé¢ä¸Šå†™å°±å¯ä»¥äº†ï¼Œè¡¨ç¤ºè¿›æ¥é¡µé¢çš„æ—¶å€™å…ˆèµ°ä¸­é—´å±‚ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// middleware/auth.js</span></span><br><span class="line"><span class="comment">// æ ¡éªŒç”¨æˆ·æƒé™</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°æ˜¯context</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123;store,redirect&#125;) =&gt;&#123;</span><br><span class="line">  <span class="comment">// å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½ä¼šæ‰§è¡Œ</span></span><br><span class="line">  <span class="keyword">if</span>(!store.state.username)&#123;</span><br><span class="line">    <span class="comment">// æ²¡æœ‰ç™»å½•å°±è·³è½¬é¦–é¡µ</span></span><br><span class="line">    redirect(<span class="string">'/'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    ä¸ªäººä¸­å¿ƒ&#123;&#123;this.$store.state.username&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  middleware:<span class="string">'auth'</span></span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç™»å½•å =ã€‹ åœ¨åç«¯æŠŠsessionå­˜èµ·æ¥ =ã€‹ åªè¦åˆ·æ–°é¡µé¢æŠŠsessionçš„ç”¨æˆ·åæ”¾åˆ°äº†vuexä¸­ =ã€‹ ç›¸å½“äºæŠŠåç«¯çš„sessionå­˜åˆ°äº†vuexä¸­ï¼Œå¦‚æœvuexä¸­æœ‰ç”¨æˆ·åå°±æ˜¯ç™»å½•è¿‡äº†</p>
<p>é€€å‡ºç™»å½•ï¼š</p>
<ul>
<li><code>window.location.href=&quot;/loginout&quot;</code></li>
<li>fetchå‘ä¸€ä¸ªè¯·æ±‚ æŠŠsessionæ¸…ç©º å†å‘ä¸€ä¸ªæ¸…ç©ºvuexçš„æ–¹æ³•</li>
</ul>
<p>ä¸€ä¸ªæµè§ˆå™¨ä¸€ä¸ªsessionã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://omizt4opc.bkt.clouddn.com/avatar.jpg"
               alt="frontzhm" />
          <p class="site-author-name" itemprop="name">frontzhm</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">262</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">39</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">54</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">frontzhm</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"frontzhm"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  













  
  

  

  

  

  


  

</body>
</html>
